{
  "collection": {
    "_": {
      "postman_id": "bd515596-1c6f-4050-80ef-d2e9da663180"
    },
    "item": [
      {
        "id": "c36f6790-2c4c-44dd-b926-e805020272e6",
        "name": "List Users",
        "request": {
          "url": {
            "path": [
              "users"
            ],
            "host": [
              "{{baseURL}}"
            ],
            "query": [],
            "variable": []
          },
          "method": "GET"
        },
        "response": [
          {
            "_": {
              "postman_previewlanguage": "json"
            },
            "id": "d3d2f8b7-9f5b-4304-8dbd-5bdbcbf13c1e",
            "name": "Example User List",
            "originalRequest": {
              "url": {
                "path": [
                  "users"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "method": "GET"
            },
            "status": "OK",
            "code": 200,
            "header": [],
            "body": "[{\"id\":1,\"name\":\"Alice\",\"email\":\"alice@example.com\"},{\"id\":2,\"name\":\"Bob\",\"email\":\"bob@example.com\"}]",
            "cookie": []
          }
        ],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "2a2c39aa-365b-4c21-94e5-ead21d2ab3c7",
              "type": "text/javascript",
              "packages": {},
              "exec": [
                "// List Users - GET /users",
                "pm.test(\"Status code is 200\", function () {",
                "    pm.response.to.have.status(200);",
                "});",
                "",
                "pm.test(\"Response is an array of users\", function () {",
                "    const json = pm.response.json();",
                "    pm.expect(Array.isArray(json)).to.be.true;",
                "});",
                "",
                "pm.test(\"Each user has id, name, and email\", function () {",
                "    const json = pm.response.json();",
                "    json.forEach(user => {",
                "        pm.expect(user).to.have.property(\"id\");",
                "        pm.expect(user).to.have.property(\"name\");",
                "        pm.expect(user).to.have.property(\"email\");",
                "    });",
                "});",
                "",
                "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                "    if (pm.response.code >= 400) {",
                "        let body;",
                "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                "        pm.expect(body).to.be.an(\"object\");",
                "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                "    }",
                "});",
                "",
                "// Extract and save user_id for workflow chaining",
                "if (pm.response.code === 200) {",
                "    const json = pm.response.json();",
                "    let userId = null;",
                "    ",
                "    // Handle different response structures",
                "    if (Array.isArray(json) && json.length > 0) {",
                "        // Response is an array of users - get first user's id",
                "        userId = json[0].id;",
                "    } else if (json && json.users && Array.isArray(json.users) && json.users.length > 0) {",
                "        // Response is an object with a users array",
                "        userId = json.users[0].id;",
                "    } else if (json && json.id) {",
                "        // Response is a single user object",
                "        userId = json.id;",
                "    }",
                "    ",
                "    if (userId !== null && userId !== undefined) {",
                "        pm.collectionVariables.set(\"user_id\", userId);",
                "        console.log(\"Saved user_id to collection variable:\", userId);",
                "    } else {",
                "        console.warn(\"Could not extract user_id from response\");",
                "    }",
                "}"
              ],
              "_lastExecutionId": "d428eae5-cef9-425a-a2c5-1524af695dae"
            }
          },
          {
            "listen": "prerequest",
            "script": {
              "id": "14d131a4-2690-4b11-9606-7a2a2205a905",
              "type": "text/javascript",
              "packages": {},
              "exec": [
                ""
              ],
              "_lastExecutionId": "1d9d1166-b551-4169-ae70-2e9f764486c4"
            }
          }
        ]
      },
      {
        "id": "d0d5b92f-a157-4076-a273-7cd7be31e61d",
        "name": "Get User Permissions",
        "request": {
          "url": {
            "path": [
              "users",
              "{{user_id}}",
              "permissions"
            ],
            "host": [
              "{{baseURL}}"
            ],
            "query": [],
            "variable": []
          },
          "method": "GET"
        },
        "response": [
          {
            "_": {
              "postman_previewlanguage": "json"
            },
            "id": "7dded541-98c0-46d8-9810-8d78ade5bb1c",
            "name": "Sample User Permissions",
            "originalRequest": {
              "url": {
                "path": [
                  "users",
                  "1",
                  "permissions"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "method": "GET"
            },
            "status": "OK",
            "code": 200,
            "header": [],
            "body": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":false}]",
            "cookie": []
          }
        ],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "7e155480-04f2-4aac-964a-f5d55c1fafe5",
              "type": "text/javascript",
              "packages": {},
              "exec": [
                "// Get User Permissions - GET /users/:userId/permissions",
                "pm.test(\"Status code is 200\", function () {",
                "    pm.response.to.have.status(200);",
                "});",
                "",
                "pm.test(\"Response is an array of permissions\", function () {",
                "    const json = pm.response.json();",
                "    pm.expect(Array.isArray(json)).to.be.true;",
                "});",
                "",
                "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                "    const json = pm.response.json();",
                "    json.forEach(p => {",
                "        pm.expect(p).to.have.property(\"permission\");",
                "        pm.expect(p).to.have.property(\"granted\");",
                "        pm.expect(p.granted).to.be.a(\"boolean\");",
                "    });",
                "});",
                "",
                "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                "    if (pm.response.code >= 400) {",
                "        let body;",
                "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                "        pm.expect(body).to.be.an(\"object\");",
                "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                "    }",
                "});"
              ],
              "_lastExecutionId": "dde87c4d-f961-4bbd-815a-36105df8f544"
            }
          },
          {
            "listen": "prerequest",
            "script": {
              "id": "19946b3c-9780-4ec3-a692-4b89d87c319b",
              "type": "text/javascript",
              "packages": {},
              "exec": [
                ""
              ],
              "_lastExecutionId": "08e52a87-ceb5-4fbd-9e85-99e44a7c9d07"
            }
          }
        ]
      },
      {
        "id": "064dcb96-31c1-45a9-aca1-75a344de354a",
        "name": "Update User Permissions",
        "request": {
          "url": {
            "path": [
              "users",
              ":userId",
              "permissions"
            ],
            "host": [
              "{{baseURL}}"
            ],
            "query": [],
            "variable": [
              {
                "description": {
                  "content": "The ID of the user whose permissions to update",
                  "type": "text/plain"
                },
                "type": "any",
                "value": "1",
                "key": "userId"
              }
            ]
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "method": "PUT",
          "body": {
            "mode": "raw",
            "raw": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]"
          }
        },
        "response": [
          {
            "_": {
              "postman_previewlanguage": "json"
            },
            "id": "66c5dc51-c86b-4015-84c1-77383a8b3494",
            "name": "Permissions Updated",
            "originalRequest": {
              "url": {
                "path": [
                  "users",
                  "1",
                  "permissions"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "PUT",
              "body": {
                "mode": "raw",
                "raw": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]"
              }
            },
            "status": "OK",
            "code": 200,
            "header": [],
            "body": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]",
            "cookie": []
          }
        ],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "f35e1b77-cd87-4700-aaa6-b1f125852c6d",
              "type": "text/javascript",
              "packages": {},
              "exec": [
                "// Update User Permissions - PUT /users/:userId/permissions",
                "pm.test(\"Status code is 200\", function () {",
                "    pm.response.to.have.status(200);",
                "});",
                "",
                "pm.test(\"Response is an array of permissions\", function () {",
                "    const json = pm.response.json();",
                "    pm.expect(Array.isArray(json)).to.be.true;",
                "});",
                "",
                "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                "    const json = pm.response.json();",
                "    json.forEach(p => {",
                "        pm.expect(p).to.have.property(\"permission\");",
                "        pm.expect(p).to.have.property(\"granted\");",
                "        pm.expect(p.granted).to.be.a(\"boolean\");",
                "    });",
                "});",
                "",
                "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                "    if (pm.response.code >= 400) {",
                "        let body;",
                "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                "        pm.expect(body).to.be.an(\"object\");",
                "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                "    }",
                "});"
              ],
              "_lastExecutionId": "cd9eaded-03dc-4ba2-bbe1-ecbbd752e908"
            }
          },
          {
            "listen": "prerequest",
            "script": {
              "id": "fa4695aa-a5bf-46d4-9b88-e6595d9cf764",
              "type": "text/javascript",
              "packages": {},
              "exec": [
                ""
              ],
              "_lastExecutionId": "579f1a0d-51f4-49d8-b853-dfa1f58d4d3f"
            }
          }
        ]
      },
      {
        "id": "d9aa22ec-bffa-4257-be24-c73fb5d7341a",
        "name": "List Permissions",
        "request": {
          "url": {
            "path": [
              "permissions"
            ],
            "host": [
              "{{baseURL}}"
            ],
            "query": [],
            "variable": []
          },
          "method": "GET"
        },
        "response": [
          {
            "_": {
              "postman_previewlanguage": "json"
            },
            "id": "f0bb0294-1f38-497a-baec-e50eb63f8b69",
            "name": "Permission Types",
            "originalRequest": {
              "url": {
                "path": [
                  "permissions"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "method": "GET"
            },
            "status": "OK",
            "code": 200,
            "header": [],
            "body": "[{\"permission\":\"read\"},{\"permission\":\"write\"},{\"permission\":\"admin\"}]",
            "cookie": []
          }
        ],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "fbe4ce27-58ea-4d40-9ee5-11477360e2b0",
              "type": "text/javascript",
              "exec": [
                "// List Permissions - GET /permissions",
                "pm.test(\"Status code is 200\", function () {",
                "    pm.response.to.have.status(200);",
                "});",
                "",
                "pm.test(\"Response is an array of permissions\", function () {",
                "    const json = pm.response.json();",
                "    pm.expect(Array.isArray(json)).to.be.true;",
                "});",
                "",
                "pm.test(\"Each permission object has 'permission'\", function () {",
                "    const json = pm.response.json();",
                "    json.forEach(p => {",
                "        pm.expect(p).to.have.property(\"permission\");",
                "    });",
                "});",
                "",
                "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                "    if (pm.response.code >= 400) {",
                "        let body;",
                "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                "        pm.expect(body).to.be.an(\"object\");",
                "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                "    }",
                "});"
              ],
              "_lastExecutionId": "e622739d-4d1d-4379-b644-971fdb74f95e"
            }
          },
          {
            "listen": "prerequest",
            "script": {
              "id": "ed435988-d76f-42bb-ac0a-0cf4ca6dd622",
              "type": "text/javascript",
              "exec": [
                ""
              ],
              "_lastExecutionId": "8b7f04b3-5142-417e-9d63-9f74c72f181e"
            }
          }
        ]
      },
      {
        "id": "b7655962-6be3-4b61-83b0-4afee7de803e",
        "name": "Grant User Permission",
        "request": {
          "url": {
            "path": [
              "users",
              "{{user_id}}",
              "permissions"
            ],
            "host": [
              "{{baseURL}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\"permission\":\"admin\",\"granted\":true}"
          }
        },
        "response": [
          {
            "_": {
              "postman_previewlanguage": "json"
            },
            "id": "1ec67290-915c-46b5-a859-feab0f54ec0b",
            "name": "Permission Granted",
            "originalRequest": {
              "url": {
                "path": [
                  "users",
                  "2",
                  "permissions"
                ],
                "host": [
                  "{{baseUrl}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\"permission\":\"admin\",\"granted\":true}"
              }
            },
            "status": "Created",
            "code": 201,
            "header": [],
            "body": "[{\"permission\":\"admin\",\"granted\":true}]",
            "cookie": []
          }
        ],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "d2ecd5b4-0083-4263-bc79-d229274f38f9",
              "type": "text/javascript",
              "packages": {},
              "exec": [
                "// Grant User Permission - POST /users/:userId/permissions",
                "pm.test(\"Status code is 200\", function () {",
                "    pm.response.to.have.status(200);",
                "});",
                "",
                "pm.test(\"Response is an array of permissions\", function () {",
                "    const json = pm.response.json();",
                "    pm.expect(Array.isArray(json)).to.be.true;",
                "});",
                "",
                "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                "    const json = pm.response.json();",
                "    json.forEach(p => {",
                "        pm.expect(p).to.have.property(\"permission\");",
                "        pm.expect(p).to.have.property(\"granted\");",
                "        pm.expect(p.granted).to.be.a(\"boolean\");",
                "    });",
                "});",
                "",
                "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                "    if (pm.response.code >= 400) {",
                "        let body;",
                "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                "        pm.expect(body).to.be.an(\"object\");",
                "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                "    }",
                "});"
              ],
              "_lastExecutionId": "d1178df8-2542-4101-8c68-7f139d867d9b"
            }
          },
          {
            "listen": "prerequest",
            "script": {
              "id": "ba9a31a1-37f2-4549-8600-e648aa1fa79c",
              "type": "text/javascript",
              "packages": {},
              "exec": [
                ""
              ],
              "_lastExecutionId": "fb134314-d070-47bf-8d80-d1c5b6aa46fc"
            }
          }
        ]
      },
      {
        "id": "0c92e2d2-f4e4-420d-963f-0bbd97e21ef2",
        "name": "Delete Users",
        "request": {
          "url": {
            "path": [
              "users"
            ],
            "host": [
              "{{baseURL}}"
            ],
            "query": [],
            "variable": []
          },
          "method": "DELETE"
        },
        "response": [],
        "event": []
      }
    ],
    "event": [],
    "variable": [
      {
        "id": "4cbe099e-b4e5-40a9-a2aa-7332e1a9c92d",
        "type": "any",
        "value": "https://api.example.com",
        "key": "baseUrl"
      },
      {
        "id": "61d8da22-e8dd-4f50-bf45-a0df1e74e6c6",
        "type": "any",
        "value": "https://api.example.com",
        "key": "baseURL"
      },
      {
        "id": "d9cf6d13-1a56-4aa6-90e1-779d0f4bd96e",
        "type": "any",
        "value": "1",
        "key": "user_id"
      }
    ],
    "info": {
      "_postman_id": "bd515596-1c6f-4050-80ef-d2e9da663180",
      "name": "User Permissions API",
      "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
      "description": {
        "content": "# User Permissions API\n\n## Overview\nThe User Permissions API provides endpoints to manage users and their permissions within your application. It allows you to list users, retrieve and update their permissions, and manage available permission types. This API is ideal for applications that require fine-grained access control and user management.\n\n## Base URL\n```\n{{baseUrl}}\n```\nSet the `baseUrl` variable in your Postman environment or collection variables to point to your API server (e.g., `https://api.example.com`).\n\n## Authentication\nThis API typically requires authentication (e.g., Bearer token or API key) to access protected endpoints. Add the appropriate `Authorization` header to your requests:\n```\nAuthorization: Bearer <your_token>\n```\n_If your implementation differs, update the authentication method accordingly._\n\n## Endpoints\n\n### 1. List Users\n- **Endpoint:** `GET /users`\n- **Description:** Retrieves a list of all users.\n- **Request Example:**\n  ```http\n  GET {{baseUrl}}/users\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"id\": 1, \"name\": \"Alice\", \"email\": \"alice@example.com\"},\n    {\"id\": 2, \"name\": \"Bob\", \"email\": \"bob@example.com\"}\n  ]\n  ```\n\n### 2. Get User Permissions\n- **Endpoint:** `GET /users/{userId}/permissions`\n- **Description:** Retrieves the permissions assigned to a specific user.\n- **Request Example:**\n  ```http\n  GET {{baseUrl}}/users/1/permissions\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"read\", \"granted\": true},\n    {\"permission\": \"write\", \"granted\": false}\n  ]\n  ```\n\n### 3. Update User Permissions\n- **Endpoint:** `PUT /users/{userId}/permissions`\n- **Description:** Updates the permissions for a specific user. Provide an array of permission objects.\n- **Request Example:**\n  ```http\n  PUT {{baseUrl}}/users/1/permissions\n  Content-Type: application/json\n\n  [\n    {\"permission\": \"read\", \"granted\": true},\n    {\"permission\": \"write\", \"granted\": true}\n  ]\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"read\", \"granted\": true},\n    {\"permission\": \"write\", \"granted\": true}\n  ]\n  ```\n\n### 4. List Permissions\n- **Endpoint:** `GET /permissions`\n- **Description:** Lists all available permission types in the system.\n- **Request Example:**\n  ```http\n  GET {{baseUrl}}/permissions\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"read\"},\n    {\"permission\": \"write\"},\n    {\"permission\": \"admin\"}\n  ]\n  ```\n\n### 5. Grant User Permission\n- **Endpoint:** `POST /users/{userId}/permissions`\n- **Description:** Grants a specific permission to a user. Provide the permission object in the request body.\n- **Request Example:**\n  ```http\n  POST {{baseUrl}}/users/2/permissions\n  Content-Type: application/json\n\n  {\"permission\": \"admin\", \"granted\": true}\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"admin\", \"granted\": true}\n  ]\n  ```\n\n## Error Handling\n- **400 Bad Request:** Invalid input or missing required fields.\n- **401 Unauthorized:** Authentication failed or missing credentials.\n- **403 Forbidden:** Insufficient permissions to perform the operation.\n- **404 Not Found:** Resource does not exist (e.g., user or permission not found).\n- **500 Internal Server Error:** Unexpected server error.\n\nError responses typically include a JSON object with an `error` or `message` field describing the issue:\n```json\n{\n  \"error\": \"Invalid user ID.\"\n}\n```\n\n## Additional Notes\n- All endpoints return JSON responses.\n- Ensure you set the `baseUrl` variable before making requests.\n- For further details, refer to individual request documentation and examples in this collection.\n",
        "type": "text/plain"
      }
    }
  },
  "environment": {
    "id": "e75452f7-d0a8-4296-8efe-a58975dc4f90",
    "values": []
  },
  "globals": {
    "id": "320f96d7-2bbb-49c7-b091-0aecb535ac45",
    "values": []
  },
  "run": {
    "stats": {
      "iterations": {
        "total": 1,
        "pending": 0,
        "failed": 0
      },
      "items": {
        "total": 6,
        "pending": 0,
        "failed": 0
      },
      "scripts": {
        "total": 10,
        "pending": 0,
        "failed": 0
      },
      "prerequests": {
        "total": 6,
        "pending": 0,
        "failed": 0
      },
      "requests": {
        "total": 6,
        "pending": 0,
        "failed": 6
      },
      "tests": {
        "total": 6,
        "pending": 0,
        "failed": 0
      },
      "assertions": {
        "total": 20,
        "pending": 0,
        "failed": 15
      },
      "testScripts": {
        "total": 5,
        "pending": 0,
        "failed": 0
      },
      "prerequestScripts": {
        "total": 5,
        "pending": 0,
        "failed": 0
      }
    },
    "timings": {
      "responseAverage": 0,
      "responseMin": 0,
      "responseMax": 0,
      "responseSd": 0,
      "dnsAverage": 0,
      "dnsMin": 0,
      "dnsMax": 0,
      "dnsSd": 0,
      "firstByteAverage": 0,
      "firstByteMin": 0,
      "firstByteMax": 0,
      "firstByteSd": 0,
      "started": 1767648245417,
      "completed": 1767648245539
    },
    "executions": [
      {
        "cursor": {
          "position": 0,
          "iteration": 0,
          "length": 6,
          "cycles": 1,
          "empty": false,
          "eof": false,
          "bof": true,
          "cr": false,
          "ref": "9d2eb463-80f5-4938-ac20-d84ac2ec5225",
          "httpRequestId": "9b56e54f-6fd6-4720-805d-218c3e471534"
        },
        "item": {
          "id": "c36f6790-2c4c-44dd-b926-e805020272e6",
          "name": "List Users",
          "request": {
            "url": {
              "path": [
                "users"
              ],
              "host": [
                "{{baseURL}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
              "id": "d3d2f8b7-9f5b-4304-8dbd-5bdbcbf13c1e",
              "name": "Example User List",
              "originalRequest": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "status": "OK",
              "code": 200,
              "header": [],
              "body": "[{\"id\":1,\"name\":\"Alice\",\"email\":\"alice@example.com\"},{\"id\":2,\"name\":\"Bob\",\"email\":\"bob@example.com\"}]",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "2a2c39aa-365b-4c21-94e5-ead21d2ab3c7",
                "type": "text/javascript",
                "packages": {},
                "exec": [
                  "// List Users - GET /users",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response is an array of users\", function () {",
                  "    const json = pm.response.json();",
                  "    pm.expect(Array.isArray(json)).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"Each user has id, name, and email\", function () {",
                  "    const json = pm.response.json();",
                  "    json.forEach(user => {",
                  "        pm.expect(user).to.have.property(\"id\");",
                  "        pm.expect(user).to.have.property(\"name\");",
                  "        pm.expect(user).to.have.property(\"email\");",
                  "    });",
                  "});",
                  "",
                  "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                  "    if (pm.response.code >= 400) {",
                  "        let body;",
                  "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                  "        pm.expect(body).to.be.an(\"object\");",
                  "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                  "    }",
                  "});",
                  "",
                  "// Extract and save user_id for workflow chaining",
                  "if (pm.response.code === 200) {",
                  "    const json = pm.response.json();",
                  "    let userId = null;",
                  "    ",
                  "    // Handle different response structures",
                  "    if (Array.isArray(json) && json.length > 0) {",
                  "        // Response is an array of users - get first user's id",
                  "        userId = json[0].id;",
                  "    } else if (json && json.users && Array.isArray(json.users) && json.users.length > 0) {",
                  "        // Response is an object with a users array",
                  "        userId = json.users[0].id;",
                  "    } else if (json && json.id) {",
                  "        // Response is a single user object",
                  "        userId = json.id;",
                  "    }",
                  "    ",
                  "    if (userId !== null && userId !== undefined) {",
                  "        pm.collectionVariables.set(\"user_id\", userId);",
                  "        console.log(\"Saved user_id to collection variable:\", userId);",
                  "    } else {",
                  "        console.warn(\"Could not extract user_id from response\");",
                  "    }",
                  "}"
                ],
                "_lastExecutionId": "d428eae5-cef9-425a-a2c5-1524af695dae"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "14d131a4-2690-4b11-9606-7a2a2205a905",
                "type": "text/javascript",
                "packages": {},
                "exec": [
                  ""
                ],
                "_lastExecutionId": "1d9d1166-b551-4169-ae70-2e9f764486c4"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "path": [
              "users"
            ],
            "host": [
              "api",
              "example",
              "com"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "3f76b220-3d91-45ed-a065-fb0ade60b906",
              "system": true
            },
            {
              "key": "Host",
              "value": "api.example.com",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET"
        },
        "id": "c36f6790-2c4c-44dd-b926-e805020272e6",
        "requestError": {
          "errno": -3008,
          "code": "ENOTFOUND",
          "syscall": "getaddrinfo",
          "hostname": "api.example.com"
        },
        "assertions": [
          {
            "assertion": "Status code is 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status code is 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:1)"
            }
          },
          {
            "assertion": "Response is an array of users",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 1,
              "test": "Response is an array of users",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:2:1)"
            }
          },
          {
            "assertion": "Each user has id, name, and email",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 2,
              "test": "Each user has id, name, and email",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:3:1)"
            }
          },
          {
            "assertion": "Handles 4xx/5xx errors with error/message field",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "b2de767b-a974-4bc1-a336-498c15718ad4",
          "length": 6,
          "cycles": 1,
          "position": 1,
          "iteration": 0,
          "httpRequestId": "a4b2811d-91d4-4675-ba02-3f95168c9e70"
        },
        "item": {
          "id": "d0d5b92f-a157-4076-a273-7cd7be31e61d",
          "name": "Get User Permissions",
          "request": {
            "url": {
              "path": [
                "users",
                "{{user_id}}",
                "permissions"
              ],
              "host": [
                "{{baseURL}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
              "id": "7dded541-98c0-46d8-9810-8d78ade5bb1c",
              "name": "Sample User Permissions",
              "originalRequest": {
                "url": {
                  "path": [
                    "users",
                    "1",
                    "permissions"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "status": "OK",
              "code": 200,
              "header": [],
              "body": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":false}]",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "7e155480-04f2-4aac-964a-f5d55c1fafe5",
                "type": "text/javascript",
                "packages": {},
                "exec": [
                  "// Get User Permissions - GET /users/:userId/permissions",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response is an array of permissions\", function () {",
                  "    const json = pm.response.json();",
                  "    pm.expect(Array.isArray(json)).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                  "    const json = pm.response.json();",
                  "    json.forEach(p => {",
                  "        pm.expect(p).to.have.property(\"permission\");",
                  "        pm.expect(p).to.have.property(\"granted\");",
                  "        pm.expect(p.granted).to.be.a(\"boolean\");",
                  "    });",
                  "});",
                  "",
                  "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                  "    if (pm.response.code >= 400) {",
                  "        let body;",
                  "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                  "        pm.expect(body).to.be.an(\"object\");",
                  "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                  "    }",
                  "});"
                ],
                "_lastExecutionId": "dde87c4d-f961-4bbd-815a-36105df8f544"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "19946b3c-9780-4ec3-a692-4b89d87c319b",
                "type": "text/javascript",
                "packages": {},
                "exec": [
                  ""
                ],
                "_lastExecutionId": "08e52a87-ceb5-4fbd-9e85-99e44a7c9d07"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "path": [
              "users",
              "1",
              "permissions"
            ],
            "host": [
              "api",
              "example",
              "com"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "c15ed418-0677-4bd1-9412-589a63f7f735",
              "system": true
            },
            {
              "key": "Host",
              "value": "api.example.com",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET"
        },
        "id": "d0d5b92f-a157-4076-a273-7cd7be31e61d",
        "requestError": {
          "errno": -3008,
          "code": "ENOTFOUND",
          "syscall": "getaddrinfo",
          "hostname": "api.example.com"
        },
        "assertions": [
          {
            "assertion": "Status code is 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status code is 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:2)"
            }
          },
          {
            "assertion": "Response is an array of permissions",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 1,
              "test": "Response is an array of permissions",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:2:2)"
            }
          },
          {
            "assertion": "Each permission object has 'permission' and 'granted'",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 2,
              "test": "Each permission object has 'permission' and 'granted'",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:3:2)"
            }
          },
          {
            "assertion": "Handles 4xx/5xx errors with error/message field",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "db59de33-606f-4b61-a99b-e4644aad2f10",
          "length": 6,
          "cycles": 1,
          "position": 2,
          "iteration": 0,
          "httpRequestId": "db714025-f385-41b3-b3ef-9a87081143a9"
        },
        "item": {
          "id": "064dcb96-31c1-45a9-aca1-75a344de354a",
          "name": "Update User Permissions",
          "request": {
            "url": {
              "path": [
                "users",
                ":userId",
                "permissions"
              ],
              "host": [
                "{{baseURL}}"
              ],
              "query": [],
              "variable": [
                {
                  "description": {
                    "content": "The ID of the user whose permissions to update",
                    "type": "text/plain"
                  },
                  "type": "any",
                  "value": "1",
                  "key": "userId"
                }
              ]
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "PUT",
            "body": {
              "mode": "raw",
              "raw": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]"
            }
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
              "id": "66c5dc51-c86b-4015-84c1-77383a8b3494",
              "name": "Permissions Updated",
              "originalRequest": {
                "url": {
                  "path": [
                    "users",
                    "1",
                    "permissions"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]"
                }
              },
              "status": "OK",
              "code": 200,
              "header": [],
              "body": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "f35e1b77-cd87-4700-aaa6-b1f125852c6d",
                "type": "text/javascript",
                "packages": {},
                "exec": [
                  "// Update User Permissions - PUT /users/:userId/permissions",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response is an array of permissions\", function () {",
                  "    const json = pm.response.json();",
                  "    pm.expect(Array.isArray(json)).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                  "    const json = pm.response.json();",
                  "    json.forEach(p => {",
                  "        pm.expect(p).to.have.property(\"permission\");",
                  "        pm.expect(p).to.have.property(\"granted\");",
                  "        pm.expect(p.granted).to.be.a(\"boolean\");",
                  "    });",
                  "});",
                  "",
                  "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                  "    if (pm.response.code >= 400) {",
                  "        let body;",
                  "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                  "        pm.expect(body).to.be.an(\"object\");",
                  "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                  "    }",
                  "});"
                ],
                "_lastExecutionId": "cd9eaded-03dc-4ba2-bbe1-ecbbd752e908"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "fa4695aa-a5bf-46d4-9b88-e6595d9cf764",
                "type": "text/javascript",
                "packages": {},
                "exec": [
                  ""
                ],
                "_lastExecutionId": "579f1a0d-51f4-49d8-b853-dfa1f58d4d3f"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "path": [
              "users",
              "1",
              "permissions"
            ],
            "host": [
              "api",
              "example",
              "com"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "2955d414-8755-4421-b96b-44a46120e781",
              "system": true
            },
            {
              "key": "Host",
              "value": "api.example.com",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "PUT",
          "body": {
            "mode": "raw",
            "raw": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]"
          }
        },
        "id": "064dcb96-31c1-45a9-aca1-75a344de354a",
        "requestError": {
          "errno": -3008,
          "code": "ENOTFOUND",
          "syscall": "getaddrinfo",
          "hostname": "api.example.com"
        },
        "assertions": [
          {
            "assertion": "Status code is 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status code is 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:3)"
            }
          },
          {
            "assertion": "Response is an array of permissions",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 1,
              "test": "Response is an array of permissions",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:2:3)"
            }
          },
          {
            "assertion": "Each permission object has 'permission' and 'granted'",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 2,
              "test": "Each permission object has 'permission' and 'granted'",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:3:3)"
            }
          },
          {
            "assertion": "Handles 4xx/5xx errors with error/message field",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "fec88736-497b-4057-b79a-72d46a51cefa",
          "length": 6,
          "cycles": 1,
          "position": 3,
          "iteration": 0,
          "httpRequestId": "cb6c5b74-f31e-4666-be13-ecfb28687d07"
        },
        "item": {
          "id": "d9aa22ec-bffa-4257-be24-c73fb5d7341a",
          "name": "List Permissions",
          "request": {
            "url": {
              "path": [
                "permissions"
              ],
              "host": [
                "{{baseURL}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
              "id": "f0bb0294-1f38-497a-baec-e50eb63f8b69",
              "name": "Permission Types",
              "originalRequest": {
                "url": {
                  "path": [
                    "permissions"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "status": "OK",
              "code": 200,
              "header": [],
              "body": "[{\"permission\":\"read\"},{\"permission\":\"write\"},{\"permission\":\"admin\"}]",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "fbe4ce27-58ea-4d40-9ee5-11477360e2b0",
                "type": "text/javascript",
                "exec": [
                  "// List Permissions - GET /permissions",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response is an array of permissions\", function () {",
                  "    const json = pm.response.json();",
                  "    pm.expect(Array.isArray(json)).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"Each permission object has 'permission'\", function () {",
                  "    const json = pm.response.json();",
                  "    json.forEach(p => {",
                  "        pm.expect(p).to.have.property(\"permission\");",
                  "    });",
                  "});",
                  "",
                  "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                  "    if (pm.response.code >= 400) {",
                  "        let body;",
                  "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                  "        pm.expect(body).to.be.an(\"object\");",
                  "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                  "    }",
                  "});"
                ],
                "_lastExecutionId": "e622739d-4d1d-4379-b644-971fdb74f95e"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "ed435988-d76f-42bb-ac0a-0cf4ca6dd622",
                "type": "text/javascript",
                "exec": [
                  ""
                ],
                "_lastExecutionId": "8b7f04b3-5142-417e-9d63-9f74c72f181e"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "path": [
              "permissions"
            ],
            "host": [
              "api",
              "example",
              "com"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "916ff516-6d03-4c70-87ae-c2c40f43bcbe",
              "system": true
            },
            {
              "key": "Host",
              "value": "api.example.com",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET"
        },
        "id": "d9aa22ec-bffa-4257-be24-c73fb5d7341a",
        "requestError": {
          "errno": -3008,
          "code": "ENOTFOUND",
          "syscall": "getaddrinfo",
          "hostname": "api.example.com"
        },
        "assertions": [
          {
            "assertion": "Status code is 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status code is 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:4)"
            }
          },
          {
            "assertion": "Response is an array of permissions",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 1,
              "test": "Response is an array of permissions",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:2:4)"
            }
          },
          {
            "assertion": "Each permission object has 'permission'",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 2,
              "test": "Each permission object has 'permission'",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:3:4)"
            }
          },
          {
            "assertion": "Handles 4xx/5xx errors with error/message field",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "e895a8f4-861a-484a-b9c7-537c87db36fd",
          "length": 6,
          "cycles": 1,
          "position": 4,
          "iteration": 0,
          "httpRequestId": "95645ba4-98bc-44b1-ba32-2db493e91006"
        },
        "item": {
          "id": "b7655962-6be3-4b61-83b0-4afee7de803e",
          "name": "Grant User Permission",
          "request": {
            "url": {
              "path": [
                "users",
                "{{user_id}}",
                "permissions"
              ],
              "host": [
                "{{baseURL}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\"permission\":\"admin\",\"granted\":true}"
            }
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
              "id": "1ec67290-915c-46b5-a859-feab0f54ec0b",
              "name": "Permission Granted",
              "originalRequest": {
                "url": {
                  "path": [
                    "users",
                    "2",
                    "permissions"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\"permission\":\"admin\",\"granted\":true}"
                }
              },
              "status": "Created",
              "code": 201,
              "header": [],
              "body": "[{\"permission\":\"admin\",\"granted\":true}]",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "d2ecd5b4-0083-4263-bc79-d229274f38f9",
                "type": "text/javascript",
                "packages": {},
                "exec": [
                  "// Grant User Permission - POST /users/:userId/permissions",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response is an array of permissions\", function () {",
                  "    const json = pm.response.json();",
                  "    pm.expect(Array.isArray(json)).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                  "    const json = pm.response.json();",
                  "    json.forEach(p => {",
                  "        pm.expect(p).to.have.property(\"permission\");",
                  "        pm.expect(p).to.have.property(\"granted\");",
                  "        pm.expect(p.granted).to.be.a(\"boolean\");",
                  "    });",
                  "});",
                  "",
                  "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                  "    if (pm.response.code >= 400) {",
                  "        let body;",
                  "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                  "        pm.expect(body).to.be.an(\"object\");",
                  "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                  "    }",
                  "});"
                ],
                "_lastExecutionId": "d1178df8-2542-4101-8c68-7f139d867d9b"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "ba9a31a1-37f2-4549-8600-e648aa1fa79c",
                "type": "text/javascript",
                "packages": {},
                "exec": [
                  ""
                ],
                "_lastExecutionId": "fb134314-d070-47bf-8d80-d1c5b6aa46fc"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "https",
            "path": [
              "users",
              "1",
              "permissions"
            ],
            "host": [
              "api",
              "example",
              "com"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "c4ecb191-47cc-44d9-8961-1f3ba6648302",
              "system": true
            },
            {
              "key": "Host",
              "value": "api.example.com",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\"permission\":\"admin\",\"granted\":true}"
          }
        },
        "id": "b7655962-6be3-4b61-83b0-4afee7de803e",
        "requestError": {
          "errno": -3008,
          "code": "ENOTFOUND",
          "syscall": "getaddrinfo",
          "hostname": "api.example.com"
        },
        "assertions": [
          {
            "assertion": "Status code is 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status code is 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:5)"
            }
          },
          {
            "assertion": "Response is an array of permissions",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 1,
              "test": "Response is an array of permissions",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:2:5)"
            }
          },
          {
            "assertion": "Each permission object has 'permission' and 'granted'",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 2,
              "test": "Each permission object has 'permission' and 'granted'",
              "message": "\"undefined\" is not valid JSON",
              "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:3:5)"
            }
          },
          {
            "assertion": "Handles 4xx/5xx errors with error/message field",
            "skipped": false
          }
        ]
      },
      {
        "cursor": {
          "ref": "a8be3dab-1988-4c70-ad9c-1b0cd551fd0d",
          "length": 6,
          "cycles": 1,
          "position": 5,
          "iteration": 0,
          "httpRequestId": "aea9eb79-8f1b-4dd8-a84d-a3aec2c53e49"
        },
        "item": {
          "id": "0c92e2d2-f4e4-420d-963f-0bbd97e21ef2",
          "name": "Delete Users",
          "request": {
            "url": {
              "path": [
                "users"
              ],
              "host": [
                "{{baseURL}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "DELETE"
          },
          "response": [],
          "event": []
        },
        "request": {
          "url": {
            "protocol": "https",
            "path": [
              "users"
            ],
            "host": [
              "api",
              "example",
              "com"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "a850bc3f-9e06-414b-a3b1-b003072f0583",
              "system": true
            },
            {
              "key": "Host",
              "value": "api.example.com",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "DELETE"
        },
        "id": "0c92e2d2-f4e4-420d-963f-0bbd97e21ef2",
        "requestError": {
          "errno": -3008,
          "code": "ENOTFOUND",
          "syscall": "getaddrinfo",
          "hostname": "api.example.com"
        }
      }
    ],
    "transfers": {
      "responseTotal": 0
    },
    "failures": [
      {
        "error": {
          "errno": -3008,
          "code": "ENOTFOUND",
          "syscall": "getaddrinfo",
          "hostname": "api.example.com",
          "name": "Error",
          "message": "getaddrinfo ENOTFOUND api.example.com",
          "stack": "Error: getaddrinfo ENOTFOUND api.example.com\n    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)",
          "checksum": "e6d98f61253e2bdc0f589410c34739e0",
          "id": "faeef73e-6ebc-41f8-b9c5-445b8c2403ca",
          "timestamp": 1767648245464,
          "stacktrace": [
            {
              "fileName": "node:dns",
              "lineNumber": 122,
              "functionName": "GetAddrInfoReqWrap.onlookupall [as oncomplete]",
              "typeName": "GetAddrInfoReqWrap",
              "methodName": "onlookupall [as oncomplete]",
              "columnNumber": 26,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "c36f6790-2c4c-44dd-b926-e805020272e6",
          "name": "List Users",
          "request": {
            "url": {
              "protocol": "https",
              "path": [
                "users"
              ],
              "host": [
                "api",
                "example",
                "com"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "3f76b220-3d91-45ed-a065-fb0ade60b906",
                "system": true
              },
              {
                "key": "Host",
                "value": "api.example.com",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "GET"
          },
          "response": [
            {
              "id": "d3d2f8b7-9f5b-4304-8dbd-5bdbcbf13c1e",
              "name": "Example User List",
              "originalRequest": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "https://api.example.com"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "status": "OK",
              "code": 200,
              "header": [],
              "body": "[{\"id\":1,\"name\":\"Alice\",\"email\":\"alice@example.com\"},{\"id\":2,\"name\":\"Bob\",\"email\":\"bob@example.com\"}]",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "2a2c39aa-365b-4c21-94e5-ead21d2ab3c7",
                "type": "text/javascript",
                "packages": {},
                "exec": [
                  "// List Users - GET /users",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response is an array of users\", function () {",
                  "    const json = pm.response.json();",
                  "    pm.expect(Array.isArray(json)).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"Each user has id, name, and email\", function () {",
                  "    const json = pm.response.json();",
                  "    json.forEach(user => {",
                  "        pm.expect(user).to.have.property(\"id\");",
                  "        pm.expect(user).to.have.property(\"name\");",
                  "        pm.expect(user).to.have.property(\"email\");",
                  "    });",
                  "});",
                  "",
                  "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                  "    if (pm.response.code >= 400) {",
                  "        let body;",
                  "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                  "        pm.expect(body).to.be.an(\"object\");",
                  "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                  "    }",
                  "});",
                  "",
                  "// Extract and save user_id for workflow chaining",
                  "if (pm.response.code === 200) {",
                  "    const json = pm.response.json();",
                  "    let userId = null;",
                  "    ",
                  "    // Handle different response structures",
                  "    if (Array.isArray(json) && json.length > 0) {",
                  "        // Response is an array of users - get first user's id",
                  "        userId = json[0].id;",
                  "    } else if (json && json.users && Array.isArray(json.users) && json.users.length > 0) {",
                  "        // Response is an object with a users array",
                  "        userId = json.users[0].id;",
                  "    } else if (json && json.id) {",
                  "        // Response is a single user object",
                  "        userId = json.id;",
                  "    }",
                  "    ",
                  "    if (userId !== null && userId !== undefined) {",
                  "        pm.collectionVariables.set(\"user_id\", userId);",
                  "        console.log(\"Saved user_id to collection variable:\", userId);",
                  "    } else {",
                  "        console.warn(\"Could not extract user_id from response\");",
                  "    }",
                  "}"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "14d131a4-2690-4b11-9606-7a2a2205a905",
                "type": "text/javascript",
                "packages": {},
                "exec": [
                  ""
                ]
              }
            }
          ]
        },
        "cursor": {
          "position": 0,
          "iteration": 0,
          "length": 6,
          "cycles": 1,
          "empty": false,
          "eof": false,
          "bof": true,
          "cr": false,
          "ref": "9d2eb463-80f5-4938-ac20-d84ac2ec5225",
          "httpRequestId": "9b56e54f-6fd6-4720-805d-218c3e471534"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status code is 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:1)",
          "checksum": "8f1a38fbb4708623aafe992d2647a097",
          "id": "b57c9bf0-f334-4c7f-a93a-48f93b2ff99f",
          "timestamp": 1767648245470,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 1,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "c36f6790-2c4c-44dd-b926-e805020272e6",
          "name": "List Users",
          "request": {
            "url": {
              "path": [
                "users"
              ],
              "host": [
                "{{baseURL}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
              "id": "d3d2f8b7-9f5b-4304-8dbd-5bdbcbf13c1e",
              "name": "Example User List",
              "originalRequest": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "status": "OK",
              "code": 200,
              "header": [],
              "body": "[{\"id\":1,\"name\":\"Alice\",\"email\":\"alice@example.com\"},{\"id\":2,\"name\":\"Bob\",\"email\":\"bob@example.com\"}]",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "2a2c39aa-365b-4c21-94e5-ead21d2ab3c7",
                "type": "text/javascript",
                "packages": {},
                "exec": [
                  "// List Users - GET /users",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response is an array of users\", function () {",
                  "    const json = pm.response.json();",
                  "    pm.expect(Array.isArray(json)).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"Each user has id, name, and email\", function () {",
                  "    const json = pm.response.json();",
                  "    json.forEach(user => {",
                  "        pm.expect(user).to.have.property(\"id\");",
                  "        pm.expect(user).to.have.property(\"name\");",
                  "        pm.expect(user).to.have.property(\"email\");",
                  "    });",
                  "});",
                  "",
                  "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                  "    if (pm.response.code >= 400) {",
                  "        let body;",
                  "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                  "        pm.expect(body).to.be.an(\"object\");",
                  "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                  "    }",
                  "});",
                  "",
                  "// Extract and save user_id for workflow chaining",
                  "if (pm.response.code === 200) {",
                  "    const json = pm.response.json();",
                  "    let userId = null;",
                  "    ",
                  "    // Handle different response structures",
                  "    if (Array.isArray(json) && json.length > 0) {",
                  "        // Response is an array of users - get first user's id",
                  "        userId = json[0].id;",
                  "    } else if (json && json.users && Array.isArray(json.users) && json.users.length > 0) {",
                  "        // Response is an object with a users array",
                  "        userId = json.users[0].id;",
                  "    } else if (json && json.id) {",
                  "        // Response is a single user object",
                  "        userId = json.id;",
                  "    }",
                  "    ",
                  "    if (userId !== null && userId !== undefined) {",
                  "        pm.collectionVariables.set(\"user_id\", userId);",
                  "        console.log(\"Saved user_id to collection variable:\", userId);",
                  "    } else {",
                  "        console.warn(\"Could not extract user_id from response\");",
                  "    }",
                  "}"
                ],
                "_lastExecutionId": "d428eae5-cef9-425a-a2c5-1524af695dae"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "14d131a4-2690-4b11-9606-7a2a2205a905",
                "type": "text/javascript",
                "packages": {},
                "exec": [
                  ""
                ],
                "_lastExecutionId": "1d9d1166-b551-4169-ae70-2e9f764486c4"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "bd515596-1c6f-4050-80ef-d2e9da663180"
          },
          "item": [
            {
              "id": "c36f6790-2c4c-44dd-b926-e805020272e6",
              "name": "List Users",
              "request": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "d3d2f8b7-9f5b-4304-8dbd-5bdbcbf13c1e",
                  "name": "Example User List",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "GET"
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"id\":1,\"name\":\"Alice\",\"email\":\"alice@example.com\"},{\"id\":2,\"name\":\"Bob\",\"email\":\"bob@example.com\"}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2a2c39aa-365b-4c21-94e5-ead21d2ab3c7",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// List Users - GET /users",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of users\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each user has id, name, and email\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(user => {",
                      "        pm.expect(user).to.have.property(\"id\");",
                      "        pm.expect(user).to.have.property(\"name\");",
                      "        pm.expect(user).to.have.property(\"email\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});",
                      "",
                      "// Extract and save user_id for workflow chaining",
                      "if (pm.response.code === 200) {",
                      "    const json = pm.response.json();",
                      "    let userId = null;",
                      "    ",
                      "    // Handle different response structures",
                      "    if (Array.isArray(json) && json.length > 0) {",
                      "        // Response is an array of users - get first user's id",
                      "        userId = json[0].id;",
                      "    } else if (json && json.users && Array.isArray(json.users) && json.users.length > 0) {",
                      "        // Response is an object with a users array",
                      "        userId = json.users[0].id;",
                      "    } else if (json && json.id) {",
                      "        // Response is a single user object",
                      "        userId = json.id;",
                      "    }",
                      "    ",
                      "    if (userId !== null && userId !== undefined) {",
                      "        pm.collectionVariables.set(\"user_id\", userId);",
                      "        console.log(\"Saved user_id to collection variable:\", userId);",
                      "    } else {",
                      "        console.warn(\"Could not extract user_id from response\");",
                      "    }",
                      "}"
                    ],
                    "_lastExecutionId": "d428eae5-cef9-425a-a2c5-1524af695dae"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "14d131a4-2690-4b11-9606-7a2a2205a905",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "1d9d1166-b551-4169-ae70-2e9f764486c4"
                  }
                }
              ]
            },
            {
              "id": "d0d5b92f-a157-4076-a273-7cd7be31e61d",
              "name": "Get User Permissions",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{user_id}}",
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "7dded541-98c0-46d8-9810-8d78ade5bb1c",
                  "name": "Sample User Permissions",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users",
                        "1",
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "GET"
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":false}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7e155480-04f2-4aac-964a-f5d55c1fafe5",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// Get User Permissions - GET /users/:userId/permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "        pm.expect(p).to.have.property(\"granted\");",
                      "        pm.expect(p.granted).to.be.a(\"boolean\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "dde87c4d-f961-4bbd-815a-36105df8f544"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "19946b3c-9780-4ec3-a692-4b89d87c319b",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "08e52a87-ceb5-4fbd-9e85-99e44a7c9d07"
                  }
                }
              ]
            },
            {
              "id": "064dcb96-31c1-45a9-aca1-75a344de354a",
              "name": "Update User Permissions",
              "request": {
                "url": {
                  "path": [
                    "users",
                    ":userId",
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": [
                    {
                      "description": {
                        "content": "The ID of the user whose permissions to update",
                        "type": "text/plain"
                      },
                      "type": "any",
                      "value": "1",
                      "key": "userId"
                    }
                  ]
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "66c5dc51-c86b-4015-84c1-77383a8b3494",
                  "name": "Permissions Updated",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users",
                        "1",
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      }
                    ],
                    "method": "PUT",
                    "body": {
                      "mode": "raw",
                      "raw": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]"
                    }
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f35e1b77-cd87-4700-aaa6-b1f125852c6d",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// Update User Permissions - PUT /users/:userId/permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "        pm.expect(p).to.have.property(\"granted\");",
                      "        pm.expect(p.granted).to.be.a(\"boolean\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "cd9eaded-03dc-4ba2-bbe1-ecbbd752e908"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "fa4695aa-a5bf-46d4-9b88-e6595d9cf764",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "579f1a0d-51f4-49d8-b853-dfa1f58d4d3f"
                  }
                }
              ]
            },
            {
              "id": "d9aa22ec-bffa-4257-be24-c73fb5d7341a",
              "name": "List Permissions",
              "request": {
                "url": {
                  "path": [
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "f0bb0294-1f38-497a-baec-e50eb63f8b69",
                  "name": "Permission Types",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "GET"
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"permission\":\"read\"},{\"permission\":\"write\"},{\"permission\":\"admin\"}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "fbe4ce27-58ea-4d40-9ee5-11477360e2b0",
                    "type": "text/javascript",
                    "exec": [
                      "// List Permissions - GET /permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "e622739d-4d1d-4379-b644-971fdb74f95e"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "ed435988-d76f-42bb-ac0a-0cf4ca6dd622",
                    "type": "text/javascript",
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "8b7f04b3-5142-417e-9d63-9f74c72f181e"
                  }
                }
              ]
            },
            {
              "id": "b7655962-6be3-4b61-83b0-4afee7de803e",
              "name": "Grant User Permission",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{user_id}}",
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\"permission\":\"admin\",\"granted\":true}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "1ec67290-915c-46b5-a859-feab0f54ec0b",
                  "name": "Permission Granted",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users",
                        "2",
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      }
                    ],
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\"permission\":\"admin\",\"granted\":true}"
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [],
                  "body": "[{\"permission\":\"admin\",\"granted\":true}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d2ecd5b4-0083-4263-bc79-d229274f38f9",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// Grant User Permission - POST /users/:userId/permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "        pm.expect(p).to.have.property(\"granted\");",
                      "        pm.expect(p.granted).to.be.a(\"boolean\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "d1178df8-2542-4101-8c68-7f139d867d9b"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "ba9a31a1-37f2-4549-8600-e648aa1fa79c",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "fb134314-d070-47bf-8d80-d1c5b6aa46fc"
                  }
                }
              ]
            },
            {
              "id": "0c92e2d2-f4e4-420d-963f-0bbd97e21ef2",
              "name": "Delete Users",
              "request": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": []
            }
          ],
          "event": [],
          "variable": [
            {
              "id": "4cbe099e-b4e5-40a9-a2aa-7332e1a9c92d",
              "type": "any",
              "value": "https://api.example.com",
              "key": "baseUrl"
            },
            {
              "id": "61d8da22-e8dd-4f50-bf45-a0df1e74e6c6",
              "type": "any",
              "value": "https://api.example.com",
              "key": "baseURL"
            },
            {
              "id": "d9cf6d13-1a56-4aa6-90e1-779d0f4bd96e",
              "type": "any",
              "value": "1",
              "key": "user_id"
            }
          ],
          "info": {
            "_postman_id": "bd515596-1c6f-4050-80ef-d2e9da663180",
            "name": "User Permissions API",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "# User Permissions API\n\n## Overview\nThe User Permissions API provides endpoints to manage users and their permissions within your application. It allows you to list users, retrieve and update their permissions, and manage available permission types. This API is ideal for applications that require fine-grained access control and user management.\n\n## Base URL\n```\n{{baseUrl}}\n```\nSet the `baseUrl` variable in your Postman environment or collection variables to point to your API server (e.g., `https://api.example.com`).\n\n## Authentication\nThis API typically requires authentication (e.g., Bearer token or API key) to access protected endpoints. Add the appropriate `Authorization` header to your requests:\n```\nAuthorization: Bearer <your_token>\n```\n_If your implementation differs, update the authentication method accordingly._\n\n## Endpoints\n\n### 1. List Users\n- **Endpoint:** `GET /users`\n- **Description:** Retrieves a list of all users.\n- **Request Example:**\n  ```http\n  GET {{baseUrl}}/users\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"id\": 1, \"name\": \"Alice\", \"email\": \"alice@example.com\"},\n    {\"id\": 2, \"name\": \"Bob\", \"email\": \"bob@example.com\"}\n  ]\n  ```\n\n### 2. Get User Permissions\n- **Endpoint:** `GET /users/{userId}/permissions`\n- **Description:** Retrieves the permissions assigned to a specific user.\n- **Request Example:**\n  ```http\n  GET {{baseUrl}}/users/1/permissions\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"read\", \"granted\": true},\n    {\"permission\": \"write\", \"granted\": false}\n  ]\n  ```\n\n### 3. Update User Permissions\n- **Endpoint:** `PUT /users/{userId}/permissions`\n- **Description:** Updates the permissions for a specific user. Provide an array of permission objects.\n- **Request Example:**\n  ```http\n  PUT {{baseUrl}}/users/1/permissions\n  Content-Type: application/json\n\n  [\n    {\"permission\": \"read\", \"granted\": true},\n    {\"permission\": \"write\", \"granted\": true}\n  ]\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"read\", \"granted\": true},\n    {\"permission\": \"write\", \"granted\": true}\n  ]\n  ```\n\n### 4. List Permissions\n- **Endpoint:** `GET /permissions`\n- **Description:** Lists all available permission types in the system.\n- **Request Example:**\n  ```http\n  GET {{baseUrl}}/permissions\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"read\"},\n    {\"permission\": \"write\"},\n    {\"permission\": \"admin\"}\n  ]\n  ```\n\n### 5. Grant User Permission\n- **Endpoint:** `POST /users/{userId}/permissions`\n- **Description:** Grants a specific permission to a user. Provide the permission object in the request body.\n- **Request Example:**\n  ```http\n  POST {{baseUrl}}/users/2/permissions\n  Content-Type: application/json\n\n  {\"permission\": \"admin\", \"granted\": true}\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"admin\", \"granted\": true}\n  ]\n  ```\n\n## Error Handling\n- **400 Bad Request:** Invalid input or missing required fields.\n- **401 Unauthorized:** Authentication failed or missing credentials.\n- **403 Forbidden:** Insufficient permissions to perform the operation.\n- **404 Not Found:** Resource does not exist (e.g., user or permission not found).\n- **500 Internal Server Error:** Unexpected server error.\n\nError responses typically include a JSON object with an `error` or `message` field describing the issue:\n```json\n{\n  \"error\": \"Invalid user ID.\"\n}\n```\n\n## Additional Notes\n- All endpoints return JSON responses.\n- Ensure you set the `baseUrl` variable before making requests.\n- For further details, refer to individual request documentation and examples in this collection.\n",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "position": 0,
          "iteration": 0,
          "length": 6,
          "cycles": 1,
          "empty": false,
          "eof": false,
          "bof": true,
          "cr": false,
          "ref": "9d2eb463-80f5-4938-ac20-d84ac2ec5225",
          "httpRequestId": "9b56e54f-6fd6-4720-805d-218c3e471534",
          "scriptId": "2a2c39aa-365b-4c21-94e5-ead21d2ab3c7",
          "execution": "d428eae5-cef9-425a-a2c5-1524af695dae"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 1,
          "test": "Response is an array of users",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:2:1)",
          "checksum": "2716af008d269f93feeb891b9aac6aef",
          "id": "9f7d7a8b-8d6d-4936-a96d-3557def7d563",
          "timestamp": 1767648245470,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 1,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "c36f6790-2c4c-44dd-b926-e805020272e6",
          "name": "List Users",
          "request": {
            "url": {
              "path": [
                "users"
              ],
              "host": [
                "{{baseURL}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
              "id": "d3d2f8b7-9f5b-4304-8dbd-5bdbcbf13c1e",
              "name": "Example User List",
              "originalRequest": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "status": "OK",
              "code": 200,
              "header": [],
              "body": "[{\"id\":1,\"name\":\"Alice\",\"email\":\"alice@example.com\"},{\"id\":2,\"name\":\"Bob\",\"email\":\"bob@example.com\"}]",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "2a2c39aa-365b-4c21-94e5-ead21d2ab3c7",
                "type": "text/javascript",
                "packages": {},
                "exec": [
                  "// List Users - GET /users",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response is an array of users\", function () {",
                  "    const json = pm.response.json();",
                  "    pm.expect(Array.isArray(json)).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"Each user has id, name, and email\", function () {",
                  "    const json = pm.response.json();",
                  "    json.forEach(user => {",
                  "        pm.expect(user).to.have.property(\"id\");",
                  "        pm.expect(user).to.have.property(\"name\");",
                  "        pm.expect(user).to.have.property(\"email\");",
                  "    });",
                  "});",
                  "",
                  "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                  "    if (pm.response.code >= 400) {",
                  "        let body;",
                  "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                  "        pm.expect(body).to.be.an(\"object\");",
                  "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                  "    }",
                  "});",
                  "",
                  "// Extract and save user_id for workflow chaining",
                  "if (pm.response.code === 200) {",
                  "    const json = pm.response.json();",
                  "    let userId = null;",
                  "    ",
                  "    // Handle different response structures",
                  "    if (Array.isArray(json) && json.length > 0) {",
                  "        // Response is an array of users - get first user's id",
                  "        userId = json[0].id;",
                  "    } else if (json && json.users && Array.isArray(json.users) && json.users.length > 0) {",
                  "        // Response is an object with a users array",
                  "        userId = json.users[0].id;",
                  "    } else if (json && json.id) {",
                  "        // Response is a single user object",
                  "        userId = json.id;",
                  "    }",
                  "    ",
                  "    if (userId !== null && userId !== undefined) {",
                  "        pm.collectionVariables.set(\"user_id\", userId);",
                  "        console.log(\"Saved user_id to collection variable:\", userId);",
                  "    } else {",
                  "        console.warn(\"Could not extract user_id from response\");",
                  "    }",
                  "}"
                ],
                "_lastExecutionId": "d428eae5-cef9-425a-a2c5-1524af695dae"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "14d131a4-2690-4b11-9606-7a2a2205a905",
                "type": "text/javascript",
                "packages": {},
                "exec": [
                  ""
                ],
                "_lastExecutionId": "1d9d1166-b551-4169-ae70-2e9f764486c4"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "bd515596-1c6f-4050-80ef-d2e9da663180"
          },
          "item": [
            {
              "id": "c36f6790-2c4c-44dd-b926-e805020272e6",
              "name": "List Users",
              "request": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "d3d2f8b7-9f5b-4304-8dbd-5bdbcbf13c1e",
                  "name": "Example User List",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "GET"
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"id\":1,\"name\":\"Alice\",\"email\":\"alice@example.com\"},{\"id\":2,\"name\":\"Bob\",\"email\":\"bob@example.com\"}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2a2c39aa-365b-4c21-94e5-ead21d2ab3c7",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// List Users - GET /users",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of users\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each user has id, name, and email\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(user => {",
                      "        pm.expect(user).to.have.property(\"id\");",
                      "        pm.expect(user).to.have.property(\"name\");",
                      "        pm.expect(user).to.have.property(\"email\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});",
                      "",
                      "// Extract and save user_id for workflow chaining",
                      "if (pm.response.code === 200) {",
                      "    const json = pm.response.json();",
                      "    let userId = null;",
                      "    ",
                      "    // Handle different response structures",
                      "    if (Array.isArray(json) && json.length > 0) {",
                      "        // Response is an array of users - get first user's id",
                      "        userId = json[0].id;",
                      "    } else if (json && json.users && Array.isArray(json.users) && json.users.length > 0) {",
                      "        // Response is an object with a users array",
                      "        userId = json.users[0].id;",
                      "    } else if (json && json.id) {",
                      "        // Response is a single user object",
                      "        userId = json.id;",
                      "    }",
                      "    ",
                      "    if (userId !== null && userId !== undefined) {",
                      "        pm.collectionVariables.set(\"user_id\", userId);",
                      "        console.log(\"Saved user_id to collection variable:\", userId);",
                      "    } else {",
                      "        console.warn(\"Could not extract user_id from response\");",
                      "    }",
                      "}"
                    ],
                    "_lastExecutionId": "d428eae5-cef9-425a-a2c5-1524af695dae"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "14d131a4-2690-4b11-9606-7a2a2205a905",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "1d9d1166-b551-4169-ae70-2e9f764486c4"
                  }
                }
              ]
            },
            {
              "id": "d0d5b92f-a157-4076-a273-7cd7be31e61d",
              "name": "Get User Permissions",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{user_id}}",
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "7dded541-98c0-46d8-9810-8d78ade5bb1c",
                  "name": "Sample User Permissions",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users",
                        "1",
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "GET"
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":false}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7e155480-04f2-4aac-964a-f5d55c1fafe5",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// Get User Permissions - GET /users/:userId/permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "        pm.expect(p).to.have.property(\"granted\");",
                      "        pm.expect(p.granted).to.be.a(\"boolean\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "dde87c4d-f961-4bbd-815a-36105df8f544"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "19946b3c-9780-4ec3-a692-4b89d87c319b",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "08e52a87-ceb5-4fbd-9e85-99e44a7c9d07"
                  }
                }
              ]
            },
            {
              "id": "064dcb96-31c1-45a9-aca1-75a344de354a",
              "name": "Update User Permissions",
              "request": {
                "url": {
                  "path": [
                    "users",
                    ":userId",
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": [
                    {
                      "description": {
                        "content": "The ID of the user whose permissions to update",
                        "type": "text/plain"
                      },
                      "type": "any",
                      "value": "1",
                      "key": "userId"
                    }
                  ]
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "66c5dc51-c86b-4015-84c1-77383a8b3494",
                  "name": "Permissions Updated",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users",
                        "1",
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      }
                    ],
                    "method": "PUT",
                    "body": {
                      "mode": "raw",
                      "raw": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]"
                    }
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f35e1b77-cd87-4700-aaa6-b1f125852c6d",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// Update User Permissions - PUT /users/:userId/permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "        pm.expect(p).to.have.property(\"granted\");",
                      "        pm.expect(p.granted).to.be.a(\"boolean\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "cd9eaded-03dc-4ba2-bbe1-ecbbd752e908"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "fa4695aa-a5bf-46d4-9b88-e6595d9cf764",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "579f1a0d-51f4-49d8-b853-dfa1f58d4d3f"
                  }
                }
              ]
            },
            {
              "id": "d9aa22ec-bffa-4257-be24-c73fb5d7341a",
              "name": "List Permissions",
              "request": {
                "url": {
                  "path": [
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "f0bb0294-1f38-497a-baec-e50eb63f8b69",
                  "name": "Permission Types",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "GET"
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"permission\":\"read\"},{\"permission\":\"write\"},{\"permission\":\"admin\"}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "fbe4ce27-58ea-4d40-9ee5-11477360e2b0",
                    "type": "text/javascript",
                    "exec": [
                      "// List Permissions - GET /permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "e622739d-4d1d-4379-b644-971fdb74f95e"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "ed435988-d76f-42bb-ac0a-0cf4ca6dd622",
                    "type": "text/javascript",
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "8b7f04b3-5142-417e-9d63-9f74c72f181e"
                  }
                }
              ]
            },
            {
              "id": "b7655962-6be3-4b61-83b0-4afee7de803e",
              "name": "Grant User Permission",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{user_id}}",
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\"permission\":\"admin\",\"granted\":true}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "1ec67290-915c-46b5-a859-feab0f54ec0b",
                  "name": "Permission Granted",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users",
                        "2",
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      }
                    ],
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\"permission\":\"admin\",\"granted\":true}"
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [],
                  "body": "[{\"permission\":\"admin\",\"granted\":true}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d2ecd5b4-0083-4263-bc79-d229274f38f9",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// Grant User Permission - POST /users/:userId/permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "        pm.expect(p).to.have.property(\"granted\");",
                      "        pm.expect(p.granted).to.be.a(\"boolean\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "d1178df8-2542-4101-8c68-7f139d867d9b"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "ba9a31a1-37f2-4549-8600-e648aa1fa79c",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "fb134314-d070-47bf-8d80-d1c5b6aa46fc"
                  }
                }
              ]
            },
            {
              "id": "0c92e2d2-f4e4-420d-963f-0bbd97e21ef2",
              "name": "Delete Users",
              "request": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": []
            }
          ],
          "event": [],
          "variable": [
            {
              "id": "4cbe099e-b4e5-40a9-a2aa-7332e1a9c92d",
              "type": "any",
              "value": "https://api.example.com",
              "key": "baseUrl"
            },
            {
              "id": "61d8da22-e8dd-4f50-bf45-a0df1e74e6c6",
              "type": "any",
              "value": "https://api.example.com",
              "key": "baseURL"
            },
            {
              "id": "d9cf6d13-1a56-4aa6-90e1-779d0f4bd96e",
              "type": "any",
              "value": "1",
              "key": "user_id"
            }
          ],
          "info": {
            "_postman_id": "bd515596-1c6f-4050-80ef-d2e9da663180",
            "name": "User Permissions API",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "# User Permissions API\n\n## Overview\nThe User Permissions API provides endpoints to manage users and their permissions within your application. It allows you to list users, retrieve and update their permissions, and manage available permission types. This API is ideal for applications that require fine-grained access control and user management.\n\n## Base URL\n```\n{{baseUrl}}\n```\nSet the `baseUrl` variable in your Postman environment or collection variables to point to your API server (e.g., `https://api.example.com`).\n\n## Authentication\nThis API typically requires authentication (e.g., Bearer token or API key) to access protected endpoints. Add the appropriate `Authorization` header to your requests:\n```\nAuthorization: Bearer <your_token>\n```\n_If your implementation differs, update the authentication method accordingly._\n\n## Endpoints\n\n### 1. List Users\n- **Endpoint:** `GET /users`\n- **Description:** Retrieves a list of all users.\n- **Request Example:**\n  ```http\n  GET {{baseUrl}}/users\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"id\": 1, \"name\": \"Alice\", \"email\": \"alice@example.com\"},\n    {\"id\": 2, \"name\": \"Bob\", \"email\": \"bob@example.com\"}\n  ]\n  ```\n\n### 2. Get User Permissions\n- **Endpoint:** `GET /users/{userId}/permissions`\n- **Description:** Retrieves the permissions assigned to a specific user.\n- **Request Example:**\n  ```http\n  GET {{baseUrl}}/users/1/permissions\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"read\", \"granted\": true},\n    {\"permission\": \"write\", \"granted\": false}\n  ]\n  ```\n\n### 3. Update User Permissions\n- **Endpoint:** `PUT /users/{userId}/permissions`\n- **Description:** Updates the permissions for a specific user. Provide an array of permission objects.\n- **Request Example:**\n  ```http\n  PUT {{baseUrl}}/users/1/permissions\n  Content-Type: application/json\n\n  [\n    {\"permission\": \"read\", \"granted\": true},\n    {\"permission\": \"write\", \"granted\": true}\n  ]\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"read\", \"granted\": true},\n    {\"permission\": \"write\", \"granted\": true}\n  ]\n  ```\n\n### 4. List Permissions\n- **Endpoint:** `GET /permissions`\n- **Description:** Lists all available permission types in the system.\n- **Request Example:**\n  ```http\n  GET {{baseUrl}}/permissions\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"read\"},\n    {\"permission\": \"write\"},\n    {\"permission\": \"admin\"}\n  ]\n  ```\n\n### 5. Grant User Permission\n- **Endpoint:** `POST /users/{userId}/permissions`\n- **Description:** Grants a specific permission to a user. Provide the permission object in the request body.\n- **Request Example:**\n  ```http\n  POST {{baseUrl}}/users/2/permissions\n  Content-Type: application/json\n\n  {\"permission\": \"admin\", \"granted\": true}\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"admin\", \"granted\": true}\n  ]\n  ```\n\n## Error Handling\n- **400 Bad Request:** Invalid input or missing required fields.\n- **401 Unauthorized:** Authentication failed or missing credentials.\n- **403 Forbidden:** Insufficient permissions to perform the operation.\n- **404 Not Found:** Resource does not exist (e.g., user or permission not found).\n- **500 Internal Server Error:** Unexpected server error.\n\nError responses typically include a JSON object with an `error` or `message` field describing the issue:\n```json\n{\n  \"error\": \"Invalid user ID.\"\n}\n```\n\n## Additional Notes\n- All endpoints return JSON responses.\n- Ensure you set the `baseUrl` variable before making requests.\n- For further details, refer to individual request documentation and examples in this collection.\n",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "position": 0,
          "iteration": 0,
          "length": 6,
          "cycles": 1,
          "empty": false,
          "eof": false,
          "bof": true,
          "cr": false,
          "ref": "9d2eb463-80f5-4938-ac20-d84ac2ec5225",
          "httpRequestId": "9b56e54f-6fd6-4720-805d-218c3e471534",
          "scriptId": "2a2c39aa-365b-4c21-94e5-ead21d2ab3c7",
          "execution": "d428eae5-cef9-425a-a2c5-1524af695dae"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 2,
          "test": "Each user has id, name, and email",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:3:1)",
          "checksum": "2fc331d1c475fe875a4122f28303f02b",
          "id": "c98cbbe4-2b99-472e-a177-1e60099af462",
          "timestamp": 1767648245471,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 3,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 1,
              "native": false
            }
          ]
        },
        "at": "assertion:2 in test-script",
        "source": {
          "id": "c36f6790-2c4c-44dd-b926-e805020272e6",
          "name": "List Users",
          "request": {
            "url": {
              "path": [
                "users"
              ],
              "host": [
                "{{baseURL}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
              "id": "d3d2f8b7-9f5b-4304-8dbd-5bdbcbf13c1e",
              "name": "Example User List",
              "originalRequest": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "status": "OK",
              "code": 200,
              "header": [],
              "body": "[{\"id\":1,\"name\":\"Alice\",\"email\":\"alice@example.com\"},{\"id\":2,\"name\":\"Bob\",\"email\":\"bob@example.com\"}]",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "2a2c39aa-365b-4c21-94e5-ead21d2ab3c7",
                "type": "text/javascript",
                "packages": {},
                "exec": [
                  "// List Users - GET /users",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response is an array of users\", function () {",
                  "    const json = pm.response.json();",
                  "    pm.expect(Array.isArray(json)).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"Each user has id, name, and email\", function () {",
                  "    const json = pm.response.json();",
                  "    json.forEach(user => {",
                  "        pm.expect(user).to.have.property(\"id\");",
                  "        pm.expect(user).to.have.property(\"name\");",
                  "        pm.expect(user).to.have.property(\"email\");",
                  "    });",
                  "});",
                  "",
                  "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                  "    if (pm.response.code >= 400) {",
                  "        let body;",
                  "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                  "        pm.expect(body).to.be.an(\"object\");",
                  "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                  "    }",
                  "});",
                  "",
                  "// Extract and save user_id for workflow chaining",
                  "if (pm.response.code === 200) {",
                  "    const json = pm.response.json();",
                  "    let userId = null;",
                  "    ",
                  "    // Handle different response structures",
                  "    if (Array.isArray(json) && json.length > 0) {",
                  "        // Response is an array of users - get first user's id",
                  "        userId = json[0].id;",
                  "    } else if (json && json.users && Array.isArray(json.users) && json.users.length > 0) {",
                  "        // Response is an object with a users array",
                  "        userId = json.users[0].id;",
                  "    } else if (json && json.id) {",
                  "        // Response is a single user object",
                  "        userId = json.id;",
                  "    }",
                  "    ",
                  "    if (userId !== null && userId !== undefined) {",
                  "        pm.collectionVariables.set(\"user_id\", userId);",
                  "        console.log(\"Saved user_id to collection variable:\", userId);",
                  "    } else {",
                  "        console.warn(\"Could not extract user_id from response\");",
                  "    }",
                  "}"
                ],
                "_lastExecutionId": "d428eae5-cef9-425a-a2c5-1524af695dae"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "14d131a4-2690-4b11-9606-7a2a2205a905",
                "type": "text/javascript",
                "packages": {},
                "exec": [
                  ""
                ],
                "_lastExecutionId": "1d9d1166-b551-4169-ae70-2e9f764486c4"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "bd515596-1c6f-4050-80ef-d2e9da663180"
          },
          "item": [
            {
              "id": "c36f6790-2c4c-44dd-b926-e805020272e6",
              "name": "List Users",
              "request": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "d3d2f8b7-9f5b-4304-8dbd-5bdbcbf13c1e",
                  "name": "Example User List",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "GET"
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"id\":1,\"name\":\"Alice\",\"email\":\"alice@example.com\"},{\"id\":2,\"name\":\"Bob\",\"email\":\"bob@example.com\"}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2a2c39aa-365b-4c21-94e5-ead21d2ab3c7",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// List Users - GET /users",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of users\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each user has id, name, and email\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(user => {",
                      "        pm.expect(user).to.have.property(\"id\");",
                      "        pm.expect(user).to.have.property(\"name\");",
                      "        pm.expect(user).to.have.property(\"email\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});",
                      "",
                      "// Extract and save user_id for workflow chaining",
                      "if (pm.response.code === 200) {",
                      "    const json = pm.response.json();",
                      "    let userId = null;",
                      "    ",
                      "    // Handle different response structures",
                      "    if (Array.isArray(json) && json.length > 0) {",
                      "        // Response is an array of users - get first user's id",
                      "        userId = json[0].id;",
                      "    } else if (json && json.users && Array.isArray(json.users) && json.users.length > 0) {",
                      "        // Response is an object with a users array",
                      "        userId = json.users[0].id;",
                      "    } else if (json && json.id) {",
                      "        // Response is a single user object",
                      "        userId = json.id;",
                      "    }",
                      "    ",
                      "    if (userId !== null && userId !== undefined) {",
                      "        pm.collectionVariables.set(\"user_id\", userId);",
                      "        console.log(\"Saved user_id to collection variable:\", userId);",
                      "    } else {",
                      "        console.warn(\"Could not extract user_id from response\");",
                      "    }",
                      "}"
                    ],
                    "_lastExecutionId": "d428eae5-cef9-425a-a2c5-1524af695dae"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "14d131a4-2690-4b11-9606-7a2a2205a905",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "1d9d1166-b551-4169-ae70-2e9f764486c4"
                  }
                }
              ]
            },
            {
              "id": "d0d5b92f-a157-4076-a273-7cd7be31e61d",
              "name": "Get User Permissions",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{user_id}}",
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "7dded541-98c0-46d8-9810-8d78ade5bb1c",
                  "name": "Sample User Permissions",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users",
                        "1",
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "GET"
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":false}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7e155480-04f2-4aac-964a-f5d55c1fafe5",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// Get User Permissions - GET /users/:userId/permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "        pm.expect(p).to.have.property(\"granted\");",
                      "        pm.expect(p.granted).to.be.a(\"boolean\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "dde87c4d-f961-4bbd-815a-36105df8f544"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "19946b3c-9780-4ec3-a692-4b89d87c319b",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "08e52a87-ceb5-4fbd-9e85-99e44a7c9d07"
                  }
                }
              ]
            },
            {
              "id": "064dcb96-31c1-45a9-aca1-75a344de354a",
              "name": "Update User Permissions",
              "request": {
                "url": {
                  "path": [
                    "users",
                    ":userId",
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": [
                    {
                      "description": {
                        "content": "The ID of the user whose permissions to update",
                        "type": "text/plain"
                      },
                      "type": "any",
                      "value": "1",
                      "key": "userId"
                    }
                  ]
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "66c5dc51-c86b-4015-84c1-77383a8b3494",
                  "name": "Permissions Updated",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users",
                        "1",
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      }
                    ],
                    "method": "PUT",
                    "body": {
                      "mode": "raw",
                      "raw": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]"
                    }
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f35e1b77-cd87-4700-aaa6-b1f125852c6d",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// Update User Permissions - PUT /users/:userId/permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "        pm.expect(p).to.have.property(\"granted\");",
                      "        pm.expect(p.granted).to.be.a(\"boolean\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "cd9eaded-03dc-4ba2-bbe1-ecbbd752e908"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "fa4695aa-a5bf-46d4-9b88-e6595d9cf764",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "579f1a0d-51f4-49d8-b853-dfa1f58d4d3f"
                  }
                }
              ]
            },
            {
              "id": "d9aa22ec-bffa-4257-be24-c73fb5d7341a",
              "name": "List Permissions",
              "request": {
                "url": {
                  "path": [
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "f0bb0294-1f38-497a-baec-e50eb63f8b69",
                  "name": "Permission Types",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "GET"
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"permission\":\"read\"},{\"permission\":\"write\"},{\"permission\":\"admin\"}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "fbe4ce27-58ea-4d40-9ee5-11477360e2b0",
                    "type": "text/javascript",
                    "exec": [
                      "// List Permissions - GET /permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "e622739d-4d1d-4379-b644-971fdb74f95e"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "ed435988-d76f-42bb-ac0a-0cf4ca6dd622",
                    "type": "text/javascript",
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "8b7f04b3-5142-417e-9d63-9f74c72f181e"
                  }
                }
              ]
            },
            {
              "id": "b7655962-6be3-4b61-83b0-4afee7de803e",
              "name": "Grant User Permission",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{user_id}}",
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\"permission\":\"admin\",\"granted\":true}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "1ec67290-915c-46b5-a859-feab0f54ec0b",
                  "name": "Permission Granted",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users",
                        "2",
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      }
                    ],
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\"permission\":\"admin\",\"granted\":true}"
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [],
                  "body": "[{\"permission\":\"admin\",\"granted\":true}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d2ecd5b4-0083-4263-bc79-d229274f38f9",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// Grant User Permission - POST /users/:userId/permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "        pm.expect(p).to.have.property(\"granted\");",
                      "        pm.expect(p.granted).to.be.a(\"boolean\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "d1178df8-2542-4101-8c68-7f139d867d9b"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "ba9a31a1-37f2-4549-8600-e648aa1fa79c",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "fb134314-d070-47bf-8d80-d1c5b6aa46fc"
                  }
                }
              ]
            },
            {
              "id": "0c92e2d2-f4e4-420d-963f-0bbd97e21ef2",
              "name": "Delete Users",
              "request": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": []
            }
          ],
          "event": [],
          "variable": [
            {
              "id": "4cbe099e-b4e5-40a9-a2aa-7332e1a9c92d",
              "type": "any",
              "value": "https://api.example.com",
              "key": "baseUrl"
            },
            {
              "id": "61d8da22-e8dd-4f50-bf45-a0df1e74e6c6",
              "type": "any",
              "value": "https://api.example.com",
              "key": "baseURL"
            },
            {
              "id": "d9cf6d13-1a56-4aa6-90e1-779d0f4bd96e",
              "type": "any",
              "value": "1",
              "key": "user_id"
            }
          ],
          "info": {
            "_postman_id": "bd515596-1c6f-4050-80ef-d2e9da663180",
            "name": "User Permissions API",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "# User Permissions API\n\n## Overview\nThe User Permissions API provides endpoints to manage users and their permissions within your application. It allows you to list users, retrieve and update their permissions, and manage available permission types. This API is ideal for applications that require fine-grained access control and user management.\n\n## Base URL\n```\n{{baseUrl}}\n```\nSet the `baseUrl` variable in your Postman environment or collection variables to point to your API server (e.g., `https://api.example.com`).\n\n## Authentication\nThis API typically requires authentication (e.g., Bearer token or API key) to access protected endpoints. Add the appropriate `Authorization` header to your requests:\n```\nAuthorization: Bearer <your_token>\n```\n_If your implementation differs, update the authentication method accordingly._\n\n## Endpoints\n\n### 1. List Users\n- **Endpoint:** `GET /users`\n- **Description:** Retrieves a list of all users.\n- **Request Example:**\n  ```http\n  GET {{baseUrl}}/users\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"id\": 1, \"name\": \"Alice\", \"email\": \"alice@example.com\"},\n    {\"id\": 2, \"name\": \"Bob\", \"email\": \"bob@example.com\"}\n  ]\n  ```\n\n### 2. Get User Permissions\n- **Endpoint:** `GET /users/{userId}/permissions`\n- **Description:** Retrieves the permissions assigned to a specific user.\n- **Request Example:**\n  ```http\n  GET {{baseUrl}}/users/1/permissions\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"read\", \"granted\": true},\n    {\"permission\": \"write\", \"granted\": false}\n  ]\n  ```\n\n### 3. Update User Permissions\n- **Endpoint:** `PUT /users/{userId}/permissions`\n- **Description:** Updates the permissions for a specific user. Provide an array of permission objects.\n- **Request Example:**\n  ```http\n  PUT {{baseUrl}}/users/1/permissions\n  Content-Type: application/json\n\n  [\n    {\"permission\": \"read\", \"granted\": true},\n    {\"permission\": \"write\", \"granted\": true}\n  ]\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"read\", \"granted\": true},\n    {\"permission\": \"write\", \"granted\": true}\n  ]\n  ```\n\n### 4. List Permissions\n- **Endpoint:** `GET /permissions`\n- **Description:** Lists all available permission types in the system.\n- **Request Example:**\n  ```http\n  GET {{baseUrl}}/permissions\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"read\"},\n    {\"permission\": \"write\"},\n    {\"permission\": \"admin\"}\n  ]\n  ```\n\n### 5. Grant User Permission\n- **Endpoint:** `POST /users/{userId}/permissions`\n- **Description:** Grants a specific permission to a user. Provide the permission object in the request body.\n- **Request Example:**\n  ```http\n  POST {{baseUrl}}/users/2/permissions\n  Content-Type: application/json\n\n  {\"permission\": \"admin\", \"granted\": true}\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"admin\", \"granted\": true}\n  ]\n  ```\n\n## Error Handling\n- **400 Bad Request:** Invalid input or missing required fields.\n- **401 Unauthorized:** Authentication failed or missing credentials.\n- **403 Forbidden:** Insufficient permissions to perform the operation.\n- **404 Not Found:** Resource does not exist (e.g., user or permission not found).\n- **500 Internal Server Error:** Unexpected server error.\n\nError responses typically include a JSON object with an `error` or `message` field describing the issue:\n```json\n{\n  \"error\": \"Invalid user ID.\"\n}\n```\n\n## Additional Notes\n- All endpoints return JSON responses.\n- Ensure you set the `baseUrl` variable before making requests.\n- For further details, refer to individual request documentation and examples in this collection.\n",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "position": 0,
          "iteration": 0,
          "length": 6,
          "cycles": 1,
          "empty": false,
          "eof": false,
          "bof": true,
          "cr": false,
          "ref": "9d2eb463-80f5-4938-ac20-d84ac2ec5225",
          "httpRequestId": "9b56e54f-6fd6-4720-805d-218c3e471534",
          "scriptId": "2a2c39aa-365b-4c21-94e5-ead21d2ab3c7",
          "execution": "d428eae5-cef9-425a-a2c5-1524af695dae"
        }
      },
      {
        "error": {
          "errno": -3008,
          "code": "ENOTFOUND",
          "syscall": "getaddrinfo",
          "hostname": "api.example.com",
          "name": "Error",
          "message": "getaddrinfo ENOTFOUND api.example.com",
          "stack": "Error: getaddrinfo ENOTFOUND api.example.com\n    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)",
          "checksum": "e6d98f61253e2bdc0f589410c34739e0",
          "id": "6468d561-c8e5-4bb7-9a44-22496326e056",
          "timestamp": 1767648245485,
          "stacktrace": [
            {
              "fileName": "node:dns",
              "lineNumber": 122,
              "functionName": "GetAddrInfoReqWrap.onlookupall [as oncomplete]",
              "typeName": "GetAddrInfoReqWrap",
              "methodName": "onlookupall [as oncomplete]",
              "columnNumber": 26,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "d0d5b92f-a157-4076-a273-7cd7be31e61d",
          "name": "Get User Permissions",
          "request": {
            "url": {
              "protocol": "https",
              "path": [
                "users",
                "1",
                "permissions"
              ],
              "host": [
                "api",
                "example",
                "com"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "c15ed418-0677-4bd1-9412-589a63f7f735",
                "system": true
              },
              {
                "key": "Host",
                "value": "api.example.com",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "GET"
          },
          "response": [
            {
              "id": "7dded541-98c0-46d8-9810-8d78ade5bb1c",
              "name": "Sample User Permissions",
              "originalRequest": {
                "url": {
                  "path": [
                    "users",
                    "1",
                    "permissions"
                  ],
                  "host": [
                    "https://api.example.com"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "status": "OK",
              "code": 200,
              "header": [],
              "body": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":false}]",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "7e155480-04f2-4aac-964a-f5d55c1fafe5",
                "type": "text/javascript",
                "packages": {},
                "exec": [
                  "// Get User Permissions - GET /users/:userId/permissions",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response is an array of permissions\", function () {",
                  "    const json = pm.response.json();",
                  "    pm.expect(Array.isArray(json)).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                  "    const json = pm.response.json();",
                  "    json.forEach(p => {",
                  "        pm.expect(p).to.have.property(\"permission\");",
                  "        pm.expect(p).to.have.property(\"granted\");",
                  "        pm.expect(p.granted).to.be.a(\"boolean\");",
                  "    });",
                  "});",
                  "",
                  "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                  "    if (pm.response.code >= 400) {",
                  "        let body;",
                  "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                  "        pm.expect(body).to.be.an(\"object\");",
                  "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                  "    }",
                  "});"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "19946b3c-9780-4ec3-a692-4b89d87c319b",
                "type": "text/javascript",
                "packages": {},
                "exec": [
                  ""
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "b2de767b-a974-4bc1-a336-498c15718ad4",
          "length": 6,
          "cycles": 1,
          "position": 1,
          "iteration": 0,
          "httpRequestId": "a4b2811d-91d4-4675-ba02-3f95168c9e70"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status code is 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:2)",
          "checksum": "169020131664477cec85b1c00a6464f6",
          "id": "9584b1e1-1edb-47b6-89aa-40d77d5dd513",
          "timestamp": 1767648245488,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 2,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "d0d5b92f-a157-4076-a273-7cd7be31e61d",
          "name": "Get User Permissions",
          "request": {
            "url": {
              "path": [
                "users",
                "{{user_id}}",
                "permissions"
              ],
              "host": [
                "{{baseURL}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
              "id": "7dded541-98c0-46d8-9810-8d78ade5bb1c",
              "name": "Sample User Permissions",
              "originalRequest": {
                "url": {
                  "path": [
                    "users",
                    "1",
                    "permissions"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "status": "OK",
              "code": 200,
              "header": [],
              "body": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":false}]",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "7e155480-04f2-4aac-964a-f5d55c1fafe5",
                "type": "text/javascript",
                "packages": {},
                "exec": [
                  "// Get User Permissions - GET /users/:userId/permissions",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response is an array of permissions\", function () {",
                  "    const json = pm.response.json();",
                  "    pm.expect(Array.isArray(json)).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                  "    const json = pm.response.json();",
                  "    json.forEach(p => {",
                  "        pm.expect(p).to.have.property(\"permission\");",
                  "        pm.expect(p).to.have.property(\"granted\");",
                  "        pm.expect(p.granted).to.be.a(\"boolean\");",
                  "    });",
                  "});",
                  "",
                  "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                  "    if (pm.response.code >= 400) {",
                  "        let body;",
                  "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                  "        pm.expect(body).to.be.an(\"object\");",
                  "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                  "    }",
                  "});"
                ],
                "_lastExecutionId": "dde87c4d-f961-4bbd-815a-36105df8f544"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "19946b3c-9780-4ec3-a692-4b89d87c319b",
                "type": "text/javascript",
                "packages": {},
                "exec": [
                  ""
                ],
                "_lastExecutionId": "08e52a87-ceb5-4fbd-9e85-99e44a7c9d07"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "bd515596-1c6f-4050-80ef-d2e9da663180"
          },
          "item": [
            {
              "id": "c36f6790-2c4c-44dd-b926-e805020272e6",
              "name": "List Users",
              "request": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "d3d2f8b7-9f5b-4304-8dbd-5bdbcbf13c1e",
                  "name": "Example User List",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "GET"
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"id\":1,\"name\":\"Alice\",\"email\":\"alice@example.com\"},{\"id\":2,\"name\":\"Bob\",\"email\":\"bob@example.com\"}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2a2c39aa-365b-4c21-94e5-ead21d2ab3c7",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// List Users - GET /users",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of users\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each user has id, name, and email\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(user => {",
                      "        pm.expect(user).to.have.property(\"id\");",
                      "        pm.expect(user).to.have.property(\"name\");",
                      "        pm.expect(user).to.have.property(\"email\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});",
                      "",
                      "// Extract and save user_id for workflow chaining",
                      "if (pm.response.code === 200) {",
                      "    const json = pm.response.json();",
                      "    let userId = null;",
                      "    ",
                      "    // Handle different response structures",
                      "    if (Array.isArray(json) && json.length > 0) {",
                      "        // Response is an array of users - get first user's id",
                      "        userId = json[0].id;",
                      "    } else if (json && json.users && Array.isArray(json.users) && json.users.length > 0) {",
                      "        // Response is an object with a users array",
                      "        userId = json.users[0].id;",
                      "    } else if (json && json.id) {",
                      "        // Response is a single user object",
                      "        userId = json.id;",
                      "    }",
                      "    ",
                      "    if (userId !== null && userId !== undefined) {",
                      "        pm.collectionVariables.set(\"user_id\", userId);",
                      "        console.log(\"Saved user_id to collection variable:\", userId);",
                      "    } else {",
                      "        console.warn(\"Could not extract user_id from response\");",
                      "    }",
                      "}"
                    ],
                    "_lastExecutionId": "d428eae5-cef9-425a-a2c5-1524af695dae"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "14d131a4-2690-4b11-9606-7a2a2205a905",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "1d9d1166-b551-4169-ae70-2e9f764486c4"
                  }
                }
              ]
            },
            {
              "id": "d0d5b92f-a157-4076-a273-7cd7be31e61d",
              "name": "Get User Permissions",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{user_id}}",
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "7dded541-98c0-46d8-9810-8d78ade5bb1c",
                  "name": "Sample User Permissions",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users",
                        "1",
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "GET"
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":false}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7e155480-04f2-4aac-964a-f5d55c1fafe5",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// Get User Permissions - GET /users/:userId/permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "        pm.expect(p).to.have.property(\"granted\");",
                      "        pm.expect(p.granted).to.be.a(\"boolean\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "dde87c4d-f961-4bbd-815a-36105df8f544"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "19946b3c-9780-4ec3-a692-4b89d87c319b",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "08e52a87-ceb5-4fbd-9e85-99e44a7c9d07"
                  }
                }
              ]
            },
            {
              "id": "064dcb96-31c1-45a9-aca1-75a344de354a",
              "name": "Update User Permissions",
              "request": {
                "url": {
                  "path": [
                    "users",
                    ":userId",
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": [
                    {
                      "description": {
                        "content": "The ID of the user whose permissions to update",
                        "type": "text/plain"
                      },
                      "type": "any",
                      "value": "1",
                      "key": "userId"
                    }
                  ]
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "66c5dc51-c86b-4015-84c1-77383a8b3494",
                  "name": "Permissions Updated",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users",
                        "1",
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      }
                    ],
                    "method": "PUT",
                    "body": {
                      "mode": "raw",
                      "raw": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]"
                    }
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f35e1b77-cd87-4700-aaa6-b1f125852c6d",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// Update User Permissions - PUT /users/:userId/permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "        pm.expect(p).to.have.property(\"granted\");",
                      "        pm.expect(p.granted).to.be.a(\"boolean\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "cd9eaded-03dc-4ba2-bbe1-ecbbd752e908"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "fa4695aa-a5bf-46d4-9b88-e6595d9cf764",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "579f1a0d-51f4-49d8-b853-dfa1f58d4d3f"
                  }
                }
              ]
            },
            {
              "id": "d9aa22ec-bffa-4257-be24-c73fb5d7341a",
              "name": "List Permissions",
              "request": {
                "url": {
                  "path": [
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "f0bb0294-1f38-497a-baec-e50eb63f8b69",
                  "name": "Permission Types",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "GET"
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"permission\":\"read\"},{\"permission\":\"write\"},{\"permission\":\"admin\"}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "fbe4ce27-58ea-4d40-9ee5-11477360e2b0",
                    "type": "text/javascript",
                    "exec": [
                      "// List Permissions - GET /permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "e622739d-4d1d-4379-b644-971fdb74f95e"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "ed435988-d76f-42bb-ac0a-0cf4ca6dd622",
                    "type": "text/javascript",
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "8b7f04b3-5142-417e-9d63-9f74c72f181e"
                  }
                }
              ]
            },
            {
              "id": "b7655962-6be3-4b61-83b0-4afee7de803e",
              "name": "Grant User Permission",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{user_id}}",
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\"permission\":\"admin\",\"granted\":true}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "1ec67290-915c-46b5-a859-feab0f54ec0b",
                  "name": "Permission Granted",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users",
                        "2",
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      }
                    ],
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\"permission\":\"admin\",\"granted\":true}"
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [],
                  "body": "[{\"permission\":\"admin\",\"granted\":true}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d2ecd5b4-0083-4263-bc79-d229274f38f9",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// Grant User Permission - POST /users/:userId/permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "        pm.expect(p).to.have.property(\"granted\");",
                      "        pm.expect(p.granted).to.be.a(\"boolean\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "d1178df8-2542-4101-8c68-7f139d867d9b"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "ba9a31a1-37f2-4549-8600-e648aa1fa79c",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "fb134314-d070-47bf-8d80-d1c5b6aa46fc"
                  }
                }
              ]
            },
            {
              "id": "0c92e2d2-f4e4-420d-963f-0bbd97e21ef2",
              "name": "Delete Users",
              "request": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": []
            }
          ],
          "event": [],
          "variable": [
            {
              "id": "4cbe099e-b4e5-40a9-a2aa-7332e1a9c92d",
              "type": "any",
              "value": "https://api.example.com",
              "key": "baseUrl"
            },
            {
              "id": "61d8da22-e8dd-4f50-bf45-a0df1e74e6c6",
              "type": "any",
              "value": "https://api.example.com",
              "key": "baseURL"
            },
            {
              "id": "d9cf6d13-1a56-4aa6-90e1-779d0f4bd96e",
              "type": "any",
              "value": "1",
              "key": "user_id"
            }
          ],
          "info": {
            "_postman_id": "bd515596-1c6f-4050-80ef-d2e9da663180",
            "name": "User Permissions API",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "# User Permissions API\n\n## Overview\nThe User Permissions API provides endpoints to manage users and their permissions within your application. It allows you to list users, retrieve and update their permissions, and manage available permission types. This API is ideal for applications that require fine-grained access control and user management.\n\n## Base URL\n```\n{{baseUrl}}\n```\nSet the `baseUrl` variable in your Postman environment or collection variables to point to your API server (e.g., `https://api.example.com`).\n\n## Authentication\nThis API typically requires authentication (e.g., Bearer token or API key) to access protected endpoints. Add the appropriate `Authorization` header to your requests:\n```\nAuthorization: Bearer <your_token>\n```\n_If your implementation differs, update the authentication method accordingly._\n\n## Endpoints\n\n### 1. List Users\n- **Endpoint:** `GET /users`\n- **Description:** Retrieves a list of all users.\n- **Request Example:**\n  ```http\n  GET {{baseUrl}}/users\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"id\": 1, \"name\": \"Alice\", \"email\": \"alice@example.com\"},\n    {\"id\": 2, \"name\": \"Bob\", \"email\": \"bob@example.com\"}\n  ]\n  ```\n\n### 2. Get User Permissions\n- **Endpoint:** `GET /users/{userId}/permissions`\n- **Description:** Retrieves the permissions assigned to a specific user.\n- **Request Example:**\n  ```http\n  GET {{baseUrl}}/users/1/permissions\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"read\", \"granted\": true},\n    {\"permission\": \"write\", \"granted\": false}\n  ]\n  ```\n\n### 3. Update User Permissions\n- **Endpoint:** `PUT /users/{userId}/permissions`\n- **Description:** Updates the permissions for a specific user. Provide an array of permission objects.\n- **Request Example:**\n  ```http\n  PUT {{baseUrl}}/users/1/permissions\n  Content-Type: application/json\n\n  [\n    {\"permission\": \"read\", \"granted\": true},\n    {\"permission\": \"write\", \"granted\": true}\n  ]\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"read\", \"granted\": true},\n    {\"permission\": \"write\", \"granted\": true}\n  ]\n  ```\n\n### 4. List Permissions\n- **Endpoint:** `GET /permissions`\n- **Description:** Lists all available permission types in the system.\n- **Request Example:**\n  ```http\n  GET {{baseUrl}}/permissions\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"read\"},\n    {\"permission\": \"write\"},\n    {\"permission\": \"admin\"}\n  ]\n  ```\n\n### 5. Grant User Permission\n- **Endpoint:** `POST /users/{userId}/permissions`\n- **Description:** Grants a specific permission to a user. Provide the permission object in the request body.\n- **Request Example:**\n  ```http\n  POST {{baseUrl}}/users/2/permissions\n  Content-Type: application/json\n\n  {\"permission\": \"admin\", \"granted\": true}\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"admin\", \"granted\": true}\n  ]\n  ```\n\n## Error Handling\n- **400 Bad Request:** Invalid input or missing required fields.\n- **401 Unauthorized:** Authentication failed or missing credentials.\n- **403 Forbidden:** Insufficient permissions to perform the operation.\n- **404 Not Found:** Resource does not exist (e.g., user or permission not found).\n- **500 Internal Server Error:** Unexpected server error.\n\nError responses typically include a JSON object with an `error` or `message` field describing the issue:\n```json\n{\n  \"error\": \"Invalid user ID.\"\n}\n```\n\n## Additional Notes\n- All endpoints return JSON responses.\n- Ensure you set the `baseUrl` variable before making requests.\n- For further details, refer to individual request documentation and examples in this collection.\n",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "b2de767b-a974-4bc1-a336-498c15718ad4",
          "length": 6,
          "cycles": 1,
          "position": 1,
          "iteration": 0,
          "httpRequestId": "a4b2811d-91d4-4675-ba02-3f95168c9e70",
          "scriptId": "7e155480-04f2-4aac-964a-f5d55c1fafe5",
          "execution": "dde87c4d-f961-4bbd-815a-36105df8f544"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 1,
          "test": "Response is an array of permissions",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:2:2)",
          "checksum": "cdc6ae35ac9fda455547d02389fe1e2f",
          "id": "dd9108af-7805-4e98-bf64-9f3c4eed1a43",
          "timestamp": 1767648245488,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 2,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "d0d5b92f-a157-4076-a273-7cd7be31e61d",
          "name": "Get User Permissions",
          "request": {
            "url": {
              "path": [
                "users",
                "{{user_id}}",
                "permissions"
              ],
              "host": [
                "{{baseURL}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
              "id": "7dded541-98c0-46d8-9810-8d78ade5bb1c",
              "name": "Sample User Permissions",
              "originalRequest": {
                "url": {
                  "path": [
                    "users",
                    "1",
                    "permissions"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "status": "OK",
              "code": 200,
              "header": [],
              "body": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":false}]",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "7e155480-04f2-4aac-964a-f5d55c1fafe5",
                "type": "text/javascript",
                "packages": {},
                "exec": [
                  "// Get User Permissions - GET /users/:userId/permissions",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response is an array of permissions\", function () {",
                  "    const json = pm.response.json();",
                  "    pm.expect(Array.isArray(json)).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                  "    const json = pm.response.json();",
                  "    json.forEach(p => {",
                  "        pm.expect(p).to.have.property(\"permission\");",
                  "        pm.expect(p).to.have.property(\"granted\");",
                  "        pm.expect(p.granted).to.be.a(\"boolean\");",
                  "    });",
                  "});",
                  "",
                  "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                  "    if (pm.response.code >= 400) {",
                  "        let body;",
                  "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                  "        pm.expect(body).to.be.an(\"object\");",
                  "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                  "    }",
                  "});"
                ],
                "_lastExecutionId": "dde87c4d-f961-4bbd-815a-36105df8f544"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "19946b3c-9780-4ec3-a692-4b89d87c319b",
                "type": "text/javascript",
                "packages": {},
                "exec": [
                  ""
                ],
                "_lastExecutionId": "08e52a87-ceb5-4fbd-9e85-99e44a7c9d07"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "bd515596-1c6f-4050-80ef-d2e9da663180"
          },
          "item": [
            {
              "id": "c36f6790-2c4c-44dd-b926-e805020272e6",
              "name": "List Users",
              "request": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "d3d2f8b7-9f5b-4304-8dbd-5bdbcbf13c1e",
                  "name": "Example User List",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "GET"
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"id\":1,\"name\":\"Alice\",\"email\":\"alice@example.com\"},{\"id\":2,\"name\":\"Bob\",\"email\":\"bob@example.com\"}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2a2c39aa-365b-4c21-94e5-ead21d2ab3c7",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// List Users - GET /users",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of users\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each user has id, name, and email\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(user => {",
                      "        pm.expect(user).to.have.property(\"id\");",
                      "        pm.expect(user).to.have.property(\"name\");",
                      "        pm.expect(user).to.have.property(\"email\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});",
                      "",
                      "// Extract and save user_id for workflow chaining",
                      "if (pm.response.code === 200) {",
                      "    const json = pm.response.json();",
                      "    let userId = null;",
                      "    ",
                      "    // Handle different response structures",
                      "    if (Array.isArray(json) && json.length > 0) {",
                      "        // Response is an array of users - get first user's id",
                      "        userId = json[0].id;",
                      "    } else if (json && json.users && Array.isArray(json.users) && json.users.length > 0) {",
                      "        // Response is an object with a users array",
                      "        userId = json.users[0].id;",
                      "    } else if (json && json.id) {",
                      "        // Response is a single user object",
                      "        userId = json.id;",
                      "    }",
                      "    ",
                      "    if (userId !== null && userId !== undefined) {",
                      "        pm.collectionVariables.set(\"user_id\", userId);",
                      "        console.log(\"Saved user_id to collection variable:\", userId);",
                      "    } else {",
                      "        console.warn(\"Could not extract user_id from response\");",
                      "    }",
                      "}"
                    ],
                    "_lastExecutionId": "d428eae5-cef9-425a-a2c5-1524af695dae"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "14d131a4-2690-4b11-9606-7a2a2205a905",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "1d9d1166-b551-4169-ae70-2e9f764486c4"
                  }
                }
              ]
            },
            {
              "id": "d0d5b92f-a157-4076-a273-7cd7be31e61d",
              "name": "Get User Permissions",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{user_id}}",
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "7dded541-98c0-46d8-9810-8d78ade5bb1c",
                  "name": "Sample User Permissions",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users",
                        "1",
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "GET"
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":false}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7e155480-04f2-4aac-964a-f5d55c1fafe5",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// Get User Permissions - GET /users/:userId/permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "        pm.expect(p).to.have.property(\"granted\");",
                      "        pm.expect(p.granted).to.be.a(\"boolean\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "dde87c4d-f961-4bbd-815a-36105df8f544"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "19946b3c-9780-4ec3-a692-4b89d87c319b",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "08e52a87-ceb5-4fbd-9e85-99e44a7c9d07"
                  }
                }
              ]
            },
            {
              "id": "064dcb96-31c1-45a9-aca1-75a344de354a",
              "name": "Update User Permissions",
              "request": {
                "url": {
                  "path": [
                    "users",
                    ":userId",
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": [
                    {
                      "description": {
                        "content": "The ID of the user whose permissions to update",
                        "type": "text/plain"
                      },
                      "type": "any",
                      "value": "1",
                      "key": "userId"
                    }
                  ]
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "66c5dc51-c86b-4015-84c1-77383a8b3494",
                  "name": "Permissions Updated",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users",
                        "1",
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      }
                    ],
                    "method": "PUT",
                    "body": {
                      "mode": "raw",
                      "raw": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]"
                    }
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f35e1b77-cd87-4700-aaa6-b1f125852c6d",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// Update User Permissions - PUT /users/:userId/permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "        pm.expect(p).to.have.property(\"granted\");",
                      "        pm.expect(p.granted).to.be.a(\"boolean\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "cd9eaded-03dc-4ba2-bbe1-ecbbd752e908"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "fa4695aa-a5bf-46d4-9b88-e6595d9cf764",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "579f1a0d-51f4-49d8-b853-dfa1f58d4d3f"
                  }
                }
              ]
            },
            {
              "id": "d9aa22ec-bffa-4257-be24-c73fb5d7341a",
              "name": "List Permissions",
              "request": {
                "url": {
                  "path": [
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "f0bb0294-1f38-497a-baec-e50eb63f8b69",
                  "name": "Permission Types",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "GET"
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"permission\":\"read\"},{\"permission\":\"write\"},{\"permission\":\"admin\"}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "fbe4ce27-58ea-4d40-9ee5-11477360e2b0",
                    "type": "text/javascript",
                    "exec": [
                      "// List Permissions - GET /permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "e622739d-4d1d-4379-b644-971fdb74f95e"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "ed435988-d76f-42bb-ac0a-0cf4ca6dd622",
                    "type": "text/javascript",
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "8b7f04b3-5142-417e-9d63-9f74c72f181e"
                  }
                }
              ]
            },
            {
              "id": "b7655962-6be3-4b61-83b0-4afee7de803e",
              "name": "Grant User Permission",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{user_id}}",
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\"permission\":\"admin\",\"granted\":true}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "1ec67290-915c-46b5-a859-feab0f54ec0b",
                  "name": "Permission Granted",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users",
                        "2",
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      }
                    ],
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\"permission\":\"admin\",\"granted\":true}"
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [],
                  "body": "[{\"permission\":\"admin\",\"granted\":true}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d2ecd5b4-0083-4263-bc79-d229274f38f9",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// Grant User Permission - POST /users/:userId/permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "        pm.expect(p).to.have.property(\"granted\");",
                      "        pm.expect(p.granted).to.be.a(\"boolean\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "d1178df8-2542-4101-8c68-7f139d867d9b"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "ba9a31a1-37f2-4549-8600-e648aa1fa79c",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "fb134314-d070-47bf-8d80-d1c5b6aa46fc"
                  }
                }
              ]
            },
            {
              "id": "0c92e2d2-f4e4-420d-963f-0bbd97e21ef2",
              "name": "Delete Users",
              "request": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": []
            }
          ],
          "event": [],
          "variable": [
            {
              "id": "4cbe099e-b4e5-40a9-a2aa-7332e1a9c92d",
              "type": "any",
              "value": "https://api.example.com",
              "key": "baseUrl"
            },
            {
              "id": "61d8da22-e8dd-4f50-bf45-a0df1e74e6c6",
              "type": "any",
              "value": "https://api.example.com",
              "key": "baseURL"
            },
            {
              "id": "d9cf6d13-1a56-4aa6-90e1-779d0f4bd96e",
              "type": "any",
              "value": "1",
              "key": "user_id"
            }
          ],
          "info": {
            "_postman_id": "bd515596-1c6f-4050-80ef-d2e9da663180",
            "name": "User Permissions API",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "# User Permissions API\n\n## Overview\nThe User Permissions API provides endpoints to manage users and their permissions within your application. It allows you to list users, retrieve and update their permissions, and manage available permission types. This API is ideal for applications that require fine-grained access control and user management.\n\n## Base URL\n```\n{{baseUrl}}\n```\nSet the `baseUrl` variable in your Postman environment or collection variables to point to your API server (e.g., `https://api.example.com`).\n\n## Authentication\nThis API typically requires authentication (e.g., Bearer token or API key) to access protected endpoints. Add the appropriate `Authorization` header to your requests:\n```\nAuthorization: Bearer <your_token>\n```\n_If your implementation differs, update the authentication method accordingly._\n\n## Endpoints\n\n### 1. List Users\n- **Endpoint:** `GET /users`\n- **Description:** Retrieves a list of all users.\n- **Request Example:**\n  ```http\n  GET {{baseUrl}}/users\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"id\": 1, \"name\": \"Alice\", \"email\": \"alice@example.com\"},\n    {\"id\": 2, \"name\": \"Bob\", \"email\": \"bob@example.com\"}\n  ]\n  ```\n\n### 2. Get User Permissions\n- **Endpoint:** `GET /users/{userId}/permissions`\n- **Description:** Retrieves the permissions assigned to a specific user.\n- **Request Example:**\n  ```http\n  GET {{baseUrl}}/users/1/permissions\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"read\", \"granted\": true},\n    {\"permission\": \"write\", \"granted\": false}\n  ]\n  ```\n\n### 3. Update User Permissions\n- **Endpoint:** `PUT /users/{userId}/permissions`\n- **Description:** Updates the permissions for a specific user. Provide an array of permission objects.\n- **Request Example:**\n  ```http\n  PUT {{baseUrl}}/users/1/permissions\n  Content-Type: application/json\n\n  [\n    {\"permission\": \"read\", \"granted\": true},\n    {\"permission\": \"write\", \"granted\": true}\n  ]\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"read\", \"granted\": true},\n    {\"permission\": \"write\", \"granted\": true}\n  ]\n  ```\n\n### 4. List Permissions\n- **Endpoint:** `GET /permissions`\n- **Description:** Lists all available permission types in the system.\n- **Request Example:**\n  ```http\n  GET {{baseUrl}}/permissions\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"read\"},\n    {\"permission\": \"write\"},\n    {\"permission\": \"admin\"}\n  ]\n  ```\n\n### 5. Grant User Permission\n- **Endpoint:** `POST /users/{userId}/permissions`\n- **Description:** Grants a specific permission to a user. Provide the permission object in the request body.\n- **Request Example:**\n  ```http\n  POST {{baseUrl}}/users/2/permissions\n  Content-Type: application/json\n\n  {\"permission\": \"admin\", \"granted\": true}\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"admin\", \"granted\": true}\n  ]\n  ```\n\n## Error Handling\n- **400 Bad Request:** Invalid input or missing required fields.\n- **401 Unauthorized:** Authentication failed or missing credentials.\n- **403 Forbidden:** Insufficient permissions to perform the operation.\n- **404 Not Found:** Resource does not exist (e.g., user or permission not found).\n- **500 Internal Server Error:** Unexpected server error.\n\nError responses typically include a JSON object with an `error` or `message` field describing the issue:\n```json\n{\n  \"error\": \"Invalid user ID.\"\n}\n```\n\n## Additional Notes\n- All endpoints return JSON responses.\n- Ensure you set the `baseUrl` variable before making requests.\n- For further details, refer to individual request documentation and examples in this collection.\n",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "b2de767b-a974-4bc1-a336-498c15718ad4",
          "length": 6,
          "cycles": 1,
          "position": 1,
          "iteration": 0,
          "httpRequestId": "a4b2811d-91d4-4675-ba02-3f95168c9e70",
          "scriptId": "7e155480-04f2-4aac-964a-f5d55c1fafe5",
          "execution": "dde87c4d-f961-4bbd-815a-36105df8f544"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 2,
          "test": "Each permission object has 'permission' and 'granted'",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:3:2)",
          "checksum": "022e8ba6436378481a1e4dae1c9b6c18",
          "id": "34e9ce3c-33d3-496e-a380-9120e6058751",
          "timestamp": 1767648245488,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 3,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 2,
              "native": false
            }
          ]
        },
        "at": "assertion:2 in test-script",
        "source": {
          "id": "d0d5b92f-a157-4076-a273-7cd7be31e61d",
          "name": "Get User Permissions",
          "request": {
            "url": {
              "path": [
                "users",
                "{{user_id}}",
                "permissions"
              ],
              "host": [
                "{{baseURL}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
              "id": "7dded541-98c0-46d8-9810-8d78ade5bb1c",
              "name": "Sample User Permissions",
              "originalRequest": {
                "url": {
                  "path": [
                    "users",
                    "1",
                    "permissions"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "status": "OK",
              "code": 200,
              "header": [],
              "body": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":false}]",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "7e155480-04f2-4aac-964a-f5d55c1fafe5",
                "type": "text/javascript",
                "packages": {},
                "exec": [
                  "// Get User Permissions - GET /users/:userId/permissions",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response is an array of permissions\", function () {",
                  "    const json = pm.response.json();",
                  "    pm.expect(Array.isArray(json)).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                  "    const json = pm.response.json();",
                  "    json.forEach(p => {",
                  "        pm.expect(p).to.have.property(\"permission\");",
                  "        pm.expect(p).to.have.property(\"granted\");",
                  "        pm.expect(p.granted).to.be.a(\"boolean\");",
                  "    });",
                  "});",
                  "",
                  "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                  "    if (pm.response.code >= 400) {",
                  "        let body;",
                  "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                  "        pm.expect(body).to.be.an(\"object\");",
                  "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                  "    }",
                  "});"
                ],
                "_lastExecutionId": "dde87c4d-f961-4bbd-815a-36105df8f544"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "19946b3c-9780-4ec3-a692-4b89d87c319b",
                "type": "text/javascript",
                "packages": {},
                "exec": [
                  ""
                ],
                "_lastExecutionId": "08e52a87-ceb5-4fbd-9e85-99e44a7c9d07"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "bd515596-1c6f-4050-80ef-d2e9da663180"
          },
          "item": [
            {
              "id": "c36f6790-2c4c-44dd-b926-e805020272e6",
              "name": "List Users",
              "request": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "d3d2f8b7-9f5b-4304-8dbd-5bdbcbf13c1e",
                  "name": "Example User List",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "GET"
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"id\":1,\"name\":\"Alice\",\"email\":\"alice@example.com\"},{\"id\":2,\"name\":\"Bob\",\"email\":\"bob@example.com\"}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2a2c39aa-365b-4c21-94e5-ead21d2ab3c7",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// List Users - GET /users",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of users\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each user has id, name, and email\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(user => {",
                      "        pm.expect(user).to.have.property(\"id\");",
                      "        pm.expect(user).to.have.property(\"name\");",
                      "        pm.expect(user).to.have.property(\"email\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});",
                      "",
                      "// Extract and save user_id for workflow chaining",
                      "if (pm.response.code === 200) {",
                      "    const json = pm.response.json();",
                      "    let userId = null;",
                      "    ",
                      "    // Handle different response structures",
                      "    if (Array.isArray(json) && json.length > 0) {",
                      "        // Response is an array of users - get first user's id",
                      "        userId = json[0].id;",
                      "    } else if (json && json.users && Array.isArray(json.users) && json.users.length > 0) {",
                      "        // Response is an object with a users array",
                      "        userId = json.users[0].id;",
                      "    } else if (json && json.id) {",
                      "        // Response is a single user object",
                      "        userId = json.id;",
                      "    }",
                      "    ",
                      "    if (userId !== null && userId !== undefined) {",
                      "        pm.collectionVariables.set(\"user_id\", userId);",
                      "        console.log(\"Saved user_id to collection variable:\", userId);",
                      "    } else {",
                      "        console.warn(\"Could not extract user_id from response\");",
                      "    }",
                      "}"
                    ],
                    "_lastExecutionId": "d428eae5-cef9-425a-a2c5-1524af695dae"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "14d131a4-2690-4b11-9606-7a2a2205a905",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "1d9d1166-b551-4169-ae70-2e9f764486c4"
                  }
                }
              ]
            },
            {
              "id": "d0d5b92f-a157-4076-a273-7cd7be31e61d",
              "name": "Get User Permissions",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{user_id}}",
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "7dded541-98c0-46d8-9810-8d78ade5bb1c",
                  "name": "Sample User Permissions",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users",
                        "1",
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "GET"
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":false}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7e155480-04f2-4aac-964a-f5d55c1fafe5",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// Get User Permissions - GET /users/:userId/permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "        pm.expect(p).to.have.property(\"granted\");",
                      "        pm.expect(p.granted).to.be.a(\"boolean\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "dde87c4d-f961-4bbd-815a-36105df8f544"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "19946b3c-9780-4ec3-a692-4b89d87c319b",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "08e52a87-ceb5-4fbd-9e85-99e44a7c9d07"
                  }
                }
              ]
            },
            {
              "id": "064dcb96-31c1-45a9-aca1-75a344de354a",
              "name": "Update User Permissions",
              "request": {
                "url": {
                  "path": [
                    "users",
                    ":userId",
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": [
                    {
                      "description": {
                        "content": "The ID of the user whose permissions to update",
                        "type": "text/plain"
                      },
                      "type": "any",
                      "value": "1",
                      "key": "userId"
                    }
                  ]
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "66c5dc51-c86b-4015-84c1-77383a8b3494",
                  "name": "Permissions Updated",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users",
                        "1",
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      }
                    ],
                    "method": "PUT",
                    "body": {
                      "mode": "raw",
                      "raw": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]"
                    }
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f35e1b77-cd87-4700-aaa6-b1f125852c6d",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// Update User Permissions - PUT /users/:userId/permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "        pm.expect(p).to.have.property(\"granted\");",
                      "        pm.expect(p.granted).to.be.a(\"boolean\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "cd9eaded-03dc-4ba2-bbe1-ecbbd752e908"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "fa4695aa-a5bf-46d4-9b88-e6595d9cf764",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "579f1a0d-51f4-49d8-b853-dfa1f58d4d3f"
                  }
                }
              ]
            },
            {
              "id": "d9aa22ec-bffa-4257-be24-c73fb5d7341a",
              "name": "List Permissions",
              "request": {
                "url": {
                  "path": [
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "f0bb0294-1f38-497a-baec-e50eb63f8b69",
                  "name": "Permission Types",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "GET"
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"permission\":\"read\"},{\"permission\":\"write\"},{\"permission\":\"admin\"}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "fbe4ce27-58ea-4d40-9ee5-11477360e2b0",
                    "type": "text/javascript",
                    "exec": [
                      "// List Permissions - GET /permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "e622739d-4d1d-4379-b644-971fdb74f95e"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "ed435988-d76f-42bb-ac0a-0cf4ca6dd622",
                    "type": "text/javascript",
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "8b7f04b3-5142-417e-9d63-9f74c72f181e"
                  }
                }
              ]
            },
            {
              "id": "b7655962-6be3-4b61-83b0-4afee7de803e",
              "name": "Grant User Permission",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{user_id}}",
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\"permission\":\"admin\",\"granted\":true}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "1ec67290-915c-46b5-a859-feab0f54ec0b",
                  "name": "Permission Granted",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users",
                        "2",
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      }
                    ],
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\"permission\":\"admin\",\"granted\":true}"
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [],
                  "body": "[{\"permission\":\"admin\",\"granted\":true}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d2ecd5b4-0083-4263-bc79-d229274f38f9",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// Grant User Permission - POST /users/:userId/permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "        pm.expect(p).to.have.property(\"granted\");",
                      "        pm.expect(p.granted).to.be.a(\"boolean\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "d1178df8-2542-4101-8c68-7f139d867d9b"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "ba9a31a1-37f2-4549-8600-e648aa1fa79c",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "fb134314-d070-47bf-8d80-d1c5b6aa46fc"
                  }
                }
              ]
            },
            {
              "id": "0c92e2d2-f4e4-420d-963f-0bbd97e21ef2",
              "name": "Delete Users",
              "request": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": []
            }
          ],
          "event": [],
          "variable": [
            {
              "id": "4cbe099e-b4e5-40a9-a2aa-7332e1a9c92d",
              "type": "any",
              "value": "https://api.example.com",
              "key": "baseUrl"
            },
            {
              "id": "61d8da22-e8dd-4f50-bf45-a0df1e74e6c6",
              "type": "any",
              "value": "https://api.example.com",
              "key": "baseURL"
            },
            {
              "id": "d9cf6d13-1a56-4aa6-90e1-779d0f4bd96e",
              "type": "any",
              "value": "1",
              "key": "user_id"
            }
          ],
          "info": {
            "_postman_id": "bd515596-1c6f-4050-80ef-d2e9da663180",
            "name": "User Permissions API",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "# User Permissions API\n\n## Overview\nThe User Permissions API provides endpoints to manage users and their permissions within your application. It allows you to list users, retrieve and update their permissions, and manage available permission types. This API is ideal for applications that require fine-grained access control and user management.\n\n## Base URL\n```\n{{baseUrl}}\n```\nSet the `baseUrl` variable in your Postman environment or collection variables to point to your API server (e.g., `https://api.example.com`).\n\n## Authentication\nThis API typically requires authentication (e.g., Bearer token or API key) to access protected endpoints. Add the appropriate `Authorization` header to your requests:\n```\nAuthorization: Bearer <your_token>\n```\n_If your implementation differs, update the authentication method accordingly._\n\n## Endpoints\n\n### 1. List Users\n- **Endpoint:** `GET /users`\n- **Description:** Retrieves a list of all users.\n- **Request Example:**\n  ```http\n  GET {{baseUrl}}/users\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"id\": 1, \"name\": \"Alice\", \"email\": \"alice@example.com\"},\n    {\"id\": 2, \"name\": \"Bob\", \"email\": \"bob@example.com\"}\n  ]\n  ```\n\n### 2. Get User Permissions\n- **Endpoint:** `GET /users/{userId}/permissions`\n- **Description:** Retrieves the permissions assigned to a specific user.\n- **Request Example:**\n  ```http\n  GET {{baseUrl}}/users/1/permissions\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"read\", \"granted\": true},\n    {\"permission\": \"write\", \"granted\": false}\n  ]\n  ```\n\n### 3. Update User Permissions\n- **Endpoint:** `PUT /users/{userId}/permissions`\n- **Description:** Updates the permissions for a specific user. Provide an array of permission objects.\n- **Request Example:**\n  ```http\n  PUT {{baseUrl}}/users/1/permissions\n  Content-Type: application/json\n\n  [\n    {\"permission\": \"read\", \"granted\": true},\n    {\"permission\": \"write\", \"granted\": true}\n  ]\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"read\", \"granted\": true},\n    {\"permission\": \"write\", \"granted\": true}\n  ]\n  ```\n\n### 4. List Permissions\n- **Endpoint:** `GET /permissions`\n- **Description:** Lists all available permission types in the system.\n- **Request Example:**\n  ```http\n  GET {{baseUrl}}/permissions\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"read\"},\n    {\"permission\": \"write\"},\n    {\"permission\": \"admin\"}\n  ]\n  ```\n\n### 5. Grant User Permission\n- **Endpoint:** `POST /users/{userId}/permissions`\n- **Description:** Grants a specific permission to a user. Provide the permission object in the request body.\n- **Request Example:**\n  ```http\n  POST {{baseUrl}}/users/2/permissions\n  Content-Type: application/json\n\n  {\"permission\": \"admin\", \"granted\": true}\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"admin\", \"granted\": true}\n  ]\n  ```\n\n## Error Handling\n- **400 Bad Request:** Invalid input or missing required fields.\n- **401 Unauthorized:** Authentication failed or missing credentials.\n- **403 Forbidden:** Insufficient permissions to perform the operation.\n- **404 Not Found:** Resource does not exist (e.g., user or permission not found).\n- **500 Internal Server Error:** Unexpected server error.\n\nError responses typically include a JSON object with an `error` or `message` field describing the issue:\n```json\n{\n  \"error\": \"Invalid user ID.\"\n}\n```\n\n## Additional Notes\n- All endpoints return JSON responses.\n- Ensure you set the `baseUrl` variable before making requests.\n- For further details, refer to individual request documentation and examples in this collection.\n",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "b2de767b-a974-4bc1-a336-498c15718ad4",
          "length": 6,
          "cycles": 1,
          "position": 1,
          "iteration": 0,
          "httpRequestId": "a4b2811d-91d4-4675-ba02-3f95168c9e70",
          "scriptId": "7e155480-04f2-4aac-964a-f5d55c1fafe5",
          "execution": "dde87c4d-f961-4bbd-815a-36105df8f544"
        }
      },
      {
        "error": {
          "errno": -3008,
          "code": "ENOTFOUND",
          "syscall": "getaddrinfo",
          "hostname": "api.example.com",
          "name": "Error",
          "message": "getaddrinfo ENOTFOUND api.example.com",
          "stack": "Error: getaddrinfo ENOTFOUND api.example.com\n    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)",
          "checksum": "e6d98f61253e2bdc0f589410c34739e0",
          "id": "0d57c7d0-c127-4931-b497-251f47622fd5",
          "timestamp": 1767648245498,
          "stacktrace": [
            {
              "fileName": "node:dns",
              "lineNumber": 122,
              "functionName": "GetAddrInfoReqWrap.onlookupall [as oncomplete]",
              "typeName": "GetAddrInfoReqWrap",
              "methodName": "onlookupall [as oncomplete]",
              "columnNumber": 26,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "064dcb96-31c1-45a9-aca1-75a344de354a",
          "name": "Update User Permissions",
          "request": {
            "url": {
              "protocol": "https",
              "path": [
                "users",
                "1",
                "permissions"
              ],
              "host": [
                "api",
                "example",
                "com"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "2955d414-8755-4421-b96b-44a46120e781",
                "system": true
              },
              {
                "key": "Host",
                "value": "api.example.com",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "PUT",
            "body": {
              "mode": "raw",
              "raw": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]"
            }
          },
          "response": [
            {
              "id": "66c5dc51-c86b-4015-84c1-77383a8b3494",
              "name": "Permissions Updated",
              "originalRequest": {
                "url": {
                  "path": [
                    "users",
                    "1",
                    "permissions"
                  ],
                  "host": [
                    "https://api.example.com"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]"
                }
              },
              "status": "OK",
              "code": 200,
              "header": [],
              "body": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "f35e1b77-cd87-4700-aaa6-b1f125852c6d",
                "type": "text/javascript",
                "packages": {},
                "exec": [
                  "// Update User Permissions - PUT /users/:userId/permissions",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response is an array of permissions\", function () {",
                  "    const json = pm.response.json();",
                  "    pm.expect(Array.isArray(json)).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                  "    const json = pm.response.json();",
                  "    json.forEach(p => {",
                  "        pm.expect(p).to.have.property(\"permission\");",
                  "        pm.expect(p).to.have.property(\"granted\");",
                  "        pm.expect(p.granted).to.be.a(\"boolean\");",
                  "    });",
                  "});",
                  "",
                  "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                  "    if (pm.response.code >= 400) {",
                  "        let body;",
                  "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                  "        pm.expect(body).to.be.an(\"object\");",
                  "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                  "    }",
                  "});"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "fa4695aa-a5bf-46d4-9b88-e6595d9cf764",
                "type": "text/javascript",
                "packages": {},
                "exec": [
                  ""
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "db59de33-606f-4b61-a99b-e4644aad2f10",
          "length": 6,
          "cycles": 1,
          "position": 2,
          "iteration": 0,
          "httpRequestId": "db714025-f385-41b3-b3ef-9a87081143a9"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status code is 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:3)",
          "checksum": "470ce06f8bb94c3fa9bc0a37723a5549",
          "id": "e3601950-6e7a-4303-9e68-b804031a174a",
          "timestamp": 1767648245501,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 3,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "064dcb96-31c1-45a9-aca1-75a344de354a",
          "name": "Update User Permissions",
          "request": {
            "url": {
              "path": [
                "users",
                ":userId",
                "permissions"
              ],
              "host": [
                "{{baseURL}}"
              ],
              "query": [],
              "variable": [
                {
                  "description": {
                    "content": "The ID of the user whose permissions to update",
                    "type": "text/plain"
                  },
                  "type": "any",
                  "value": "1",
                  "key": "userId"
                }
              ]
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "PUT",
            "body": {
              "mode": "raw",
              "raw": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]"
            }
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
              "id": "66c5dc51-c86b-4015-84c1-77383a8b3494",
              "name": "Permissions Updated",
              "originalRequest": {
                "url": {
                  "path": [
                    "users",
                    "1",
                    "permissions"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]"
                }
              },
              "status": "OK",
              "code": 200,
              "header": [],
              "body": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "f35e1b77-cd87-4700-aaa6-b1f125852c6d",
                "type": "text/javascript",
                "packages": {},
                "exec": [
                  "// Update User Permissions - PUT /users/:userId/permissions",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response is an array of permissions\", function () {",
                  "    const json = pm.response.json();",
                  "    pm.expect(Array.isArray(json)).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                  "    const json = pm.response.json();",
                  "    json.forEach(p => {",
                  "        pm.expect(p).to.have.property(\"permission\");",
                  "        pm.expect(p).to.have.property(\"granted\");",
                  "        pm.expect(p.granted).to.be.a(\"boolean\");",
                  "    });",
                  "});",
                  "",
                  "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                  "    if (pm.response.code >= 400) {",
                  "        let body;",
                  "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                  "        pm.expect(body).to.be.an(\"object\");",
                  "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                  "    }",
                  "});"
                ],
                "_lastExecutionId": "cd9eaded-03dc-4ba2-bbe1-ecbbd752e908"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "fa4695aa-a5bf-46d4-9b88-e6595d9cf764",
                "type": "text/javascript",
                "packages": {},
                "exec": [
                  ""
                ],
                "_lastExecutionId": "579f1a0d-51f4-49d8-b853-dfa1f58d4d3f"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "bd515596-1c6f-4050-80ef-d2e9da663180"
          },
          "item": [
            {
              "id": "c36f6790-2c4c-44dd-b926-e805020272e6",
              "name": "List Users",
              "request": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "d3d2f8b7-9f5b-4304-8dbd-5bdbcbf13c1e",
                  "name": "Example User List",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "GET"
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"id\":1,\"name\":\"Alice\",\"email\":\"alice@example.com\"},{\"id\":2,\"name\":\"Bob\",\"email\":\"bob@example.com\"}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2a2c39aa-365b-4c21-94e5-ead21d2ab3c7",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// List Users - GET /users",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of users\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each user has id, name, and email\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(user => {",
                      "        pm.expect(user).to.have.property(\"id\");",
                      "        pm.expect(user).to.have.property(\"name\");",
                      "        pm.expect(user).to.have.property(\"email\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});",
                      "",
                      "// Extract and save user_id for workflow chaining",
                      "if (pm.response.code === 200) {",
                      "    const json = pm.response.json();",
                      "    let userId = null;",
                      "    ",
                      "    // Handle different response structures",
                      "    if (Array.isArray(json) && json.length > 0) {",
                      "        // Response is an array of users - get first user's id",
                      "        userId = json[0].id;",
                      "    } else if (json && json.users && Array.isArray(json.users) && json.users.length > 0) {",
                      "        // Response is an object with a users array",
                      "        userId = json.users[0].id;",
                      "    } else if (json && json.id) {",
                      "        // Response is a single user object",
                      "        userId = json.id;",
                      "    }",
                      "    ",
                      "    if (userId !== null && userId !== undefined) {",
                      "        pm.collectionVariables.set(\"user_id\", userId);",
                      "        console.log(\"Saved user_id to collection variable:\", userId);",
                      "    } else {",
                      "        console.warn(\"Could not extract user_id from response\");",
                      "    }",
                      "}"
                    ],
                    "_lastExecutionId": "d428eae5-cef9-425a-a2c5-1524af695dae"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "14d131a4-2690-4b11-9606-7a2a2205a905",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "1d9d1166-b551-4169-ae70-2e9f764486c4"
                  }
                }
              ]
            },
            {
              "id": "d0d5b92f-a157-4076-a273-7cd7be31e61d",
              "name": "Get User Permissions",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{user_id}}",
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "7dded541-98c0-46d8-9810-8d78ade5bb1c",
                  "name": "Sample User Permissions",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users",
                        "1",
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "GET"
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":false}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7e155480-04f2-4aac-964a-f5d55c1fafe5",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// Get User Permissions - GET /users/:userId/permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "        pm.expect(p).to.have.property(\"granted\");",
                      "        pm.expect(p.granted).to.be.a(\"boolean\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "dde87c4d-f961-4bbd-815a-36105df8f544"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "19946b3c-9780-4ec3-a692-4b89d87c319b",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "08e52a87-ceb5-4fbd-9e85-99e44a7c9d07"
                  }
                }
              ]
            },
            {
              "id": "064dcb96-31c1-45a9-aca1-75a344de354a",
              "name": "Update User Permissions",
              "request": {
                "url": {
                  "path": [
                    "users",
                    ":userId",
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": [
                    {
                      "description": {
                        "content": "The ID of the user whose permissions to update",
                        "type": "text/plain"
                      },
                      "type": "any",
                      "value": "1",
                      "key": "userId"
                    }
                  ]
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "66c5dc51-c86b-4015-84c1-77383a8b3494",
                  "name": "Permissions Updated",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users",
                        "1",
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      }
                    ],
                    "method": "PUT",
                    "body": {
                      "mode": "raw",
                      "raw": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]"
                    }
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f35e1b77-cd87-4700-aaa6-b1f125852c6d",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// Update User Permissions - PUT /users/:userId/permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "        pm.expect(p).to.have.property(\"granted\");",
                      "        pm.expect(p.granted).to.be.a(\"boolean\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "cd9eaded-03dc-4ba2-bbe1-ecbbd752e908"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "fa4695aa-a5bf-46d4-9b88-e6595d9cf764",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "579f1a0d-51f4-49d8-b853-dfa1f58d4d3f"
                  }
                }
              ]
            },
            {
              "id": "d9aa22ec-bffa-4257-be24-c73fb5d7341a",
              "name": "List Permissions",
              "request": {
                "url": {
                  "path": [
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "f0bb0294-1f38-497a-baec-e50eb63f8b69",
                  "name": "Permission Types",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "GET"
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"permission\":\"read\"},{\"permission\":\"write\"},{\"permission\":\"admin\"}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "fbe4ce27-58ea-4d40-9ee5-11477360e2b0",
                    "type": "text/javascript",
                    "exec": [
                      "// List Permissions - GET /permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "e622739d-4d1d-4379-b644-971fdb74f95e"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "ed435988-d76f-42bb-ac0a-0cf4ca6dd622",
                    "type": "text/javascript",
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "8b7f04b3-5142-417e-9d63-9f74c72f181e"
                  }
                }
              ]
            },
            {
              "id": "b7655962-6be3-4b61-83b0-4afee7de803e",
              "name": "Grant User Permission",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{user_id}}",
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\"permission\":\"admin\",\"granted\":true}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "1ec67290-915c-46b5-a859-feab0f54ec0b",
                  "name": "Permission Granted",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users",
                        "2",
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      }
                    ],
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\"permission\":\"admin\",\"granted\":true}"
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [],
                  "body": "[{\"permission\":\"admin\",\"granted\":true}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d2ecd5b4-0083-4263-bc79-d229274f38f9",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// Grant User Permission - POST /users/:userId/permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "        pm.expect(p).to.have.property(\"granted\");",
                      "        pm.expect(p.granted).to.be.a(\"boolean\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "d1178df8-2542-4101-8c68-7f139d867d9b"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "ba9a31a1-37f2-4549-8600-e648aa1fa79c",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "fb134314-d070-47bf-8d80-d1c5b6aa46fc"
                  }
                }
              ]
            },
            {
              "id": "0c92e2d2-f4e4-420d-963f-0bbd97e21ef2",
              "name": "Delete Users",
              "request": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": []
            }
          ],
          "event": [],
          "variable": [
            {
              "id": "4cbe099e-b4e5-40a9-a2aa-7332e1a9c92d",
              "type": "any",
              "value": "https://api.example.com",
              "key": "baseUrl"
            },
            {
              "id": "61d8da22-e8dd-4f50-bf45-a0df1e74e6c6",
              "type": "any",
              "value": "https://api.example.com",
              "key": "baseURL"
            },
            {
              "id": "d9cf6d13-1a56-4aa6-90e1-779d0f4bd96e",
              "type": "any",
              "value": "1",
              "key": "user_id"
            }
          ],
          "info": {
            "_postman_id": "bd515596-1c6f-4050-80ef-d2e9da663180",
            "name": "User Permissions API",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "# User Permissions API\n\n## Overview\nThe User Permissions API provides endpoints to manage users and their permissions within your application. It allows you to list users, retrieve and update their permissions, and manage available permission types. This API is ideal for applications that require fine-grained access control and user management.\n\n## Base URL\n```\n{{baseUrl}}\n```\nSet the `baseUrl` variable in your Postman environment or collection variables to point to your API server (e.g., `https://api.example.com`).\n\n## Authentication\nThis API typically requires authentication (e.g., Bearer token or API key) to access protected endpoints. Add the appropriate `Authorization` header to your requests:\n```\nAuthorization: Bearer <your_token>\n```\n_If your implementation differs, update the authentication method accordingly._\n\n## Endpoints\n\n### 1. List Users\n- **Endpoint:** `GET /users`\n- **Description:** Retrieves a list of all users.\n- **Request Example:**\n  ```http\n  GET {{baseUrl}}/users\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"id\": 1, \"name\": \"Alice\", \"email\": \"alice@example.com\"},\n    {\"id\": 2, \"name\": \"Bob\", \"email\": \"bob@example.com\"}\n  ]\n  ```\n\n### 2. Get User Permissions\n- **Endpoint:** `GET /users/{userId}/permissions`\n- **Description:** Retrieves the permissions assigned to a specific user.\n- **Request Example:**\n  ```http\n  GET {{baseUrl}}/users/1/permissions\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"read\", \"granted\": true},\n    {\"permission\": \"write\", \"granted\": false}\n  ]\n  ```\n\n### 3. Update User Permissions\n- **Endpoint:** `PUT /users/{userId}/permissions`\n- **Description:** Updates the permissions for a specific user. Provide an array of permission objects.\n- **Request Example:**\n  ```http\n  PUT {{baseUrl}}/users/1/permissions\n  Content-Type: application/json\n\n  [\n    {\"permission\": \"read\", \"granted\": true},\n    {\"permission\": \"write\", \"granted\": true}\n  ]\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"read\", \"granted\": true},\n    {\"permission\": \"write\", \"granted\": true}\n  ]\n  ```\n\n### 4. List Permissions\n- **Endpoint:** `GET /permissions`\n- **Description:** Lists all available permission types in the system.\n- **Request Example:**\n  ```http\n  GET {{baseUrl}}/permissions\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"read\"},\n    {\"permission\": \"write\"},\n    {\"permission\": \"admin\"}\n  ]\n  ```\n\n### 5. Grant User Permission\n- **Endpoint:** `POST /users/{userId}/permissions`\n- **Description:** Grants a specific permission to a user. Provide the permission object in the request body.\n- **Request Example:**\n  ```http\n  POST {{baseUrl}}/users/2/permissions\n  Content-Type: application/json\n\n  {\"permission\": \"admin\", \"granted\": true}\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"admin\", \"granted\": true}\n  ]\n  ```\n\n## Error Handling\n- **400 Bad Request:** Invalid input or missing required fields.\n- **401 Unauthorized:** Authentication failed or missing credentials.\n- **403 Forbidden:** Insufficient permissions to perform the operation.\n- **404 Not Found:** Resource does not exist (e.g., user or permission not found).\n- **500 Internal Server Error:** Unexpected server error.\n\nError responses typically include a JSON object with an `error` or `message` field describing the issue:\n```json\n{\n  \"error\": \"Invalid user ID.\"\n}\n```\n\n## Additional Notes\n- All endpoints return JSON responses.\n- Ensure you set the `baseUrl` variable before making requests.\n- For further details, refer to individual request documentation and examples in this collection.\n",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "db59de33-606f-4b61-a99b-e4644aad2f10",
          "length": 6,
          "cycles": 1,
          "position": 2,
          "iteration": 0,
          "httpRequestId": "db714025-f385-41b3-b3ef-9a87081143a9",
          "scriptId": "f35e1b77-cd87-4700-aaa6-b1f125852c6d",
          "execution": "cd9eaded-03dc-4ba2-bbe1-ecbbd752e908"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 1,
          "test": "Response is an array of permissions",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:2:3)",
          "checksum": "2a428a59ffe4824138377ad5f649865e",
          "id": "608faac5-8b6c-4049-b007-14e844f78b37",
          "timestamp": 1767648245502,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 3,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "064dcb96-31c1-45a9-aca1-75a344de354a",
          "name": "Update User Permissions",
          "request": {
            "url": {
              "path": [
                "users",
                ":userId",
                "permissions"
              ],
              "host": [
                "{{baseURL}}"
              ],
              "query": [],
              "variable": [
                {
                  "description": {
                    "content": "The ID of the user whose permissions to update",
                    "type": "text/plain"
                  },
                  "type": "any",
                  "value": "1",
                  "key": "userId"
                }
              ]
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "PUT",
            "body": {
              "mode": "raw",
              "raw": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]"
            }
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
              "id": "66c5dc51-c86b-4015-84c1-77383a8b3494",
              "name": "Permissions Updated",
              "originalRequest": {
                "url": {
                  "path": [
                    "users",
                    "1",
                    "permissions"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]"
                }
              },
              "status": "OK",
              "code": 200,
              "header": [],
              "body": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "f35e1b77-cd87-4700-aaa6-b1f125852c6d",
                "type": "text/javascript",
                "packages": {},
                "exec": [
                  "// Update User Permissions - PUT /users/:userId/permissions",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response is an array of permissions\", function () {",
                  "    const json = pm.response.json();",
                  "    pm.expect(Array.isArray(json)).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                  "    const json = pm.response.json();",
                  "    json.forEach(p => {",
                  "        pm.expect(p).to.have.property(\"permission\");",
                  "        pm.expect(p).to.have.property(\"granted\");",
                  "        pm.expect(p.granted).to.be.a(\"boolean\");",
                  "    });",
                  "});",
                  "",
                  "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                  "    if (pm.response.code >= 400) {",
                  "        let body;",
                  "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                  "        pm.expect(body).to.be.an(\"object\");",
                  "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                  "    }",
                  "});"
                ],
                "_lastExecutionId": "cd9eaded-03dc-4ba2-bbe1-ecbbd752e908"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "fa4695aa-a5bf-46d4-9b88-e6595d9cf764",
                "type": "text/javascript",
                "packages": {},
                "exec": [
                  ""
                ],
                "_lastExecutionId": "579f1a0d-51f4-49d8-b853-dfa1f58d4d3f"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "bd515596-1c6f-4050-80ef-d2e9da663180"
          },
          "item": [
            {
              "id": "c36f6790-2c4c-44dd-b926-e805020272e6",
              "name": "List Users",
              "request": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "d3d2f8b7-9f5b-4304-8dbd-5bdbcbf13c1e",
                  "name": "Example User List",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "GET"
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"id\":1,\"name\":\"Alice\",\"email\":\"alice@example.com\"},{\"id\":2,\"name\":\"Bob\",\"email\":\"bob@example.com\"}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2a2c39aa-365b-4c21-94e5-ead21d2ab3c7",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// List Users - GET /users",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of users\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each user has id, name, and email\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(user => {",
                      "        pm.expect(user).to.have.property(\"id\");",
                      "        pm.expect(user).to.have.property(\"name\");",
                      "        pm.expect(user).to.have.property(\"email\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});",
                      "",
                      "// Extract and save user_id for workflow chaining",
                      "if (pm.response.code === 200) {",
                      "    const json = pm.response.json();",
                      "    let userId = null;",
                      "    ",
                      "    // Handle different response structures",
                      "    if (Array.isArray(json) && json.length > 0) {",
                      "        // Response is an array of users - get first user's id",
                      "        userId = json[0].id;",
                      "    } else if (json && json.users && Array.isArray(json.users) && json.users.length > 0) {",
                      "        // Response is an object with a users array",
                      "        userId = json.users[0].id;",
                      "    } else if (json && json.id) {",
                      "        // Response is a single user object",
                      "        userId = json.id;",
                      "    }",
                      "    ",
                      "    if (userId !== null && userId !== undefined) {",
                      "        pm.collectionVariables.set(\"user_id\", userId);",
                      "        console.log(\"Saved user_id to collection variable:\", userId);",
                      "    } else {",
                      "        console.warn(\"Could not extract user_id from response\");",
                      "    }",
                      "}"
                    ],
                    "_lastExecutionId": "d428eae5-cef9-425a-a2c5-1524af695dae"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "14d131a4-2690-4b11-9606-7a2a2205a905",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "1d9d1166-b551-4169-ae70-2e9f764486c4"
                  }
                }
              ]
            },
            {
              "id": "d0d5b92f-a157-4076-a273-7cd7be31e61d",
              "name": "Get User Permissions",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{user_id}}",
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "7dded541-98c0-46d8-9810-8d78ade5bb1c",
                  "name": "Sample User Permissions",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users",
                        "1",
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "GET"
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":false}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7e155480-04f2-4aac-964a-f5d55c1fafe5",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// Get User Permissions - GET /users/:userId/permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "        pm.expect(p).to.have.property(\"granted\");",
                      "        pm.expect(p.granted).to.be.a(\"boolean\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "dde87c4d-f961-4bbd-815a-36105df8f544"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "19946b3c-9780-4ec3-a692-4b89d87c319b",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "08e52a87-ceb5-4fbd-9e85-99e44a7c9d07"
                  }
                }
              ]
            },
            {
              "id": "064dcb96-31c1-45a9-aca1-75a344de354a",
              "name": "Update User Permissions",
              "request": {
                "url": {
                  "path": [
                    "users",
                    ":userId",
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": [
                    {
                      "description": {
                        "content": "The ID of the user whose permissions to update",
                        "type": "text/plain"
                      },
                      "type": "any",
                      "value": "1",
                      "key": "userId"
                    }
                  ]
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "66c5dc51-c86b-4015-84c1-77383a8b3494",
                  "name": "Permissions Updated",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users",
                        "1",
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      }
                    ],
                    "method": "PUT",
                    "body": {
                      "mode": "raw",
                      "raw": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]"
                    }
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f35e1b77-cd87-4700-aaa6-b1f125852c6d",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// Update User Permissions - PUT /users/:userId/permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "        pm.expect(p).to.have.property(\"granted\");",
                      "        pm.expect(p.granted).to.be.a(\"boolean\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "cd9eaded-03dc-4ba2-bbe1-ecbbd752e908"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "fa4695aa-a5bf-46d4-9b88-e6595d9cf764",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "579f1a0d-51f4-49d8-b853-dfa1f58d4d3f"
                  }
                }
              ]
            },
            {
              "id": "d9aa22ec-bffa-4257-be24-c73fb5d7341a",
              "name": "List Permissions",
              "request": {
                "url": {
                  "path": [
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "f0bb0294-1f38-497a-baec-e50eb63f8b69",
                  "name": "Permission Types",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "GET"
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"permission\":\"read\"},{\"permission\":\"write\"},{\"permission\":\"admin\"}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "fbe4ce27-58ea-4d40-9ee5-11477360e2b0",
                    "type": "text/javascript",
                    "exec": [
                      "// List Permissions - GET /permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "e622739d-4d1d-4379-b644-971fdb74f95e"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "ed435988-d76f-42bb-ac0a-0cf4ca6dd622",
                    "type": "text/javascript",
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "8b7f04b3-5142-417e-9d63-9f74c72f181e"
                  }
                }
              ]
            },
            {
              "id": "b7655962-6be3-4b61-83b0-4afee7de803e",
              "name": "Grant User Permission",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{user_id}}",
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\"permission\":\"admin\",\"granted\":true}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "1ec67290-915c-46b5-a859-feab0f54ec0b",
                  "name": "Permission Granted",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users",
                        "2",
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      }
                    ],
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\"permission\":\"admin\",\"granted\":true}"
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [],
                  "body": "[{\"permission\":\"admin\",\"granted\":true}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d2ecd5b4-0083-4263-bc79-d229274f38f9",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// Grant User Permission - POST /users/:userId/permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "        pm.expect(p).to.have.property(\"granted\");",
                      "        pm.expect(p.granted).to.be.a(\"boolean\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "d1178df8-2542-4101-8c68-7f139d867d9b"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "ba9a31a1-37f2-4549-8600-e648aa1fa79c",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "fb134314-d070-47bf-8d80-d1c5b6aa46fc"
                  }
                }
              ]
            },
            {
              "id": "0c92e2d2-f4e4-420d-963f-0bbd97e21ef2",
              "name": "Delete Users",
              "request": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": []
            }
          ],
          "event": [],
          "variable": [
            {
              "id": "4cbe099e-b4e5-40a9-a2aa-7332e1a9c92d",
              "type": "any",
              "value": "https://api.example.com",
              "key": "baseUrl"
            },
            {
              "id": "61d8da22-e8dd-4f50-bf45-a0df1e74e6c6",
              "type": "any",
              "value": "https://api.example.com",
              "key": "baseURL"
            },
            {
              "id": "d9cf6d13-1a56-4aa6-90e1-779d0f4bd96e",
              "type": "any",
              "value": "1",
              "key": "user_id"
            }
          ],
          "info": {
            "_postman_id": "bd515596-1c6f-4050-80ef-d2e9da663180",
            "name": "User Permissions API",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "# User Permissions API\n\n## Overview\nThe User Permissions API provides endpoints to manage users and their permissions within your application. It allows you to list users, retrieve and update their permissions, and manage available permission types. This API is ideal for applications that require fine-grained access control and user management.\n\n## Base URL\n```\n{{baseUrl}}\n```\nSet the `baseUrl` variable in your Postman environment or collection variables to point to your API server (e.g., `https://api.example.com`).\n\n## Authentication\nThis API typically requires authentication (e.g., Bearer token or API key) to access protected endpoints. Add the appropriate `Authorization` header to your requests:\n```\nAuthorization: Bearer <your_token>\n```\n_If your implementation differs, update the authentication method accordingly._\n\n## Endpoints\n\n### 1. List Users\n- **Endpoint:** `GET /users`\n- **Description:** Retrieves a list of all users.\n- **Request Example:**\n  ```http\n  GET {{baseUrl}}/users\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"id\": 1, \"name\": \"Alice\", \"email\": \"alice@example.com\"},\n    {\"id\": 2, \"name\": \"Bob\", \"email\": \"bob@example.com\"}\n  ]\n  ```\n\n### 2. Get User Permissions\n- **Endpoint:** `GET /users/{userId}/permissions`\n- **Description:** Retrieves the permissions assigned to a specific user.\n- **Request Example:**\n  ```http\n  GET {{baseUrl}}/users/1/permissions\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"read\", \"granted\": true},\n    {\"permission\": \"write\", \"granted\": false}\n  ]\n  ```\n\n### 3. Update User Permissions\n- **Endpoint:** `PUT /users/{userId}/permissions`\n- **Description:** Updates the permissions for a specific user. Provide an array of permission objects.\n- **Request Example:**\n  ```http\n  PUT {{baseUrl}}/users/1/permissions\n  Content-Type: application/json\n\n  [\n    {\"permission\": \"read\", \"granted\": true},\n    {\"permission\": \"write\", \"granted\": true}\n  ]\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"read\", \"granted\": true},\n    {\"permission\": \"write\", \"granted\": true}\n  ]\n  ```\n\n### 4. List Permissions\n- **Endpoint:** `GET /permissions`\n- **Description:** Lists all available permission types in the system.\n- **Request Example:**\n  ```http\n  GET {{baseUrl}}/permissions\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"read\"},\n    {\"permission\": \"write\"},\n    {\"permission\": \"admin\"}\n  ]\n  ```\n\n### 5. Grant User Permission\n- **Endpoint:** `POST /users/{userId}/permissions`\n- **Description:** Grants a specific permission to a user. Provide the permission object in the request body.\n- **Request Example:**\n  ```http\n  POST {{baseUrl}}/users/2/permissions\n  Content-Type: application/json\n\n  {\"permission\": \"admin\", \"granted\": true}\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"admin\", \"granted\": true}\n  ]\n  ```\n\n## Error Handling\n- **400 Bad Request:** Invalid input or missing required fields.\n- **401 Unauthorized:** Authentication failed or missing credentials.\n- **403 Forbidden:** Insufficient permissions to perform the operation.\n- **404 Not Found:** Resource does not exist (e.g., user or permission not found).\n- **500 Internal Server Error:** Unexpected server error.\n\nError responses typically include a JSON object with an `error` or `message` field describing the issue:\n```json\n{\n  \"error\": \"Invalid user ID.\"\n}\n```\n\n## Additional Notes\n- All endpoints return JSON responses.\n- Ensure you set the `baseUrl` variable before making requests.\n- For further details, refer to individual request documentation and examples in this collection.\n",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "db59de33-606f-4b61-a99b-e4644aad2f10",
          "length": 6,
          "cycles": 1,
          "position": 2,
          "iteration": 0,
          "httpRequestId": "db714025-f385-41b3-b3ef-9a87081143a9",
          "scriptId": "f35e1b77-cd87-4700-aaa6-b1f125852c6d",
          "execution": "cd9eaded-03dc-4ba2-bbe1-ecbbd752e908"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 2,
          "test": "Each permission object has 'permission' and 'granted'",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:3:3)",
          "checksum": "5b78bb2f683bc2009426a3a765f517d9",
          "id": "c9cef525-9f03-4cb2-ab2f-e656004a884b",
          "timestamp": 1767648245502,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 3,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 3,
              "native": false
            }
          ]
        },
        "at": "assertion:2 in test-script",
        "source": {
          "id": "064dcb96-31c1-45a9-aca1-75a344de354a",
          "name": "Update User Permissions",
          "request": {
            "url": {
              "path": [
                "users",
                ":userId",
                "permissions"
              ],
              "host": [
                "{{baseURL}}"
              ],
              "query": [],
              "variable": [
                {
                  "description": {
                    "content": "The ID of the user whose permissions to update",
                    "type": "text/plain"
                  },
                  "type": "any",
                  "value": "1",
                  "key": "userId"
                }
              ]
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "PUT",
            "body": {
              "mode": "raw",
              "raw": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]"
            }
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
              "id": "66c5dc51-c86b-4015-84c1-77383a8b3494",
              "name": "Permissions Updated",
              "originalRequest": {
                "url": {
                  "path": [
                    "users",
                    "1",
                    "permissions"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]"
                }
              },
              "status": "OK",
              "code": 200,
              "header": [],
              "body": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "f35e1b77-cd87-4700-aaa6-b1f125852c6d",
                "type": "text/javascript",
                "packages": {},
                "exec": [
                  "// Update User Permissions - PUT /users/:userId/permissions",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response is an array of permissions\", function () {",
                  "    const json = pm.response.json();",
                  "    pm.expect(Array.isArray(json)).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                  "    const json = pm.response.json();",
                  "    json.forEach(p => {",
                  "        pm.expect(p).to.have.property(\"permission\");",
                  "        pm.expect(p).to.have.property(\"granted\");",
                  "        pm.expect(p.granted).to.be.a(\"boolean\");",
                  "    });",
                  "});",
                  "",
                  "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                  "    if (pm.response.code >= 400) {",
                  "        let body;",
                  "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                  "        pm.expect(body).to.be.an(\"object\");",
                  "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                  "    }",
                  "});"
                ],
                "_lastExecutionId": "cd9eaded-03dc-4ba2-bbe1-ecbbd752e908"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "fa4695aa-a5bf-46d4-9b88-e6595d9cf764",
                "type": "text/javascript",
                "packages": {},
                "exec": [
                  ""
                ],
                "_lastExecutionId": "579f1a0d-51f4-49d8-b853-dfa1f58d4d3f"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "bd515596-1c6f-4050-80ef-d2e9da663180"
          },
          "item": [
            {
              "id": "c36f6790-2c4c-44dd-b926-e805020272e6",
              "name": "List Users",
              "request": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "d3d2f8b7-9f5b-4304-8dbd-5bdbcbf13c1e",
                  "name": "Example User List",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "GET"
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"id\":1,\"name\":\"Alice\",\"email\":\"alice@example.com\"},{\"id\":2,\"name\":\"Bob\",\"email\":\"bob@example.com\"}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2a2c39aa-365b-4c21-94e5-ead21d2ab3c7",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// List Users - GET /users",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of users\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each user has id, name, and email\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(user => {",
                      "        pm.expect(user).to.have.property(\"id\");",
                      "        pm.expect(user).to.have.property(\"name\");",
                      "        pm.expect(user).to.have.property(\"email\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});",
                      "",
                      "// Extract and save user_id for workflow chaining",
                      "if (pm.response.code === 200) {",
                      "    const json = pm.response.json();",
                      "    let userId = null;",
                      "    ",
                      "    // Handle different response structures",
                      "    if (Array.isArray(json) && json.length > 0) {",
                      "        // Response is an array of users - get first user's id",
                      "        userId = json[0].id;",
                      "    } else if (json && json.users && Array.isArray(json.users) && json.users.length > 0) {",
                      "        // Response is an object with a users array",
                      "        userId = json.users[0].id;",
                      "    } else if (json && json.id) {",
                      "        // Response is a single user object",
                      "        userId = json.id;",
                      "    }",
                      "    ",
                      "    if (userId !== null && userId !== undefined) {",
                      "        pm.collectionVariables.set(\"user_id\", userId);",
                      "        console.log(\"Saved user_id to collection variable:\", userId);",
                      "    } else {",
                      "        console.warn(\"Could not extract user_id from response\");",
                      "    }",
                      "}"
                    ],
                    "_lastExecutionId": "d428eae5-cef9-425a-a2c5-1524af695dae"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "14d131a4-2690-4b11-9606-7a2a2205a905",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "1d9d1166-b551-4169-ae70-2e9f764486c4"
                  }
                }
              ]
            },
            {
              "id": "d0d5b92f-a157-4076-a273-7cd7be31e61d",
              "name": "Get User Permissions",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{user_id}}",
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "7dded541-98c0-46d8-9810-8d78ade5bb1c",
                  "name": "Sample User Permissions",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users",
                        "1",
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "GET"
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":false}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7e155480-04f2-4aac-964a-f5d55c1fafe5",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// Get User Permissions - GET /users/:userId/permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "        pm.expect(p).to.have.property(\"granted\");",
                      "        pm.expect(p.granted).to.be.a(\"boolean\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "dde87c4d-f961-4bbd-815a-36105df8f544"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "19946b3c-9780-4ec3-a692-4b89d87c319b",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "08e52a87-ceb5-4fbd-9e85-99e44a7c9d07"
                  }
                }
              ]
            },
            {
              "id": "064dcb96-31c1-45a9-aca1-75a344de354a",
              "name": "Update User Permissions",
              "request": {
                "url": {
                  "path": [
                    "users",
                    ":userId",
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": [
                    {
                      "description": {
                        "content": "The ID of the user whose permissions to update",
                        "type": "text/plain"
                      },
                      "type": "any",
                      "value": "1",
                      "key": "userId"
                    }
                  ]
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "66c5dc51-c86b-4015-84c1-77383a8b3494",
                  "name": "Permissions Updated",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users",
                        "1",
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      }
                    ],
                    "method": "PUT",
                    "body": {
                      "mode": "raw",
                      "raw": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]"
                    }
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f35e1b77-cd87-4700-aaa6-b1f125852c6d",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// Update User Permissions - PUT /users/:userId/permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "        pm.expect(p).to.have.property(\"granted\");",
                      "        pm.expect(p.granted).to.be.a(\"boolean\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "cd9eaded-03dc-4ba2-bbe1-ecbbd752e908"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "fa4695aa-a5bf-46d4-9b88-e6595d9cf764",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "579f1a0d-51f4-49d8-b853-dfa1f58d4d3f"
                  }
                }
              ]
            },
            {
              "id": "d9aa22ec-bffa-4257-be24-c73fb5d7341a",
              "name": "List Permissions",
              "request": {
                "url": {
                  "path": [
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "f0bb0294-1f38-497a-baec-e50eb63f8b69",
                  "name": "Permission Types",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "GET"
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"permission\":\"read\"},{\"permission\":\"write\"},{\"permission\":\"admin\"}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "fbe4ce27-58ea-4d40-9ee5-11477360e2b0",
                    "type": "text/javascript",
                    "exec": [
                      "// List Permissions - GET /permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "e622739d-4d1d-4379-b644-971fdb74f95e"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "ed435988-d76f-42bb-ac0a-0cf4ca6dd622",
                    "type": "text/javascript",
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "8b7f04b3-5142-417e-9d63-9f74c72f181e"
                  }
                }
              ]
            },
            {
              "id": "b7655962-6be3-4b61-83b0-4afee7de803e",
              "name": "Grant User Permission",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{user_id}}",
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\"permission\":\"admin\",\"granted\":true}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "1ec67290-915c-46b5-a859-feab0f54ec0b",
                  "name": "Permission Granted",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users",
                        "2",
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      }
                    ],
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\"permission\":\"admin\",\"granted\":true}"
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [],
                  "body": "[{\"permission\":\"admin\",\"granted\":true}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d2ecd5b4-0083-4263-bc79-d229274f38f9",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// Grant User Permission - POST /users/:userId/permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "        pm.expect(p).to.have.property(\"granted\");",
                      "        pm.expect(p.granted).to.be.a(\"boolean\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "d1178df8-2542-4101-8c68-7f139d867d9b"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "ba9a31a1-37f2-4549-8600-e648aa1fa79c",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "fb134314-d070-47bf-8d80-d1c5b6aa46fc"
                  }
                }
              ]
            },
            {
              "id": "0c92e2d2-f4e4-420d-963f-0bbd97e21ef2",
              "name": "Delete Users",
              "request": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": []
            }
          ],
          "event": [],
          "variable": [
            {
              "id": "4cbe099e-b4e5-40a9-a2aa-7332e1a9c92d",
              "type": "any",
              "value": "https://api.example.com",
              "key": "baseUrl"
            },
            {
              "id": "61d8da22-e8dd-4f50-bf45-a0df1e74e6c6",
              "type": "any",
              "value": "https://api.example.com",
              "key": "baseURL"
            },
            {
              "id": "d9cf6d13-1a56-4aa6-90e1-779d0f4bd96e",
              "type": "any",
              "value": "1",
              "key": "user_id"
            }
          ],
          "info": {
            "_postman_id": "bd515596-1c6f-4050-80ef-d2e9da663180",
            "name": "User Permissions API",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "# User Permissions API\n\n## Overview\nThe User Permissions API provides endpoints to manage users and their permissions within your application. It allows you to list users, retrieve and update their permissions, and manage available permission types. This API is ideal for applications that require fine-grained access control and user management.\n\n## Base URL\n```\n{{baseUrl}}\n```\nSet the `baseUrl` variable in your Postman environment or collection variables to point to your API server (e.g., `https://api.example.com`).\n\n## Authentication\nThis API typically requires authentication (e.g., Bearer token or API key) to access protected endpoints. Add the appropriate `Authorization` header to your requests:\n```\nAuthorization: Bearer <your_token>\n```\n_If your implementation differs, update the authentication method accordingly._\n\n## Endpoints\n\n### 1. List Users\n- **Endpoint:** `GET /users`\n- **Description:** Retrieves a list of all users.\n- **Request Example:**\n  ```http\n  GET {{baseUrl}}/users\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"id\": 1, \"name\": \"Alice\", \"email\": \"alice@example.com\"},\n    {\"id\": 2, \"name\": \"Bob\", \"email\": \"bob@example.com\"}\n  ]\n  ```\n\n### 2. Get User Permissions\n- **Endpoint:** `GET /users/{userId}/permissions`\n- **Description:** Retrieves the permissions assigned to a specific user.\n- **Request Example:**\n  ```http\n  GET {{baseUrl}}/users/1/permissions\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"read\", \"granted\": true},\n    {\"permission\": \"write\", \"granted\": false}\n  ]\n  ```\n\n### 3. Update User Permissions\n- **Endpoint:** `PUT /users/{userId}/permissions`\n- **Description:** Updates the permissions for a specific user. Provide an array of permission objects.\n- **Request Example:**\n  ```http\n  PUT {{baseUrl}}/users/1/permissions\n  Content-Type: application/json\n\n  [\n    {\"permission\": \"read\", \"granted\": true},\n    {\"permission\": \"write\", \"granted\": true}\n  ]\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"read\", \"granted\": true},\n    {\"permission\": \"write\", \"granted\": true}\n  ]\n  ```\n\n### 4. List Permissions\n- **Endpoint:** `GET /permissions`\n- **Description:** Lists all available permission types in the system.\n- **Request Example:**\n  ```http\n  GET {{baseUrl}}/permissions\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"read\"},\n    {\"permission\": \"write\"},\n    {\"permission\": \"admin\"}\n  ]\n  ```\n\n### 5. Grant User Permission\n- **Endpoint:** `POST /users/{userId}/permissions`\n- **Description:** Grants a specific permission to a user. Provide the permission object in the request body.\n- **Request Example:**\n  ```http\n  POST {{baseUrl}}/users/2/permissions\n  Content-Type: application/json\n\n  {\"permission\": \"admin\", \"granted\": true}\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"admin\", \"granted\": true}\n  ]\n  ```\n\n## Error Handling\n- **400 Bad Request:** Invalid input or missing required fields.\n- **401 Unauthorized:** Authentication failed or missing credentials.\n- **403 Forbidden:** Insufficient permissions to perform the operation.\n- **404 Not Found:** Resource does not exist (e.g., user or permission not found).\n- **500 Internal Server Error:** Unexpected server error.\n\nError responses typically include a JSON object with an `error` or `message` field describing the issue:\n```json\n{\n  \"error\": \"Invalid user ID.\"\n}\n```\n\n## Additional Notes\n- All endpoints return JSON responses.\n- Ensure you set the `baseUrl` variable before making requests.\n- For further details, refer to individual request documentation and examples in this collection.\n",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "db59de33-606f-4b61-a99b-e4644aad2f10",
          "length": 6,
          "cycles": 1,
          "position": 2,
          "iteration": 0,
          "httpRequestId": "db714025-f385-41b3-b3ef-9a87081143a9",
          "scriptId": "f35e1b77-cd87-4700-aaa6-b1f125852c6d",
          "execution": "cd9eaded-03dc-4ba2-bbe1-ecbbd752e908"
        }
      },
      {
        "error": {
          "errno": -3008,
          "code": "ENOTFOUND",
          "syscall": "getaddrinfo",
          "hostname": "api.example.com",
          "name": "Error",
          "message": "getaddrinfo ENOTFOUND api.example.com",
          "stack": "Error: getaddrinfo ENOTFOUND api.example.com\n    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)",
          "checksum": "e6d98f61253e2bdc0f589410c34739e0",
          "id": "41803b13-8427-47cd-8fe9-3760f1ce0051",
          "timestamp": 1767648245511,
          "stacktrace": [
            {
              "fileName": "node:dns",
              "lineNumber": 122,
              "functionName": "GetAddrInfoReqWrap.onlookupall [as oncomplete]",
              "typeName": "GetAddrInfoReqWrap",
              "methodName": "onlookupall [as oncomplete]",
              "columnNumber": 26,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "d9aa22ec-bffa-4257-be24-c73fb5d7341a",
          "name": "List Permissions",
          "request": {
            "url": {
              "protocol": "https",
              "path": [
                "permissions"
              ],
              "host": [
                "api",
                "example",
                "com"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "916ff516-6d03-4c70-87ae-c2c40f43bcbe",
                "system": true
              },
              {
                "key": "Host",
                "value": "api.example.com",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "GET"
          },
          "response": [
            {
              "id": "f0bb0294-1f38-497a-baec-e50eb63f8b69",
              "name": "Permission Types",
              "originalRequest": {
                "url": {
                  "path": [
                    "permissions"
                  ],
                  "host": [
                    "https://api.example.com"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "status": "OK",
              "code": 200,
              "header": [],
              "body": "[{\"permission\":\"read\"},{\"permission\":\"write\"},{\"permission\":\"admin\"}]",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "fbe4ce27-58ea-4d40-9ee5-11477360e2b0",
                "type": "text/javascript",
                "exec": [
                  "// List Permissions - GET /permissions",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response is an array of permissions\", function () {",
                  "    const json = pm.response.json();",
                  "    pm.expect(Array.isArray(json)).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"Each permission object has 'permission'\", function () {",
                  "    const json = pm.response.json();",
                  "    json.forEach(p => {",
                  "        pm.expect(p).to.have.property(\"permission\");",
                  "    });",
                  "});",
                  "",
                  "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                  "    if (pm.response.code >= 400) {",
                  "        let body;",
                  "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                  "        pm.expect(body).to.be.an(\"object\");",
                  "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                  "    }",
                  "});"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "ed435988-d76f-42bb-ac0a-0cf4ca6dd622",
                "type": "text/javascript",
                "exec": [
                  ""
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "fec88736-497b-4057-b79a-72d46a51cefa",
          "length": 6,
          "cycles": 1,
          "position": 3,
          "iteration": 0,
          "httpRequestId": "cb6c5b74-f31e-4666-be13-ecfb28687d07"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status code is 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:4)",
          "checksum": "5e78bc18623b85feb0a8ad40f56e64fc",
          "id": "d5e592d4-1c8a-4b2b-a9b9-16b7339cae76",
          "timestamp": 1767648245514,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 4,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "d9aa22ec-bffa-4257-be24-c73fb5d7341a",
          "name": "List Permissions",
          "request": {
            "url": {
              "path": [
                "permissions"
              ],
              "host": [
                "{{baseURL}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
              "id": "f0bb0294-1f38-497a-baec-e50eb63f8b69",
              "name": "Permission Types",
              "originalRequest": {
                "url": {
                  "path": [
                    "permissions"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "status": "OK",
              "code": 200,
              "header": [],
              "body": "[{\"permission\":\"read\"},{\"permission\":\"write\"},{\"permission\":\"admin\"}]",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "fbe4ce27-58ea-4d40-9ee5-11477360e2b0",
                "type": "text/javascript",
                "exec": [
                  "// List Permissions - GET /permissions",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response is an array of permissions\", function () {",
                  "    const json = pm.response.json();",
                  "    pm.expect(Array.isArray(json)).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"Each permission object has 'permission'\", function () {",
                  "    const json = pm.response.json();",
                  "    json.forEach(p => {",
                  "        pm.expect(p).to.have.property(\"permission\");",
                  "    });",
                  "});",
                  "",
                  "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                  "    if (pm.response.code >= 400) {",
                  "        let body;",
                  "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                  "        pm.expect(body).to.be.an(\"object\");",
                  "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                  "    }",
                  "});"
                ],
                "_lastExecutionId": "e622739d-4d1d-4379-b644-971fdb74f95e"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "ed435988-d76f-42bb-ac0a-0cf4ca6dd622",
                "type": "text/javascript",
                "exec": [
                  ""
                ],
                "_lastExecutionId": "8b7f04b3-5142-417e-9d63-9f74c72f181e"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "bd515596-1c6f-4050-80ef-d2e9da663180"
          },
          "item": [
            {
              "id": "c36f6790-2c4c-44dd-b926-e805020272e6",
              "name": "List Users",
              "request": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "d3d2f8b7-9f5b-4304-8dbd-5bdbcbf13c1e",
                  "name": "Example User List",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "GET"
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"id\":1,\"name\":\"Alice\",\"email\":\"alice@example.com\"},{\"id\":2,\"name\":\"Bob\",\"email\":\"bob@example.com\"}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2a2c39aa-365b-4c21-94e5-ead21d2ab3c7",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// List Users - GET /users",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of users\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each user has id, name, and email\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(user => {",
                      "        pm.expect(user).to.have.property(\"id\");",
                      "        pm.expect(user).to.have.property(\"name\");",
                      "        pm.expect(user).to.have.property(\"email\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});",
                      "",
                      "// Extract and save user_id for workflow chaining",
                      "if (pm.response.code === 200) {",
                      "    const json = pm.response.json();",
                      "    let userId = null;",
                      "    ",
                      "    // Handle different response structures",
                      "    if (Array.isArray(json) && json.length > 0) {",
                      "        // Response is an array of users - get first user's id",
                      "        userId = json[0].id;",
                      "    } else if (json && json.users && Array.isArray(json.users) && json.users.length > 0) {",
                      "        // Response is an object with a users array",
                      "        userId = json.users[0].id;",
                      "    } else if (json && json.id) {",
                      "        // Response is a single user object",
                      "        userId = json.id;",
                      "    }",
                      "    ",
                      "    if (userId !== null && userId !== undefined) {",
                      "        pm.collectionVariables.set(\"user_id\", userId);",
                      "        console.log(\"Saved user_id to collection variable:\", userId);",
                      "    } else {",
                      "        console.warn(\"Could not extract user_id from response\");",
                      "    }",
                      "}"
                    ],
                    "_lastExecutionId": "d428eae5-cef9-425a-a2c5-1524af695dae"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "14d131a4-2690-4b11-9606-7a2a2205a905",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "1d9d1166-b551-4169-ae70-2e9f764486c4"
                  }
                }
              ]
            },
            {
              "id": "d0d5b92f-a157-4076-a273-7cd7be31e61d",
              "name": "Get User Permissions",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{user_id}}",
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "7dded541-98c0-46d8-9810-8d78ade5bb1c",
                  "name": "Sample User Permissions",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users",
                        "1",
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "GET"
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":false}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7e155480-04f2-4aac-964a-f5d55c1fafe5",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// Get User Permissions - GET /users/:userId/permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "        pm.expect(p).to.have.property(\"granted\");",
                      "        pm.expect(p.granted).to.be.a(\"boolean\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "dde87c4d-f961-4bbd-815a-36105df8f544"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "19946b3c-9780-4ec3-a692-4b89d87c319b",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "08e52a87-ceb5-4fbd-9e85-99e44a7c9d07"
                  }
                }
              ]
            },
            {
              "id": "064dcb96-31c1-45a9-aca1-75a344de354a",
              "name": "Update User Permissions",
              "request": {
                "url": {
                  "path": [
                    "users",
                    ":userId",
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": [
                    {
                      "description": {
                        "content": "The ID of the user whose permissions to update",
                        "type": "text/plain"
                      },
                      "type": "any",
                      "value": "1",
                      "key": "userId"
                    }
                  ]
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "66c5dc51-c86b-4015-84c1-77383a8b3494",
                  "name": "Permissions Updated",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users",
                        "1",
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      }
                    ],
                    "method": "PUT",
                    "body": {
                      "mode": "raw",
                      "raw": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]"
                    }
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f35e1b77-cd87-4700-aaa6-b1f125852c6d",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// Update User Permissions - PUT /users/:userId/permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "        pm.expect(p).to.have.property(\"granted\");",
                      "        pm.expect(p.granted).to.be.a(\"boolean\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "cd9eaded-03dc-4ba2-bbe1-ecbbd752e908"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "fa4695aa-a5bf-46d4-9b88-e6595d9cf764",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "579f1a0d-51f4-49d8-b853-dfa1f58d4d3f"
                  }
                }
              ]
            },
            {
              "id": "d9aa22ec-bffa-4257-be24-c73fb5d7341a",
              "name": "List Permissions",
              "request": {
                "url": {
                  "path": [
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "f0bb0294-1f38-497a-baec-e50eb63f8b69",
                  "name": "Permission Types",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "GET"
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"permission\":\"read\"},{\"permission\":\"write\"},{\"permission\":\"admin\"}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "fbe4ce27-58ea-4d40-9ee5-11477360e2b0",
                    "type": "text/javascript",
                    "exec": [
                      "// List Permissions - GET /permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "e622739d-4d1d-4379-b644-971fdb74f95e"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "ed435988-d76f-42bb-ac0a-0cf4ca6dd622",
                    "type": "text/javascript",
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "8b7f04b3-5142-417e-9d63-9f74c72f181e"
                  }
                }
              ]
            },
            {
              "id": "b7655962-6be3-4b61-83b0-4afee7de803e",
              "name": "Grant User Permission",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{user_id}}",
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\"permission\":\"admin\",\"granted\":true}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "1ec67290-915c-46b5-a859-feab0f54ec0b",
                  "name": "Permission Granted",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users",
                        "2",
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      }
                    ],
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\"permission\":\"admin\",\"granted\":true}"
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [],
                  "body": "[{\"permission\":\"admin\",\"granted\":true}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d2ecd5b4-0083-4263-bc79-d229274f38f9",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// Grant User Permission - POST /users/:userId/permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "        pm.expect(p).to.have.property(\"granted\");",
                      "        pm.expect(p.granted).to.be.a(\"boolean\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "d1178df8-2542-4101-8c68-7f139d867d9b"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "ba9a31a1-37f2-4549-8600-e648aa1fa79c",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "fb134314-d070-47bf-8d80-d1c5b6aa46fc"
                  }
                }
              ]
            },
            {
              "id": "0c92e2d2-f4e4-420d-963f-0bbd97e21ef2",
              "name": "Delete Users",
              "request": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": []
            }
          ],
          "event": [],
          "variable": [
            {
              "id": "4cbe099e-b4e5-40a9-a2aa-7332e1a9c92d",
              "type": "any",
              "value": "https://api.example.com",
              "key": "baseUrl"
            },
            {
              "id": "61d8da22-e8dd-4f50-bf45-a0df1e74e6c6",
              "type": "any",
              "value": "https://api.example.com",
              "key": "baseURL"
            },
            {
              "id": "d9cf6d13-1a56-4aa6-90e1-779d0f4bd96e",
              "type": "any",
              "value": "1",
              "key": "user_id"
            }
          ],
          "info": {
            "_postman_id": "bd515596-1c6f-4050-80ef-d2e9da663180",
            "name": "User Permissions API",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "# User Permissions API\n\n## Overview\nThe User Permissions API provides endpoints to manage users and their permissions within your application. It allows you to list users, retrieve and update their permissions, and manage available permission types. This API is ideal for applications that require fine-grained access control and user management.\n\n## Base URL\n```\n{{baseUrl}}\n```\nSet the `baseUrl` variable in your Postman environment or collection variables to point to your API server (e.g., `https://api.example.com`).\n\n## Authentication\nThis API typically requires authentication (e.g., Bearer token or API key) to access protected endpoints. Add the appropriate `Authorization` header to your requests:\n```\nAuthorization: Bearer <your_token>\n```\n_If your implementation differs, update the authentication method accordingly._\n\n## Endpoints\n\n### 1. List Users\n- **Endpoint:** `GET /users`\n- **Description:** Retrieves a list of all users.\n- **Request Example:**\n  ```http\n  GET {{baseUrl}}/users\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"id\": 1, \"name\": \"Alice\", \"email\": \"alice@example.com\"},\n    {\"id\": 2, \"name\": \"Bob\", \"email\": \"bob@example.com\"}\n  ]\n  ```\n\n### 2. Get User Permissions\n- **Endpoint:** `GET /users/{userId}/permissions`\n- **Description:** Retrieves the permissions assigned to a specific user.\n- **Request Example:**\n  ```http\n  GET {{baseUrl}}/users/1/permissions\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"read\", \"granted\": true},\n    {\"permission\": \"write\", \"granted\": false}\n  ]\n  ```\n\n### 3. Update User Permissions\n- **Endpoint:** `PUT /users/{userId}/permissions`\n- **Description:** Updates the permissions for a specific user. Provide an array of permission objects.\n- **Request Example:**\n  ```http\n  PUT {{baseUrl}}/users/1/permissions\n  Content-Type: application/json\n\n  [\n    {\"permission\": \"read\", \"granted\": true},\n    {\"permission\": \"write\", \"granted\": true}\n  ]\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"read\", \"granted\": true},\n    {\"permission\": \"write\", \"granted\": true}\n  ]\n  ```\n\n### 4. List Permissions\n- **Endpoint:** `GET /permissions`\n- **Description:** Lists all available permission types in the system.\n- **Request Example:**\n  ```http\n  GET {{baseUrl}}/permissions\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"read\"},\n    {\"permission\": \"write\"},\n    {\"permission\": \"admin\"}\n  ]\n  ```\n\n### 5. Grant User Permission\n- **Endpoint:** `POST /users/{userId}/permissions`\n- **Description:** Grants a specific permission to a user. Provide the permission object in the request body.\n- **Request Example:**\n  ```http\n  POST {{baseUrl}}/users/2/permissions\n  Content-Type: application/json\n\n  {\"permission\": \"admin\", \"granted\": true}\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"admin\", \"granted\": true}\n  ]\n  ```\n\n## Error Handling\n- **400 Bad Request:** Invalid input or missing required fields.\n- **401 Unauthorized:** Authentication failed or missing credentials.\n- **403 Forbidden:** Insufficient permissions to perform the operation.\n- **404 Not Found:** Resource does not exist (e.g., user or permission not found).\n- **500 Internal Server Error:** Unexpected server error.\n\nError responses typically include a JSON object with an `error` or `message` field describing the issue:\n```json\n{\n  \"error\": \"Invalid user ID.\"\n}\n```\n\n## Additional Notes\n- All endpoints return JSON responses.\n- Ensure you set the `baseUrl` variable before making requests.\n- For further details, refer to individual request documentation and examples in this collection.\n",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "fec88736-497b-4057-b79a-72d46a51cefa",
          "length": 6,
          "cycles": 1,
          "position": 3,
          "iteration": 0,
          "httpRequestId": "cb6c5b74-f31e-4666-be13-ecfb28687d07",
          "scriptId": "fbe4ce27-58ea-4d40-9ee5-11477360e2b0",
          "execution": "e622739d-4d1d-4379-b644-971fdb74f95e"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 1,
          "test": "Response is an array of permissions",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:2:4)",
          "checksum": "d008b21a89549d5e5761959fa1897201",
          "id": "90f27eff-976f-4efe-abb9-6ca5d956adce",
          "timestamp": 1767648245514,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 4,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "d9aa22ec-bffa-4257-be24-c73fb5d7341a",
          "name": "List Permissions",
          "request": {
            "url": {
              "path": [
                "permissions"
              ],
              "host": [
                "{{baseURL}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
              "id": "f0bb0294-1f38-497a-baec-e50eb63f8b69",
              "name": "Permission Types",
              "originalRequest": {
                "url": {
                  "path": [
                    "permissions"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "status": "OK",
              "code": 200,
              "header": [],
              "body": "[{\"permission\":\"read\"},{\"permission\":\"write\"},{\"permission\":\"admin\"}]",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "fbe4ce27-58ea-4d40-9ee5-11477360e2b0",
                "type": "text/javascript",
                "exec": [
                  "// List Permissions - GET /permissions",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response is an array of permissions\", function () {",
                  "    const json = pm.response.json();",
                  "    pm.expect(Array.isArray(json)).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"Each permission object has 'permission'\", function () {",
                  "    const json = pm.response.json();",
                  "    json.forEach(p => {",
                  "        pm.expect(p).to.have.property(\"permission\");",
                  "    });",
                  "});",
                  "",
                  "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                  "    if (pm.response.code >= 400) {",
                  "        let body;",
                  "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                  "        pm.expect(body).to.be.an(\"object\");",
                  "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                  "    }",
                  "});"
                ],
                "_lastExecutionId": "e622739d-4d1d-4379-b644-971fdb74f95e"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "ed435988-d76f-42bb-ac0a-0cf4ca6dd622",
                "type": "text/javascript",
                "exec": [
                  ""
                ],
                "_lastExecutionId": "8b7f04b3-5142-417e-9d63-9f74c72f181e"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "bd515596-1c6f-4050-80ef-d2e9da663180"
          },
          "item": [
            {
              "id": "c36f6790-2c4c-44dd-b926-e805020272e6",
              "name": "List Users",
              "request": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "d3d2f8b7-9f5b-4304-8dbd-5bdbcbf13c1e",
                  "name": "Example User List",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "GET"
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"id\":1,\"name\":\"Alice\",\"email\":\"alice@example.com\"},{\"id\":2,\"name\":\"Bob\",\"email\":\"bob@example.com\"}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2a2c39aa-365b-4c21-94e5-ead21d2ab3c7",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// List Users - GET /users",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of users\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each user has id, name, and email\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(user => {",
                      "        pm.expect(user).to.have.property(\"id\");",
                      "        pm.expect(user).to.have.property(\"name\");",
                      "        pm.expect(user).to.have.property(\"email\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});",
                      "",
                      "// Extract and save user_id for workflow chaining",
                      "if (pm.response.code === 200) {",
                      "    const json = pm.response.json();",
                      "    let userId = null;",
                      "    ",
                      "    // Handle different response structures",
                      "    if (Array.isArray(json) && json.length > 0) {",
                      "        // Response is an array of users - get first user's id",
                      "        userId = json[0].id;",
                      "    } else if (json && json.users && Array.isArray(json.users) && json.users.length > 0) {",
                      "        // Response is an object with a users array",
                      "        userId = json.users[0].id;",
                      "    } else if (json && json.id) {",
                      "        // Response is a single user object",
                      "        userId = json.id;",
                      "    }",
                      "    ",
                      "    if (userId !== null && userId !== undefined) {",
                      "        pm.collectionVariables.set(\"user_id\", userId);",
                      "        console.log(\"Saved user_id to collection variable:\", userId);",
                      "    } else {",
                      "        console.warn(\"Could not extract user_id from response\");",
                      "    }",
                      "}"
                    ],
                    "_lastExecutionId": "d428eae5-cef9-425a-a2c5-1524af695dae"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "14d131a4-2690-4b11-9606-7a2a2205a905",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "1d9d1166-b551-4169-ae70-2e9f764486c4"
                  }
                }
              ]
            },
            {
              "id": "d0d5b92f-a157-4076-a273-7cd7be31e61d",
              "name": "Get User Permissions",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{user_id}}",
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "7dded541-98c0-46d8-9810-8d78ade5bb1c",
                  "name": "Sample User Permissions",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users",
                        "1",
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "GET"
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":false}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7e155480-04f2-4aac-964a-f5d55c1fafe5",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// Get User Permissions - GET /users/:userId/permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "        pm.expect(p).to.have.property(\"granted\");",
                      "        pm.expect(p.granted).to.be.a(\"boolean\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "dde87c4d-f961-4bbd-815a-36105df8f544"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "19946b3c-9780-4ec3-a692-4b89d87c319b",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "08e52a87-ceb5-4fbd-9e85-99e44a7c9d07"
                  }
                }
              ]
            },
            {
              "id": "064dcb96-31c1-45a9-aca1-75a344de354a",
              "name": "Update User Permissions",
              "request": {
                "url": {
                  "path": [
                    "users",
                    ":userId",
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": [
                    {
                      "description": {
                        "content": "The ID of the user whose permissions to update",
                        "type": "text/plain"
                      },
                      "type": "any",
                      "value": "1",
                      "key": "userId"
                    }
                  ]
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "66c5dc51-c86b-4015-84c1-77383a8b3494",
                  "name": "Permissions Updated",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users",
                        "1",
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      }
                    ],
                    "method": "PUT",
                    "body": {
                      "mode": "raw",
                      "raw": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]"
                    }
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f35e1b77-cd87-4700-aaa6-b1f125852c6d",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// Update User Permissions - PUT /users/:userId/permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "        pm.expect(p).to.have.property(\"granted\");",
                      "        pm.expect(p.granted).to.be.a(\"boolean\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "cd9eaded-03dc-4ba2-bbe1-ecbbd752e908"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "fa4695aa-a5bf-46d4-9b88-e6595d9cf764",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "579f1a0d-51f4-49d8-b853-dfa1f58d4d3f"
                  }
                }
              ]
            },
            {
              "id": "d9aa22ec-bffa-4257-be24-c73fb5d7341a",
              "name": "List Permissions",
              "request": {
                "url": {
                  "path": [
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "f0bb0294-1f38-497a-baec-e50eb63f8b69",
                  "name": "Permission Types",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "GET"
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"permission\":\"read\"},{\"permission\":\"write\"},{\"permission\":\"admin\"}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "fbe4ce27-58ea-4d40-9ee5-11477360e2b0",
                    "type": "text/javascript",
                    "exec": [
                      "// List Permissions - GET /permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "e622739d-4d1d-4379-b644-971fdb74f95e"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "ed435988-d76f-42bb-ac0a-0cf4ca6dd622",
                    "type": "text/javascript",
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "8b7f04b3-5142-417e-9d63-9f74c72f181e"
                  }
                }
              ]
            },
            {
              "id": "b7655962-6be3-4b61-83b0-4afee7de803e",
              "name": "Grant User Permission",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{user_id}}",
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\"permission\":\"admin\",\"granted\":true}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "1ec67290-915c-46b5-a859-feab0f54ec0b",
                  "name": "Permission Granted",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users",
                        "2",
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      }
                    ],
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\"permission\":\"admin\",\"granted\":true}"
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [],
                  "body": "[{\"permission\":\"admin\",\"granted\":true}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d2ecd5b4-0083-4263-bc79-d229274f38f9",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// Grant User Permission - POST /users/:userId/permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "        pm.expect(p).to.have.property(\"granted\");",
                      "        pm.expect(p.granted).to.be.a(\"boolean\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "d1178df8-2542-4101-8c68-7f139d867d9b"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "ba9a31a1-37f2-4549-8600-e648aa1fa79c",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "fb134314-d070-47bf-8d80-d1c5b6aa46fc"
                  }
                }
              ]
            },
            {
              "id": "0c92e2d2-f4e4-420d-963f-0bbd97e21ef2",
              "name": "Delete Users",
              "request": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": []
            }
          ],
          "event": [],
          "variable": [
            {
              "id": "4cbe099e-b4e5-40a9-a2aa-7332e1a9c92d",
              "type": "any",
              "value": "https://api.example.com",
              "key": "baseUrl"
            },
            {
              "id": "61d8da22-e8dd-4f50-bf45-a0df1e74e6c6",
              "type": "any",
              "value": "https://api.example.com",
              "key": "baseURL"
            },
            {
              "id": "d9cf6d13-1a56-4aa6-90e1-779d0f4bd96e",
              "type": "any",
              "value": "1",
              "key": "user_id"
            }
          ],
          "info": {
            "_postman_id": "bd515596-1c6f-4050-80ef-d2e9da663180",
            "name": "User Permissions API",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "# User Permissions API\n\n## Overview\nThe User Permissions API provides endpoints to manage users and their permissions within your application. It allows you to list users, retrieve and update their permissions, and manage available permission types. This API is ideal for applications that require fine-grained access control and user management.\n\n## Base URL\n```\n{{baseUrl}}\n```\nSet the `baseUrl` variable in your Postman environment or collection variables to point to your API server (e.g., `https://api.example.com`).\n\n## Authentication\nThis API typically requires authentication (e.g., Bearer token or API key) to access protected endpoints. Add the appropriate `Authorization` header to your requests:\n```\nAuthorization: Bearer <your_token>\n```\n_If your implementation differs, update the authentication method accordingly._\n\n## Endpoints\n\n### 1. List Users\n- **Endpoint:** `GET /users`\n- **Description:** Retrieves a list of all users.\n- **Request Example:**\n  ```http\n  GET {{baseUrl}}/users\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"id\": 1, \"name\": \"Alice\", \"email\": \"alice@example.com\"},\n    {\"id\": 2, \"name\": \"Bob\", \"email\": \"bob@example.com\"}\n  ]\n  ```\n\n### 2. Get User Permissions\n- **Endpoint:** `GET /users/{userId}/permissions`\n- **Description:** Retrieves the permissions assigned to a specific user.\n- **Request Example:**\n  ```http\n  GET {{baseUrl}}/users/1/permissions\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"read\", \"granted\": true},\n    {\"permission\": \"write\", \"granted\": false}\n  ]\n  ```\n\n### 3. Update User Permissions\n- **Endpoint:** `PUT /users/{userId}/permissions`\n- **Description:** Updates the permissions for a specific user. Provide an array of permission objects.\n- **Request Example:**\n  ```http\n  PUT {{baseUrl}}/users/1/permissions\n  Content-Type: application/json\n\n  [\n    {\"permission\": \"read\", \"granted\": true},\n    {\"permission\": \"write\", \"granted\": true}\n  ]\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"read\", \"granted\": true},\n    {\"permission\": \"write\", \"granted\": true}\n  ]\n  ```\n\n### 4. List Permissions\n- **Endpoint:** `GET /permissions`\n- **Description:** Lists all available permission types in the system.\n- **Request Example:**\n  ```http\n  GET {{baseUrl}}/permissions\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"read\"},\n    {\"permission\": \"write\"},\n    {\"permission\": \"admin\"}\n  ]\n  ```\n\n### 5. Grant User Permission\n- **Endpoint:** `POST /users/{userId}/permissions`\n- **Description:** Grants a specific permission to a user. Provide the permission object in the request body.\n- **Request Example:**\n  ```http\n  POST {{baseUrl}}/users/2/permissions\n  Content-Type: application/json\n\n  {\"permission\": \"admin\", \"granted\": true}\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"admin\", \"granted\": true}\n  ]\n  ```\n\n## Error Handling\n- **400 Bad Request:** Invalid input or missing required fields.\n- **401 Unauthorized:** Authentication failed or missing credentials.\n- **403 Forbidden:** Insufficient permissions to perform the operation.\n- **404 Not Found:** Resource does not exist (e.g., user or permission not found).\n- **500 Internal Server Error:** Unexpected server error.\n\nError responses typically include a JSON object with an `error` or `message` field describing the issue:\n```json\n{\n  \"error\": \"Invalid user ID.\"\n}\n```\n\n## Additional Notes\n- All endpoints return JSON responses.\n- Ensure you set the `baseUrl` variable before making requests.\n- For further details, refer to individual request documentation and examples in this collection.\n",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "fec88736-497b-4057-b79a-72d46a51cefa",
          "length": 6,
          "cycles": 1,
          "position": 3,
          "iteration": 0,
          "httpRequestId": "cb6c5b74-f31e-4666-be13-ecfb28687d07",
          "scriptId": "fbe4ce27-58ea-4d40-9ee5-11477360e2b0",
          "execution": "e622739d-4d1d-4379-b644-971fdb74f95e"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 2,
          "test": "Each permission object has 'permission'",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:3:4)",
          "checksum": "0070bbccb28cf82cf2b899b449a9581e",
          "id": "ab51fb20-b8af-489c-a075-94288aa7705a",
          "timestamp": 1767648245514,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 3,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 4,
              "native": false
            }
          ]
        },
        "at": "assertion:2 in test-script",
        "source": {
          "id": "d9aa22ec-bffa-4257-be24-c73fb5d7341a",
          "name": "List Permissions",
          "request": {
            "url": {
              "path": [
                "permissions"
              ],
              "host": [
                "{{baseURL}}"
              ],
              "query": [],
              "variable": []
            },
            "method": "GET"
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
              "id": "f0bb0294-1f38-497a-baec-e50eb63f8b69",
              "name": "Permission Types",
              "originalRequest": {
                "url": {
                  "path": [
                    "permissions"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "status": "OK",
              "code": 200,
              "header": [],
              "body": "[{\"permission\":\"read\"},{\"permission\":\"write\"},{\"permission\":\"admin\"}]",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "fbe4ce27-58ea-4d40-9ee5-11477360e2b0",
                "type": "text/javascript",
                "exec": [
                  "// List Permissions - GET /permissions",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response is an array of permissions\", function () {",
                  "    const json = pm.response.json();",
                  "    pm.expect(Array.isArray(json)).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"Each permission object has 'permission'\", function () {",
                  "    const json = pm.response.json();",
                  "    json.forEach(p => {",
                  "        pm.expect(p).to.have.property(\"permission\");",
                  "    });",
                  "});",
                  "",
                  "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                  "    if (pm.response.code >= 400) {",
                  "        let body;",
                  "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                  "        pm.expect(body).to.be.an(\"object\");",
                  "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                  "    }",
                  "});"
                ],
                "_lastExecutionId": "e622739d-4d1d-4379-b644-971fdb74f95e"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "ed435988-d76f-42bb-ac0a-0cf4ca6dd622",
                "type": "text/javascript",
                "exec": [
                  ""
                ],
                "_lastExecutionId": "8b7f04b3-5142-417e-9d63-9f74c72f181e"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "bd515596-1c6f-4050-80ef-d2e9da663180"
          },
          "item": [
            {
              "id": "c36f6790-2c4c-44dd-b926-e805020272e6",
              "name": "List Users",
              "request": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "d3d2f8b7-9f5b-4304-8dbd-5bdbcbf13c1e",
                  "name": "Example User List",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "GET"
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"id\":1,\"name\":\"Alice\",\"email\":\"alice@example.com\"},{\"id\":2,\"name\":\"Bob\",\"email\":\"bob@example.com\"}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2a2c39aa-365b-4c21-94e5-ead21d2ab3c7",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// List Users - GET /users",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of users\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each user has id, name, and email\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(user => {",
                      "        pm.expect(user).to.have.property(\"id\");",
                      "        pm.expect(user).to.have.property(\"name\");",
                      "        pm.expect(user).to.have.property(\"email\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});",
                      "",
                      "// Extract and save user_id for workflow chaining",
                      "if (pm.response.code === 200) {",
                      "    const json = pm.response.json();",
                      "    let userId = null;",
                      "    ",
                      "    // Handle different response structures",
                      "    if (Array.isArray(json) && json.length > 0) {",
                      "        // Response is an array of users - get first user's id",
                      "        userId = json[0].id;",
                      "    } else if (json && json.users && Array.isArray(json.users) && json.users.length > 0) {",
                      "        // Response is an object with a users array",
                      "        userId = json.users[0].id;",
                      "    } else if (json && json.id) {",
                      "        // Response is a single user object",
                      "        userId = json.id;",
                      "    }",
                      "    ",
                      "    if (userId !== null && userId !== undefined) {",
                      "        pm.collectionVariables.set(\"user_id\", userId);",
                      "        console.log(\"Saved user_id to collection variable:\", userId);",
                      "    } else {",
                      "        console.warn(\"Could not extract user_id from response\");",
                      "    }",
                      "}"
                    ],
                    "_lastExecutionId": "d428eae5-cef9-425a-a2c5-1524af695dae"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "14d131a4-2690-4b11-9606-7a2a2205a905",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "1d9d1166-b551-4169-ae70-2e9f764486c4"
                  }
                }
              ]
            },
            {
              "id": "d0d5b92f-a157-4076-a273-7cd7be31e61d",
              "name": "Get User Permissions",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{user_id}}",
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "7dded541-98c0-46d8-9810-8d78ade5bb1c",
                  "name": "Sample User Permissions",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users",
                        "1",
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "GET"
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":false}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7e155480-04f2-4aac-964a-f5d55c1fafe5",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// Get User Permissions - GET /users/:userId/permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "        pm.expect(p).to.have.property(\"granted\");",
                      "        pm.expect(p.granted).to.be.a(\"boolean\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "dde87c4d-f961-4bbd-815a-36105df8f544"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "19946b3c-9780-4ec3-a692-4b89d87c319b",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "08e52a87-ceb5-4fbd-9e85-99e44a7c9d07"
                  }
                }
              ]
            },
            {
              "id": "064dcb96-31c1-45a9-aca1-75a344de354a",
              "name": "Update User Permissions",
              "request": {
                "url": {
                  "path": [
                    "users",
                    ":userId",
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": [
                    {
                      "description": {
                        "content": "The ID of the user whose permissions to update",
                        "type": "text/plain"
                      },
                      "type": "any",
                      "value": "1",
                      "key": "userId"
                    }
                  ]
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "66c5dc51-c86b-4015-84c1-77383a8b3494",
                  "name": "Permissions Updated",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users",
                        "1",
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      }
                    ],
                    "method": "PUT",
                    "body": {
                      "mode": "raw",
                      "raw": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]"
                    }
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f35e1b77-cd87-4700-aaa6-b1f125852c6d",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// Update User Permissions - PUT /users/:userId/permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "        pm.expect(p).to.have.property(\"granted\");",
                      "        pm.expect(p.granted).to.be.a(\"boolean\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "cd9eaded-03dc-4ba2-bbe1-ecbbd752e908"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "fa4695aa-a5bf-46d4-9b88-e6595d9cf764",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "579f1a0d-51f4-49d8-b853-dfa1f58d4d3f"
                  }
                }
              ]
            },
            {
              "id": "d9aa22ec-bffa-4257-be24-c73fb5d7341a",
              "name": "List Permissions",
              "request": {
                "url": {
                  "path": [
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "f0bb0294-1f38-497a-baec-e50eb63f8b69",
                  "name": "Permission Types",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "GET"
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"permission\":\"read\"},{\"permission\":\"write\"},{\"permission\":\"admin\"}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "fbe4ce27-58ea-4d40-9ee5-11477360e2b0",
                    "type": "text/javascript",
                    "exec": [
                      "// List Permissions - GET /permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "e622739d-4d1d-4379-b644-971fdb74f95e"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "ed435988-d76f-42bb-ac0a-0cf4ca6dd622",
                    "type": "text/javascript",
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "8b7f04b3-5142-417e-9d63-9f74c72f181e"
                  }
                }
              ]
            },
            {
              "id": "b7655962-6be3-4b61-83b0-4afee7de803e",
              "name": "Grant User Permission",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{user_id}}",
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\"permission\":\"admin\",\"granted\":true}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "1ec67290-915c-46b5-a859-feab0f54ec0b",
                  "name": "Permission Granted",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users",
                        "2",
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      }
                    ],
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\"permission\":\"admin\",\"granted\":true}"
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [],
                  "body": "[{\"permission\":\"admin\",\"granted\":true}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d2ecd5b4-0083-4263-bc79-d229274f38f9",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// Grant User Permission - POST /users/:userId/permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "        pm.expect(p).to.have.property(\"granted\");",
                      "        pm.expect(p.granted).to.be.a(\"boolean\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "d1178df8-2542-4101-8c68-7f139d867d9b"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "ba9a31a1-37f2-4549-8600-e648aa1fa79c",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "fb134314-d070-47bf-8d80-d1c5b6aa46fc"
                  }
                }
              ]
            },
            {
              "id": "0c92e2d2-f4e4-420d-963f-0bbd97e21ef2",
              "name": "Delete Users",
              "request": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": []
            }
          ],
          "event": [],
          "variable": [
            {
              "id": "4cbe099e-b4e5-40a9-a2aa-7332e1a9c92d",
              "type": "any",
              "value": "https://api.example.com",
              "key": "baseUrl"
            },
            {
              "id": "61d8da22-e8dd-4f50-bf45-a0df1e74e6c6",
              "type": "any",
              "value": "https://api.example.com",
              "key": "baseURL"
            },
            {
              "id": "d9cf6d13-1a56-4aa6-90e1-779d0f4bd96e",
              "type": "any",
              "value": "1",
              "key": "user_id"
            }
          ],
          "info": {
            "_postman_id": "bd515596-1c6f-4050-80ef-d2e9da663180",
            "name": "User Permissions API",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "# User Permissions API\n\n## Overview\nThe User Permissions API provides endpoints to manage users and their permissions within your application. It allows you to list users, retrieve and update their permissions, and manage available permission types. This API is ideal for applications that require fine-grained access control and user management.\n\n## Base URL\n```\n{{baseUrl}}\n```\nSet the `baseUrl` variable in your Postman environment or collection variables to point to your API server (e.g., `https://api.example.com`).\n\n## Authentication\nThis API typically requires authentication (e.g., Bearer token or API key) to access protected endpoints. Add the appropriate `Authorization` header to your requests:\n```\nAuthorization: Bearer <your_token>\n```\n_If your implementation differs, update the authentication method accordingly._\n\n## Endpoints\n\n### 1. List Users\n- **Endpoint:** `GET /users`\n- **Description:** Retrieves a list of all users.\n- **Request Example:**\n  ```http\n  GET {{baseUrl}}/users\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"id\": 1, \"name\": \"Alice\", \"email\": \"alice@example.com\"},\n    {\"id\": 2, \"name\": \"Bob\", \"email\": \"bob@example.com\"}\n  ]\n  ```\n\n### 2. Get User Permissions\n- **Endpoint:** `GET /users/{userId}/permissions`\n- **Description:** Retrieves the permissions assigned to a specific user.\n- **Request Example:**\n  ```http\n  GET {{baseUrl}}/users/1/permissions\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"read\", \"granted\": true},\n    {\"permission\": \"write\", \"granted\": false}\n  ]\n  ```\n\n### 3. Update User Permissions\n- **Endpoint:** `PUT /users/{userId}/permissions`\n- **Description:** Updates the permissions for a specific user. Provide an array of permission objects.\n- **Request Example:**\n  ```http\n  PUT {{baseUrl}}/users/1/permissions\n  Content-Type: application/json\n\n  [\n    {\"permission\": \"read\", \"granted\": true},\n    {\"permission\": \"write\", \"granted\": true}\n  ]\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"read\", \"granted\": true},\n    {\"permission\": \"write\", \"granted\": true}\n  ]\n  ```\n\n### 4. List Permissions\n- **Endpoint:** `GET /permissions`\n- **Description:** Lists all available permission types in the system.\n- **Request Example:**\n  ```http\n  GET {{baseUrl}}/permissions\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"read\"},\n    {\"permission\": \"write\"},\n    {\"permission\": \"admin\"}\n  ]\n  ```\n\n### 5. Grant User Permission\n- **Endpoint:** `POST /users/{userId}/permissions`\n- **Description:** Grants a specific permission to a user. Provide the permission object in the request body.\n- **Request Example:**\n  ```http\n  POST {{baseUrl}}/users/2/permissions\n  Content-Type: application/json\n\n  {\"permission\": \"admin\", \"granted\": true}\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"admin\", \"granted\": true}\n  ]\n  ```\n\n## Error Handling\n- **400 Bad Request:** Invalid input or missing required fields.\n- **401 Unauthorized:** Authentication failed or missing credentials.\n- **403 Forbidden:** Insufficient permissions to perform the operation.\n- **404 Not Found:** Resource does not exist (e.g., user or permission not found).\n- **500 Internal Server Error:** Unexpected server error.\n\nError responses typically include a JSON object with an `error` or `message` field describing the issue:\n```json\n{\n  \"error\": \"Invalid user ID.\"\n}\n```\n\n## Additional Notes\n- All endpoints return JSON responses.\n- Ensure you set the `baseUrl` variable before making requests.\n- For further details, refer to individual request documentation and examples in this collection.\n",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "fec88736-497b-4057-b79a-72d46a51cefa",
          "length": 6,
          "cycles": 1,
          "position": 3,
          "iteration": 0,
          "httpRequestId": "cb6c5b74-f31e-4666-be13-ecfb28687d07",
          "scriptId": "fbe4ce27-58ea-4d40-9ee5-11477360e2b0",
          "execution": "e622739d-4d1d-4379-b644-971fdb74f95e"
        }
      },
      {
        "error": {
          "errno": -3008,
          "code": "ENOTFOUND",
          "syscall": "getaddrinfo",
          "hostname": "api.example.com",
          "name": "Error",
          "message": "getaddrinfo ENOTFOUND api.example.com",
          "stack": "Error: getaddrinfo ENOTFOUND api.example.com\n    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)",
          "checksum": "e6d98f61253e2bdc0f589410c34739e0",
          "id": "555d490a-ff4a-4d4f-a366-7d7fa2242a7f",
          "timestamp": 1767648245524,
          "stacktrace": [
            {
              "fileName": "node:dns",
              "lineNumber": 122,
              "functionName": "GetAddrInfoReqWrap.onlookupall [as oncomplete]",
              "typeName": "GetAddrInfoReqWrap",
              "methodName": "onlookupall [as oncomplete]",
              "columnNumber": 26,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "b7655962-6be3-4b61-83b0-4afee7de803e",
          "name": "Grant User Permission",
          "request": {
            "url": {
              "protocol": "https",
              "path": [
                "users",
                "1",
                "permissions"
              ],
              "host": [
                "api",
                "example",
                "com"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "c4ecb191-47cc-44d9-8961-1f3ba6648302",
                "system": true
              },
              {
                "key": "Host",
                "value": "api.example.com",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\"permission\":\"admin\",\"granted\":true}"
            }
          },
          "response": [
            {
              "id": "1ec67290-915c-46b5-a859-feab0f54ec0b",
              "name": "Permission Granted",
              "originalRequest": {
                "url": {
                  "path": [
                    "users",
                    "2",
                    "permissions"
                  ],
                  "host": [
                    "https://api.example.com"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\"permission\":\"admin\",\"granted\":true}"
                }
              },
              "status": "Created",
              "code": 201,
              "header": [],
              "body": "[{\"permission\":\"admin\",\"granted\":true}]",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "d2ecd5b4-0083-4263-bc79-d229274f38f9",
                "type": "text/javascript",
                "packages": {},
                "exec": [
                  "// Grant User Permission - POST /users/:userId/permissions",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response is an array of permissions\", function () {",
                  "    const json = pm.response.json();",
                  "    pm.expect(Array.isArray(json)).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                  "    const json = pm.response.json();",
                  "    json.forEach(p => {",
                  "        pm.expect(p).to.have.property(\"permission\");",
                  "        pm.expect(p).to.have.property(\"granted\");",
                  "        pm.expect(p.granted).to.be.a(\"boolean\");",
                  "    });",
                  "});",
                  "",
                  "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                  "    if (pm.response.code >= 400) {",
                  "        let body;",
                  "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                  "        pm.expect(body).to.be.an(\"object\");",
                  "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                  "    }",
                  "});"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "ba9a31a1-37f2-4549-8600-e648aa1fa79c",
                "type": "text/javascript",
                "packages": {},
                "exec": [
                  ""
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "e895a8f4-861a-484a-b9c7-537c87db36fd",
          "length": 6,
          "cycles": 1,
          "position": 4,
          "iteration": 0,
          "httpRequestId": "95645ba4-98bc-44b1-ba32-2db493e91006"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status code is 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:5)",
          "checksum": "069f20f87cf5d2c50296503d3aba1045",
          "id": "9fff4c0d-cdd0-4124-a72a-381c83546024",
          "timestamp": 1767648245526,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 5,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "b7655962-6be3-4b61-83b0-4afee7de803e",
          "name": "Grant User Permission",
          "request": {
            "url": {
              "path": [
                "users",
                "{{user_id}}",
                "permissions"
              ],
              "host": [
                "{{baseURL}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\"permission\":\"admin\",\"granted\":true}"
            }
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
              "id": "1ec67290-915c-46b5-a859-feab0f54ec0b",
              "name": "Permission Granted",
              "originalRequest": {
                "url": {
                  "path": [
                    "users",
                    "2",
                    "permissions"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\"permission\":\"admin\",\"granted\":true}"
                }
              },
              "status": "Created",
              "code": 201,
              "header": [],
              "body": "[{\"permission\":\"admin\",\"granted\":true}]",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "d2ecd5b4-0083-4263-bc79-d229274f38f9",
                "type": "text/javascript",
                "packages": {},
                "exec": [
                  "// Grant User Permission - POST /users/:userId/permissions",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response is an array of permissions\", function () {",
                  "    const json = pm.response.json();",
                  "    pm.expect(Array.isArray(json)).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                  "    const json = pm.response.json();",
                  "    json.forEach(p => {",
                  "        pm.expect(p).to.have.property(\"permission\");",
                  "        pm.expect(p).to.have.property(\"granted\");",
                  "        pm.expect(p.granted).to.be.a(\"boolean\");",
                  "    });",
                  "});",
                  "",
                  "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                  "    if (pm.response.code >= 400) {",
                  "        let body;",
                  "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                  "        pm.expect(body).to.be.an(\"object\");",
                  "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                  "    }",
                  "});"
                ],
                "_lastExecutionId": "d1178df8-2542-4101-8c68-7f139d867d9b"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "ba9a31a1-37f2-4549-8600-e648aa1fa79c",
                "type": "text/javascript",
                "packages": {},
                "exec": [
                  ""
                ],
                "_lastExecutionId": "fb134314-d070-47bf-8d80-d1c5b6aa46fc"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "bd515596-1c6f-4050-80ef-d2e9da663180"
          },
          "item": [
            {
              "id": "c36f6790-2c4c-44dd-b926-e805020272e6",
              "name": "List Users",
              "request": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "d3d2f8b7-9f5b-4304-8dbd-5bdbcbf13c1e",
                  "name": "Example User List",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "GET"
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"id\":1,\"name\":\"Alice\",\"email\":\"alice@example.com\"},{\"id\":2,\"name\":\"Bob\",\"email\":\"bob@example.com\"}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2a2c39aa-365b-4c21-94e5-ead21d2ab3c7",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// List Users - GET /users",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of users\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each user has id, name, and email\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(user => {",
                      "        pm.expect(user).to.have.property(\"id\");",
                      "        pm.expect(user).to.have.property(\"name\");",
                      "        pm.expect(user).to.have.property(\"email\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});",
                      "",
                      "// Extract and save user_id for workflow chaining",
                      "if (pm.response.code === 200) {",
                      "    const json = pm.response.json();",
                      "    let userId = null;",
                      "    ",
                      "    // Handle different response structures",
                      "    if (Array.isArray(json) && json.length > 0) {",
                      "        // Response is an array of users - get first user's id",
                      "        userId = json[0].id;",
                      "    } else if (json && json.users && Array.isArray(json.users) && json.users.length > 0) {",
                      "        // Response is an object with a users array",
                      "        userId = json.users[0].id;",
                      "    } else if (json && json.id) {",
                      "        // Response is a single user object",
                      "        userId = json.id;",
                      "    }",
                      "    ",
                      "    if (userId !== null && userId !== undefined) {",
                      "        pm.collectionVariables.set(\"user_id\", userId);",
                      "        console.log(\"Saved user_id to collection variable:\", userId);",
                      "    } else {",
                      "        console.warn(\"Could not extract user_id from response\");",
                      "    }",
                      "}"
                    ],
                    "_lastExecutionId": "d428eae5-cef9-425a-a2c5-1524af695dae"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "14d131a4-2690-4b11-9606-7a2a2205a905",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "1d9d1166-b551-4169-ae70-2e9f764486c4"
                  }
                }
              ]
            },
            {
              "id": "d0d5b92f-a157-4076-a273-7cd7be31e61d",
              "name": "Get User Permissions",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{user_id}}",
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "7dded541-98c0-46d8-9810-8d78ade5bb1c",
                  "name": "Sample User Permissions",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users",
                        "1",
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "GET"
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":false}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7e155480-04f2-4aac-964a-f5d55c1fafe5",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// Get User Permissions - GET /users/:userId/permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "        pm.expect(p).to.have.property(\"granted\");",
                      "        pm.expect(p.granted).to.be.a(\"boolean\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "dde87c4d-f961-4bbd-815a-36105df8f544"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "19946b3c-9780-4ec3-a692-4b89d87c319b",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "08e52a87-ceb5-4fbd-9e85-99e44a7c9d07"
                  }
                }
              ]
            },
            {
              "id": "064dcb96-31c1-45a9-aca1-75a344de354a",
              "name": "Update User Permissions",
              "request": {
                "url": {
                  "path": [
                    "users",
                    ":userId",
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": [
                    {
                      "description": {
                        "content": "The ID of the user whose permissions to update",
                        "type": "text/plain"
                      },
                      "type": "any",
                      "value": "1",
                      "key": "userId"
                    }
                  ]
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "66c5dc51-c86b-4015-84c1-77383a8b3494",
                  "name": "Permissions Updated",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users",
                        "1",
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      }
                    ],
                    "method": "PUT",
                    "body": {
                      "mode": "raw",
                      "raw": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]"
                    }
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f35e1b77-cd87-4700-aaa6-b1f125852c6d",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// Update User Permissions - PUT /users/:userId/permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "        pm.expect(p).to.have.property(\"granted\");",
                      "        pm.expect(p.granted).to.be.a(\"boolean\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "cd9eaded-03dc-4ba2-bbe1-ecbbd752e908"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "fa4695aa-a5bf-46d4-9b88-e6595d9cf764",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "579f1a0d-51f4-49d8-b853-dfa1f58d4d3f"
                  }
                }
              ]
            },
            {
              "id": "d9aa22ec-bffa-4257-be24-c73fb5d7341a",
              "name": "List Permissions",
              "request": {
                "url": {
                  "path": [
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "f0bb0294-1f38-497a-baec-e50eb63f8b69",
                  "name": "Permission Types",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "GET"
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"permission\":\"read\"},{\"permission\":\"write\"},{\"permission\":\"admin\"}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "fbe4ce27-58ea-4d40-9ee5-11477360e2b0",
                    "type": "text/javascript",
                    "exec": [
                      "// List Permissions - GET /permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "e622739d-4d1d-4379-b644-971fdb74f95e"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "ed435988-d76f-42bb-ac0a-0cf4ca6dd622",
                    "type": "text/javascript",
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "8b7f04b3-5142-417e-9d63-9f74c72f181e"
                  }
                }
              ]
            },
            {
              "id": "b7655962-6be3-4b61-83b0-4afee7de803e",
              "name": "Grant User Permission",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{user_id}}",
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\"permission\":\"admin\",\"granted\":true}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "1ec67290-915c-46b5-a859-feab0f54ec0b",
                  "name": "Permission Granted",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users",
                        "2",
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      }
                    ],
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\"permission\":\"admin\",\"granted\":true}"
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [],
                  "body": "[{\"permission\":\"admin\",\"granted\":true}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d2ecd5b4-0083-4263-bc79-d229274f38f9",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// Grant User Permission - POST /users/:userId/permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "        pm.expect(p).to.have.property(\"granted\");",
                      "        pm.expect(p.granted).to.be.a(\"boolean\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "d1178df8-2542-4101-8c68-7f139d867d9b"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "ba9a31a1-37f2-4549-8600-e648aa1fa79c",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "fb134314-d070-47bf-8d80-d1c5b6aa46fc"
                  }
                }
              ]
            },
            {
              "id": "0c92e2d2-f4e4-420d-963f-0bbd97e21ef2",
              "name": "Delete Users",
              "request": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": []
            }
          ],
          "event": [],
          "variable": [
            {
              "id": "4cbe099e-b4e5-40a9-a2aa-7332e1a9c92d",
              "type": "any",
              "value": "https://api.example.com",
              "key": "baseUrl"
            },
            {
              "id": "61d8da22-e8dd-4f50-bf45-a0df1e74e6c6",
              "type": "any",
              "value": "https://api.example.com",
              "key": "baseURL"
            },
            {
              "id": "d9cf6d13-1a56-4aa6-90e1-779d0f4bd96e",
              "type": "any",
              "value": "1",
              "key": "user_id"
            }
          ],
          "info": {
            "_postman_id": "bd515596-1c6f-4050-80ef-d2e9da663180",
            "name": "User Permissions API",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "# User Permissions API\n\n## Overview\nThe User Permissions API provides endpoints to manage users and their permissions within your application. It allows you to list users, retrieve and update their permissions, and manage available permission types. This API is ideal for applications that require fine-grained access control and user management.\n\n## Base URL\n```\n{{baseUrl}}\n```\nSet the `baseUrl` variable in your Postman environment or collection variables to point to your API server (e.g., `https://api.example.com`).\n\n## Authentication\nThis API typically requires authentication (e.g., Bearer token or API key) to access protected endpoints. Add the appropriate `Authorization` header to your requests:\n```\nAuthorization: Bearer <your_token>\n```\n_If your implementation differs, update the authentication method accordingly._\n\n## Endpoints\n\n### 1. List Users\n- **Endpoint:** `GET /users`\n- **Description:** Retrieves a list of all users.\n- **Request Example:**\n  ```http\n  GET {{baseUrl}}/users\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"id\": 1, \"name\": \"Alice\", \"email\": \"alice@example.com\"},\n    {\"id\": 2, \"name\": \"Bob\", \"email\": \"bob@example.com\"}\n  ]\n  ```\n\n### 2. Get User Permissions\n- **Endpoint:** `GET /users/{userId}/permissions`\n- **Description:** Retrieves the permissions assigned to a specific user.\n- **Request Example:**\n  ```http\n  GET {{baseUrl}}/users/1/permissions\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"read\", \"granted\": true},\n    {\"permission\": \"write\", \"granted\": false}\n  ]\n  ```\n\n### 3. Update User Permissions\n- **Endpoint:** `PUT /users/{userId}/permissions`\n- **Description:** Updates the permissions for a specific user. Provide an array of permission objects.\n- **Request Example:**\n  ```http\n  PUT {{baseUrl}}/users/1/permissions\n  Content-Type: application/json\n\n  [\n    {\"permission\": \"read\", \"granted\": true},\n    {\"permission\": \"write\", \"granted\": true}\n  ]\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"read\", \"granted\": true},\n    {\"permission\": \"write\", \"granted\": true}\n  ]\n  ```\n\n### 4. List Permissions\n- **Endpoint:** `GET /permissions`\n- **Description:** Lists all available permission types in the system.\n- **Request Example:**\n  ```http\n  GET {{baseUrl}}/permissions\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"read\"},\n    {\"permission\": \"write\"},\n    {\"permission\": \"admin\"}\n  ]\n  ```\n\n### 5. Grant User Permission\n- **Endpoint:** `POST /users/{userId}/permissions`\n- **Description:** Grants a specific permission to a user. Provide the permission object in the request body.\n- **Request Example:**\n  ```http\n  POST {{baseUrl}}/users/2/permissions\n  Content-Type: application/json\n\n  {\"permission\": \"admin\", \"granted\": true}\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"admin\", \"granted\": true}\n  ]\n  ```\n\n## Error Handling\n- **400 Bad Request:** Invalid input or missing required fields.\n- **401 Unauthorized:** Authentication failed or missing credentials.\n- **403 Forbidden:** Insufficient permissions to perform the operation.\n- **404 Not Found:** Resource does not exist (e.g., user or permission not found).\n- **500 Internal Server Error:** Unexpected server error.\n\nError responses typically include a JSON object with an `error` or `message` field describing the issue:\n```json\n{\n  \"error\": \"Invalid user ID.\"\n}\n```\n\n## Additional Notes\n- All endpoints return JSON responses.\n- Ensure you set the `baseUrl` variable before making requests.\n- For further details, refer to individual request documentation and examples in this collection.\n",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "e895a8f4-861a-484a-b9c7-537c87db36fd",
          "length": 6,
          "cycles": 1,
          "position": 4,
          "iteration": 0,
          "httpRequestId": "95645ba4-98bc-44b1-ba32-2db493e91006",
          "scriptId": "d2ecd5b4-0083-4263-bc79-d229274f38f9",
          "execution": "d1178df8-2542-4101-8c68-7f139d867d9b"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 1,
          "test": "Response is an array of permissions",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:2:5)",
          "checksum": "85d85d81aae097685ee03c11b827399d",
          "id": "877caff3-f25d-46e0-8c2b-e8b873430097",
          "timestamp": 1767648245526,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 5,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "b7655962-6be3-4b61-83b0-4afee7de803e",
          "name": "Grant User Permission",
          "request": {
            "url": {
              "path": [
                "users",
                "{{user_id}}",
                "permissions"
              ],
              "host": [
                "{{baseURL}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\"permission\":\"admin\",\"granted\":true}"
            }
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
              "id": "1ec67290-915c-46b5-a859-feab0f54ec0b",
              "name": "Permission Granted",
              "originalRequest": {
                "url": {
                  "path": [
                    "users",
                    "2",
                    "permissions"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\"permission\":\"admin\",\"granted\":true}"
                }
              },
              "status": "Created",
              "code": 201,
              "header": [],
              "body": "[{\"permission\":\"admin\",\"granted\":true}]",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "d2ecd5b4-0083-4263-bc79-d229274f38f9",
                "type": "text/javascript",
                "packages": {},
                "exec": [
                  "// Grant User Permission - POST /users/:userId/permissions",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response is an array of permissions\", function () {",
                  "    const json = pm.response.json();",
                  "    pm.expect(Array.isArray(json)).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                  "    const json = pm.response.json();",
                  "    json.forEach(p => {",
                  "        pm.expect(p).to.have.property(\"permission\");",
                  "        pm.expect(p).to.have.property(\"granted\");",
                  "        pm.expect(p.granted).to.be.a(\"boolean\");",
                  "    });",
                  "});",
                  "",
                  "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                  "    if (pm.response.code >= 400) {",
                  "        let body;",
                  "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                  "        pm.expect(body).to.be.an(\"object\");",
                  "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                  "    }",
                  "});"
                ],
                "_lastExecutionId": "d1178df8-2542-4101-8c68-7f139d867d9b"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "ba9a31a1-37f2-4549-8600-e648aa1fa79c",
                "type": "text/javascript",
                "packages": {},
                "exec": [
                  ""
                ],
                "_lastExecutionId": "fb134314-d070-47bf-8d80-d1c5b6aa46fc"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "bd515596-1c6f-4050-80ef-d2e9da663180"
          },
          "item": [
            {
              "id": "c36f6790-2c4c-44dd-b926-e805020272e6",
              "name": "List Users",
              "request": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "d3d2f8b7-9f5b-4304-8dbd-5bdbcbf13c1e",
                  "name": "Example User List",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "GET"
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"id\":1,\"name\":\"Alice\",\"email\":\"alice@example.com\"},{\"id\":2,\"name\":\"Bob\",\"email\":\"bob@example.com\"}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2a2c39aa-365b-4c21-94e5-ead21d2ab3c7",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// List Users - GET /users",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of users\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each user has id, name, and email\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(user => {",
                      "        pm.expect(user).to.have.property(\"id\");",
                      "        pm.expect(user).to.have.property(\"name\");",
                      "        pm.expect(user).to.have.property(\"email\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});",
                      "",
                      "// Extract and save user_id for workflow chaining",
                      "if (pm.response.code === 200) {",
                      "    const json = pm.response.json();",
                      "    let userId = null;",
                      "    ",
                      "    // Handle different response structures",
                      "    if (Array.isArray(json) && json.length > 0) {",
                      "        // Response is an array of users - get first user's id",
                      "        userId = json[0].id;",
                      "    } else if (json && json.users && Array.isArray(json.users) && json.users.length > 0) {",
                      "        // Response is an object with a users array",
                      "        userId = json.users[0].id;",
                      "    } else if (json && json.id) {",
                      "        // Response is a single user object",
                      "        userId = json.id;",
                      "    }",
                      "    ",
                      "    if (userId !== null && userId !== undefined) {",
                      "        pm.collectionVariables.set(\"user_id\", userId);",
                      "        console.log(\"Saved user_id to collection variable:\", userId);",
                      "    } else {",
                      "        console.warn(\"Could not extract user_id from response\");",
                      "    }",
                      "}"
                    ],
                    "_lastExecutionId": "d428eae5-cef9-425a-a2c5-1524af695dae"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "14d131a4-2690-4b11-9606-7a2a2205a905",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "1d9d1166-b551-4169-ae70-2e9f764486c4"
                  }
                }
              ]
            },
            {
              "id": "d0d5b92f-a157-4076-a273-7cd7be31e61d",
              "name": "Get User Permissions",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{user_id}}",
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "7dded541-98c0-46d8-9810-8d78ade5bb1c",
                  "name": "Sample User Permissions",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users",
                        "1",
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "GET"
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":false}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7e155480-04f2-4aac-964a-f5d55c1fafe5",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// Get User Permissions - GET /users/:userId/permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "        pm.expect(p).to.have.property(\"granted\");",
                      "        pm.expect(p.granted).to.be.a(\"boolean\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "dde87c4d-f961-4bbd-815a-36105df8f544"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "19946b3c-9780-4ec3-a692-4b89d87c319b",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "08e52a87-ceb5-4fbd-9e85-99e44a7c9d07"
                  }
                }
              ]
            },
            {
              "id": "064dcb96-31c1-45a9-aca1-75a344de354a",
              "name": "Update User Permissions",
              "request": {
                "url": {
                  "path": [
                    "users",
                    ":userId",
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": [
                    {
                      "description": {
                        "content": "The ID of the user whose permissions to update",
                        "type": "text/plain"
                      },
                      "type": "any",
                      "value": "1",
                      "key": "userId"
                    }
                  ]
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "66c5dc51-c86b-4015-84c1-77383a8b3494",
                  "name": "Permissions Updated",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users",
                        "1",
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      }
                    ],
                    "method": "PUT",
                    "body": {
                      "mode": "raw",
                      "raw": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]"
                    }
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f35e1b77-cd87-4700-aaa6-b1f125852c6d",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// Update User Permissions - PUT /users/:userId/permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "        pm.expect(p).to.have.property(\"granted\");",
                      "        pm.expect(p.granted).to.be.a(\"boolean\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "cd9eaded-03dc-4ba2-bbe1-ecbbd752e908"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "fa4695aa-a5bf-46d4-9b88-e6595d9cf764",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "579f1a0d-51f4-49d8-b853-dfa1f58d4d3f"
                  }
                }
              ]
            },
            {
              "id": "d9aa22ec-bffa-4257-be24-c73fb5d7341a",
              "name": "List Permissions",
              "request": {
                "url": {
                  "path": [
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "f0bb0294-1f38-497a-baec-e50eb63f8b69",
                  "name": "Permission Types",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "GET"
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"permission\":\"read\"},{\"permission\":\"write\"},{\"permission\":\"admin\"}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "fbe4ce27-58ea-4d40-9ee5-11477360e2b0",
                    "type": "text/javascript",
                    "exec": [
                      "// List Permissions - GET /permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "e622739d-4d1d-4379-b644-971fdb74f95e"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "ed435988-d76f-42bb-ac0a-0cf4ca6dd622",
                    "type": "text/javascript",
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "8b7f04b3-5142-417e-9d63-9f74c72f181e"
                  }
                }
              ]
            },
            {
              "id": "b7655962-6be3-4b61-83b0-4afee7de803e",
              "name": "Grant User Permission",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{user_id}}",
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\"permission\":\"admin\",\"granted\":true}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "1ec67290-915c-46b5-a859-feab0f54ec0b",
                  "name": "Permission Granted",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users",
                        "2",
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      }
                    ],
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\"permission\":\"admin\",\"granted\":true}"
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [],
                  "body": "[{\"permission\":\"admin\",\"granted\":true}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d2ecd5b4-0083-4263-bc79-d229274f38f9",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// Grant User Permission - POST /users/:userId/permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "        pm.expect(p).to.have.property(\"granted\");",
                      "        pm.expect(p.granted).to.be.a(\"boolean\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "d1178df8-2542-4101-8c68-7f139d867d9b"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "ba9a31a1-37f2-4549-8600-e648aa1fa79c",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "fb134314-d070-47bf-8d80-d1c5b6aa46fc"
                  }
                }
              ]
            },
            {
              "id": "0c92e2d2-f4e4-420d-963f-0bbd97e21ef2",
              "name": "Delete Users",
              "request": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": []
            }
          ],
          "event": [],
          "variable": [
            {
              "id": "4cbe099e-b4e5-40a9-a2aa-7332e1a9c92d",
              "type": "any",
              "value": "https://api.example.com",
              "key": "baseUrl"
            },
            {
              "id": "61d8da22-e8dd-4f50-bf45-a0df1e74e6c6",
              "type": "any",
              "value": "https://api.example.com",
              "key": "baseURL"
            },
            {
              "id": "d9cf6d13-1a56-4aa6-90e1-779d0f4bd96e",
              "type": "any",
              "value": "1",
              "key": "user_id"
            }
          ],
          "info": {
            "_postman_id": "bd515596-1c6f-4050-80ef-d2e9da663180",
            "name": "User Permissions API",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "# User Permissions API\n\n## Overview\nThe User Permissions API provides endpoints to manage users and their permissions within your application. It allows you to list users, retrieve and update their permissions, and manage available permission types. This API is ideal for applications that require fine-grained access control and user management.\n\n## Base URL\n```\n{{baseUrl}}\n```\nSet the `baseUrl` variable in your Postman environment or collection variables to point to your API server (e.g., `https://api.example.com`).\n\n## Authentication\nThis API typically requires authentication (e.g., Bearer token or API key) to access protected endpoints. Add the appropriate `Authorization` header to your requests:\n```\nAuthorization: Bearer <your_token>\n```\n_If your implementation differs, update the authentication method accordingly._\n\n## Endpoints\n\n### 1. List Users\n- **Endpoint:** `GET /users`\n- **Description:** Retrieves a list of all users.\n- **Request Example:**\n  ```http\n  GET {{baseUrl}}/users\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"id\": 1, \"name\": \"Alice\", \"email\": \"alice@example.com\"},\n    {\"id\": 2, \"name\": \"Bob\", \"email\": \"bob@example.com\"}\n  ]\n  ```\n\n### 2. Get User Permissions\n- **Endpoint:** `GET /users/{userId}/permissions`\n- **Description:** Retrieves the permissions assigned to a specific user.\n- **Request Example:**\n  ```http\n  GET {{baseUrl}}/users/1/permissions\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"read\", \"granted\": true},\n    {\"permission\": \"write\", \"granted\": false}\n  ]\n  ```\n\n### 3. Update User Permissions\n- **Endpoint:** `PUT /users/{userId}/permissions`\n- **Description:** Updates the permissions for a specific user. Provide an array of permission objects.\n- **Request Example:**\n  ```http\n  PUT {{baseUrl}}/users/1/permissions\n  Content-Type: application/json\n\n  [\n    {\"permission\": \"read\", \"granted\": true},\n    {\"permission\": \"write\", \"granted\": true}\n  ]\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"read\", \"granted\": true},\n    {\"permission\": \"write\", \"granted\": true}\n  ]\n  ```\n\n### 4. List Permissions\n- **Endpoint:** `GET /permissions`\n- **Description:** Lists all available permission types in the system.\n- **Request Example:**\n  ```http\n  GET {{baseUrl}}/permissions\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"read\"},\n    {\"permission\": \"write\"},\n    {\"permission\": \"admin\"}\n  ]\n  ```\n\n### 5. Grant User Permission\n- **Endpoint:** `POST /users/{userId}/permissions`\n- **Description:** Grants a specific permission to a user. Provide the permission object in the request body.\n- **Request Example:**\n  ```http\n  POST {{baseUrl}}/users/2/permissions\n  Content-Type: application/json\n\n  {\"permission\": \"admin\", \"granted\": true}\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"admin\", \"granted\": true}\n  ]\n  ```\n\n## Error Handling\n- **400 Bad Request:** Invalid input or missing required fields.\n- **401 Unauthorized:** Authentication failed or missing credentials.\n- **403 Forbidden:** Insufficient permissions to perform the operation.\n- **404 Not Found:** Resource does not exist (e.g., user or permission not found).\n- **500 Internal Server Error:** Unexpected server error.\n\nError responses typically include a JSON object with an `error` or `message` field describing the issue:\n```json\n{\n  \"error\": \"Invalid user ID.\"\n}\n```\n\n## Additional Notes\n- All endpoints return JSON responses.\n- Ensure you set the `baseUrl` variable before making requests.\n- For further details, refer to individual request documentation and examples in this collection.\n",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "e895a8f4-861a-484a-b9c7-537c87db36fd",
          "length": 6,
          "cycles": 1,
          "position": 4,
          "iteration": 0,
          "httpRequestId": "95645ba4-98bc-44b1-ba32-2db493e91006",
          "scriptId": "d2ecd5b4-0083-4263-bc79-d229274f38f9",
          "execution": "d1178df8-2542-4101-8c68-7f139d867d9b"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 2,
          "test": "Each permission object has 'permission' and 'granted'",
          "message": "\"undefined\" is not valid JSON",
          "stack": "JSONError: \"undefined\" is not valid JSON\n   at Object.eval sandbox-script.js:3:5)",
          "checksum": "ef1f2b35b1b96176ecce9d7a3b98d9ef",
          "id": "6d75b3ca-79f8-4ecc-b598-0ec5ca522700",
          "timestamp": 1767648245527,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 3,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 5,
              "native": false
            }
          ]
        },
        "at": "assertion:2 in test-script",
        "source": {
          "id": "b7655962-6be3-4b61-83b0-4afee7de803e",
          "name": "Grant User Permission",
          "request": {
            "url": {
              "path": [
                "users",
                "{{user_id}}",
                "permissions"
              ],
              "host": [
                "{{baseURL}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\"permission\":\"admin\",\"granted\":true}"
            }
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
              "id": "1ec67290-915c-46b5-a859-feab0f54ec0b",
              "name": "Permission Granted",
              "originalRequest": {
                "url": {
                  "path": [
                    "users",
                    "2",
                    "permissions"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\"permission\":\"admin\",\"granted\":true}"
                }
              },
              "status": "Created",
              "code": 201,
              "header": [],
              "body": "[{\"permission\":\"admin\",\"granted\":true}]",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "d2ecd5b4-0083-4263-bc79-d229274f38f9",
                "type": "text/javascript",
                "packages": {},
                "exec": [
                  "// Grant User Permission - POST /users/:userId/permissions",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response is an array of permissions\", function () {",
                  "    const json = pm.response.json();",
                  "    pm.expect(Array.isArray(json)).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                  "    const json = pm.response.json();",
                  "    json.forEach(p => {",
                  "        pm.expect(p).to.have.property(\"permission\");",
                  "        pm.expect(p).to.have.property(\"granted\");",
                  "        pm.expect(p.granted).to.be.a(\"boolean\");",
                  "    });",
                  "});",
                  "",
                  "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                  "    if (pm.response.code >= 400) {",
                  "        let body;",
                  "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                  "        pm.expect(body).to.be.an(\"object\");",
                  "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                  "    }",
                  "});"
                ],
                "_lastExecutionId": "d1178df8-2542-4101-8c68-7f139d867d9b"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "ba9a31a1-37f2-4549-8600-e648aa1fa79c",
                "type": "text/javascript",
                "packages": {},
                "exec": [
                  ""
                ],
                "_lastExecutionId": "fb134314-d070-47bf-8d80-d1c5b6aa46fc"
              }
            }
          ]
        },
        "parent": {
          "_": {
            "postman_id": "bd515596-1c6f-4050-80ef-d2e9da663180"
          },
          "item": [
            {
              "id": "c36f6790-2c4c-44dd-b926-e805020272e6",
              "name": "List Users",
              "request": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "d3d2f8b7-9f5b-4304-8dbd-5bdbcbf13c1e",
                  "name": "Example User List",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "GET"
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"id\":1,\"name\":\"Alice\",\"email\":\"alice@example.com\"},{\"id\":2,\"name\":\"Bob\",\"email\":\"bob@example.com\"}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2a2c39aa-365b-4c21-94e5-ead21d2ab3c7",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// List Users - GET /users",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of users\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each user has id, name, and email\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(user => {",
                      "        pm.expect(user).to.have.property(\"id\");",
                      "        pm.expect(user).to.have.property(\"name\");",
                      "        pm.expect(user).to.have.property(\"email\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});",
                      "",
                      "// Extract and save user_id for workflow chaining",
                      "if (pm.response.code === 200) {",
                      "    const json = pm.response.json();",
                      "    let userId = null;",
                      "    ",
                      "    // Handle different response structures",
                      "    if (Array.isArray(json) && json.length > 0) {",
                      "        // Response is an array of users - get first user's id",
                      "        userId = json[0].id;",
                      "    } else if (json && json.users && Array.isArray(json.users) && json.users.length > 0) {",
                      "        // Response is an object with a users array",
                      "        userId = json.users[0].id;",
                      "    } else if (json && json.id) {",
                      "        // Response is a single user object",
                      "        userId = json.id;",
                      "    }",
                      "    ",
                      "    if (userId !== null && userId !== undefined) {",
                      "        pm.collectionVariables.set(\"user_id\", userId);",
                      "        console.log(\"Saved user_id to collection variable:\", userId);",
                      "    } else {",
                      "        console.warn(\"Could not extract user_id from response\");",
                      "    }",
                      "}"
                    ],
                    "_lastExecutionId": "d428eae5-cef9-425a-a2c5-1524af695dae"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "14d131a4-2690-4b11-9606-7a2a2205a905",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "1d9d1166-b551-4169-ae70-2e9f764486c4"
                  }
                }
              ]
            },
            {
              "id": "d0d5b92f-a157-4076-a273-7cd7be31e61d",
              "name": "Get User Permissions",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{user_id}}",
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "7dded541-98c0-46d8-9810-8d78ade5bb1c",
                  "name": "Sample User Permissions",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users",
                        "1",
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "GET"
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":false}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "7e155480-04f2-4aac-964a-f5d55c1fafe5",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// Get User Permissions - GET /users/:userId/permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "        pm.expect(p).to.have.property(\"granted\");",
                      "        pm.expect(p.granted).to.be.a(\"boolean\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "dde87c4d-f961-4bbd-815a-36105df8f544"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "19946b3c-9780-4ec3-a692-4b89d87c319b",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "08e52a87-ceb5-4fbd-9e85-99e44a7c9d07"
                  }
                }
              ]
            },
            {
              "id": "064dcb96-31c1-45a9-aca1-75a344de354a",
              "name": "Update User Permissions",
              "request": {
                "url": {
                  "path": [
                    "users",
                    ":userId",
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": [
                    {
                      "description": {
                        "content": "The ID of the user whose permissions to update",
                        "type": "text/plain"
                      },
                      "type": "any",
                      "value": "1",
                      "key": "userId"
                    }
                  ]
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "66c5dc51-c86b-4015-84c1-77383a8b3494",
                  "name": "Permissions Updated",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users",
                        "1",
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      }
                    ],
                    "method": "PUT",
                    "body": {
                      "mode": "raw",
                      "raw": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]"
                    }
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"permission\":\"read\",\"granted\":true},{\"permission\":\"write\",\"granted\":true}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f35e1b77-cd87-4700-aaa6-b1f125852c6d",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// Update User Permissions - PUT /users/:userId/permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "        pm.expect(p).to.have.property(\"granted\");",
                      "        pm.expect(p.granted).to.be.a(\"boolean\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "cd9eaded-03dc-4ba2-bbe1-ecbbd752e908"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "fa4695aa-a5bf-46d4-9b88-e6595d9cf764",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "579f1a0d-51f4-49d8-b853-dfa1f58d4d3f"
                  }
                }
              ]
            },
            {
              "id": "d9aa22ec-bffa-4257-be24-c73fb5d7341a",
              "name": "List Permissions",
              "request": {
                "url": {
                  "path": [
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "GET"
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "f0bb0294-1f38-497a-baec-e50eb63f8b69",
                  "name": "Permission Types",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "method": "GET"
                  },
                  "status": "OK",
                  "code": 200,
                  "header": [],
                  "body": "[{\"permission\":\"read\"},{\"permission\":\"write\"},{\"permission\":\"admin\"}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "fbe4ce27-58ea-4d40-9ee5-11477360e2b0",
                    "type": "text/javascript",
                    "exec": [
                      "// List Permissions - GET /permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "e622739d-4d1d-4379-b644-971fdb74f95e"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "ed435988-d76f-42bb-ac0a-0cf4ca6dd622",
                    "type": "text/javascript",
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "8b7f04b3-5142-417e-9d63-9f74c72f181e"
                  }
                }
              ]
            },
            {
              "id": "b7655962-6be3-4b61-83b0-4afee7de803e",
              "name": "Grant User Permission",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{user_id}}",
                    "permissions"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\"permission\":\"admin\",\"granted\":true}"
                }
              },
              "response": [
                {
                  "_": {
                    "postman_previewlanguage": "json"
                  },
                  "id": "1ec67290-915c-46b5-a859-feab0f54ec0b",
                  "name": "Permission Granted",
                  "originalRequest": {
                    "url": {
                      "path": [
                        "users",
                        "2",
                        "permissions"
                      ],
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "query": [],
                      "variable": []
                    },
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      }
                    ],
                    "method": "POST",
                    "body": {
                      "mode": "raw",
                      "raw": "{\"permission\":\"admin\",\"granted\":true}"
                    }
                  },
                  "status": "Created",
                  "code": 201,
                  "header": [],
                  "body": "[{\"permission\":\"admin\",\"granted\":true}]",
                  "cookie": []
                }
              ],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d2ecd5b4-0083-4263-bc79-d229274f38f9",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      "// Grant User Permission - POST /users/:userId/permissions",
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response is an array of permissions\", function () {",
                      "    const json = pm.response.json();",
                      "    pm.expect(Array.isArray(json)).to.be.true;",
                      "});",
                      "",
                      "pm.test(\"Each permission object has 'permission' and 'granted'\", function () {",
                      "    const json = pm.response.json();",
                      "    json.forEach(p => {",
                      "        pm.expect(p).to.have.property(\"permission\");",
                      "        pm.expect(p).to.have.property(\"granted\");",
                      "        pm.expect(p.granted).to.be.a(\"boolean\");",
                      "    });",
                      "});",
                      "",
                      "pm.test(\"Handles 4xx/5xx errors with error/message field\", function () {",
                      "    if (pm.response.code >= 400) {",
                      "        let body;",
                      "        try { body = pm.response.json(); } catch (e) { body = {}; }",
                      "        pm.expect(body).to.be.an(\"object\");",
                      "        pm.expect(body).to.have.any.keys(\"error\", \"message\");",
                      "    }",
                      "});"
                    ],
                    "_lastExecutionId": "d1178df8-2542-4101-8c68-7f139d867d9b"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "ba9a31a1-37f2-4549-8600-e648aa1fa79c",
                    "type": "text/javascript",
                    "packages": {},
                    "exec": [
                      ""
                    ],
                    "_lastExecutionId": "fb134314-d070-47bf-8d80-d1c5b6aa46fc"
                  }
                }
              ]
            },
            {
              "id": "0c92e2d2-f4e4-420d-963f-0bbd97e21ef2",
              "name": "Delete Users",
              "request": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{baseURL}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "method": "DELETE"
              },
              "response": [],
              "event": []
            }
          ],
          "event": [],
          "variable": [
            {
              "id": "4cbe099e-b4e5-40a9-a2aa-7332e1a9c92d",
              "type": "any",
              "value": "https://api.example.com",
              "key": "baseUrl"
            },
            {
              "id": "61d8da22-e8dd-4f50-bf45-a0df1e74e6c6",
              "type": "any",
              "value": "https://api.example.com",
              "key": "baseURL"
            },
            {
              "id": "d9cf6d13-1a56-4aa6-90e1-779d0f4bd96e",
              "type": "any",
              "value": "1",
              "key": "user_id"
            }
          ],
          "info": {
            "_postman_id": "bd515596-1c6f-4050-80ef-d2e9da663180",
            "name": "User Permissions API",
            "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
            "description": {
              "content": "# User Permissions API\n\n## Overview\nThe User Permissions API provides endpoints to manage users and their permissions within your application. It allows you to list users, retrieve and update their permissions, and manage available permission types. This API is ideal for applications that require fine-grained access control and user management.\n\n## Base URL\n```\n{{baseUrl}}\n```\nSet the `baseUrl` variable in your Postman environment or collection variables to point to your API server (e.g., `https://api.example.com`).\n\n## Authentication\nThis API typically requires authentication (e.g., Bearer token or API key) to access protected endpoints. Add the appropriate `Authorization` header to your requests:\n```\nAuthorization: Bearer <your_token>\n```\n_If your implementation differs, update the authentication method accordingly._\n\n## Endpoints\n\n### 1. List Users\n- **Endpoint:** `GET /users`\n- **Description:** Retrieves a list of all users.\n- **Request Example:**\n  ```http\n  GET {{baseUrl}}/users\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"id\": 1, \"name\": \"Alice\", \"email\": \"alice@example.com\"},\n    {\"id\": 2, \"name\": \"Bob\", \"email\": \"bob@example.com\"}\n  ]\n  ```\n\n### 2. Get User Permissions\n- **Endpoint:** `GET /users/{userId}/permissions`\n- **Description:** Retrieves the permissions assigned to a specific user.\n- **Request Example:**\n  ```http\n  GET {{baseUrl}}/users/1/permissions\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"read\", \"granted\": true},\n    {\"permission\": \"write\", \"granted\": false}\n  ]\n  ```\n\n### 3. Update User Permissions\n- **Endpoint:** `PUT /users/{userId}/permissions`\n- **Description:** Updates the permissions for a specific user. Provide an array of permission objects.\n- **Request Example:**\n  ```http\n  PUT {{baseUrl}}/users/1/permissions\n  Content-Type: application/json\n\n  [\n    {\"permission\": \"read\", \"granted\": true},\n    {\"permission\": \"write\", \"granted\": true}\n  ]\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"read\", \"granted\": true},\n    {\"permission\": \"write\", \"granted\": true}\n  ]\n  ```\n\n### 4. List Permissions\n- **Endpoint:** `GET /permissions`\n- **Description:** Lists all available permission types in the system.\n- **Request Example:**\n  ```http\n  GET {{baseUrl}}/permissions\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"read\"},\n    {\"permission\": \"write\"},\n    {\"permission\": \"admin\"}\n  ]\n  ```\n\n### 5. Grant User Permission\n- **Endpoint:** `POST /users/{userId}/permissions`\n- **Description:** Grants a specific permission to a user. Provide the permission object in the request body.\n- **Request Example:**\n  ```http\n  POST {{baseUrl}}/users/2/permissions\n  Content-Type: application/json\n\n  {\"permission\": \"admin\", \"granted\": true}\n  ```\n- **Response Example:**\n  ```json\n  [\n    {\"permission\": \"admin\", \"granted\": true}\n  ]\n  ```\n\n## Error Handling\n- **400 Bad Request:** Invalid input or missing required fields.\n- **401 Unauthorized:** Authentication failed or missing credentials.\n- **403 Forbidden:** Insufficient permissions to perform the operation.\n- **404 Not Found:** Resource does not exist (e.g., user or permission not found).\n- **500 Internal Server Error:** Unexpected server error.\n\nError responses typically include a JSON object with an `error` or `message` field describing the issue:\n```json\n{\n  \"error\": \"Invalid user ID.\"\n}\n```\n\n## Additional Notes\n- All endpoints return JSON responses.\n- Ensure you set the `baseUrl` variable before making requests.\n- For further details, refer to individual request documentation and examples in this collection.\n",
              "type": "text/plain"
            }
          }
        },
        "cursor": {
          "ref": "e895a8f4-861a-484a-b9c7-537c87db36fd",
          "length": 6,
          "cycles": 1,
          "position": 4,
          "iteration": 0,
          "httpRequestId": "95645ba4-98bc-44b1-ba32-2db493e91006",
          "scriptId": "d2ecd5b4-0083-4263-bc79-d229274f38f9",
          "execution": "d1178df8-2542-4101-8c68-7f139d867d9b"
        }
      },
      {
        "error": {
          "errno": -3008,
          "code": "ENOTFOUND",
          "syscall": "getaddrinfo",
          "hostname": "api.example.com",
          "name": "Error",
          "message": "getaddrinfo ENOTFOUND api.example.com",
          "stack": "Error: getaddrinfo ENOTFOUND api.example.com\n    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)",
          "checksum": "e6d98f61253e2bdc0f589410c34739e0",
          "id": "0904fb6f-1e26-4b9d-b79b-17719c812a8d",
          "timestamp": 1767648245535,
          "stacktrace": [
            {
              "fileName": "node:dns",
              "lineNumber": 122,
              "functionName": "GetAddrInfoReqWrap.onlookupall [as oncomplete]",
              "typeName": "GetAddrInfoReqWrap",
              "methodName": "onlookupall [as oncomplete]",
              "columnNumber": 26,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "0c92e2d2-f4e4-420d-963f-0bbd97e21ef2",
          "name": "Delete Users",
          "request": {
            "url": {
              "protocol": "https",
              "path": [
                "users"
              ],
              "host": [
                "api",
                "example",
                "com"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "a850bc3f-9e06-414b-a3b1-b003072f0583",
                "system": true
              },
              {
                "key": "Host",
                "value": "api.example.com",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "DELETE"
          },
          "response": [],
          "event": []
        },
        "cursor": {
          "ref": "a8be3dab-1988-4c70-ad9c-1b0cd551fd0d",
          "length": 6,
          "cycles": 1,
          "position": 5,
          "iteration": 0,
          "httpRequestId": "aea9eb79-8f1b-4dd8-a84d-a3aec2c53e49"
        }
      }
    ],
    "error": null
  }
}